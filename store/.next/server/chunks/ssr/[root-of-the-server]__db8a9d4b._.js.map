{"version":3,"sources":["../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/api/serversideaction/productdetail.js","../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/utilities/globalFunctions.js","../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/Seller/SellerDetail/index.jsx/__nextjs-internal-proxy.mjs","../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/app/shop/%5Bname%5D/page.js"],"sourcesContent":["import axiosInstance from \"../interceptor\";\n//productlist api\nexport const getbuyerproduct = async (name, offset) => {\n  const data = await axiosInstance.get(\n    `list/custom-product-list?categorySlug=${name}&limit=10&offset=${offset}`,\n  );\n  return data?.data;\n};\n\n//product count\nexport const getbuyerproductcount = async (name) => {\n  const data = await axiosInstance.get(\n    `list/custom-product-list?categorySlug=${name}&count=1`,\n  );\n  return data?.data;\n};\n\n//seller detail api\nexport const getsellerdetailapi = async (name) => {\n  const result = await axiosInstance.get(`vendor-store/vendor-details/${name}`);\n  return result?.data;\n};\n\n//seller product api\nexport const getsellerproductapi = async (name) => {\n  const result = await axiosInstance.get(\n    `vendor-store/vendor-product-list?limit=0&offset=0&count=0&categorySlug=&displayNameUrl=${name}`,\n  );\n  return result?.data;\n};\n\n//product detail api\nexport const getsingleproduct = async (slug) => {\n  const data = await axiosInstance.get(`product-store/productdetail/${slug}`);\n  return data?.data;\n};\n\n//seo detail api\nexport const getmetaData = async (slug) => {\n  const data = await axiosInstance.get(`seo/product/${slug}`);\n  return data?.data;\n};\n\n//productfilter\nexport const getfilter = async (categorySlug, offset) => {\n  const data = await axiosInstance.get(`site-filter/${categorySlug}`);\n  return data?.data;\n};\n\nexport const getProductSeo = async (slug) => {\n  const data = await axiosInstance.get(`seo/category/${slug}`);\n  return data?.data;\n};\n\nexport const WidgetDetailList = async (slug) => {\n  const result = await axiosInstance.get(`list/widget-detail/${slug}?limit=1&offset=0`);\n  return result?.data;\n};\n","export function getReplacedDescriptionValue(description) {\n  if (typeof window !== \"undefined\") {\n    const decodeHtmlEntities = (str) => {\n      const txt = document.createElement(\"textarea\");\n      txt.innerHTML = str;\n      return txt.value;\n    };\n\n    const sanitizedDescription = decodeHtmlEntities(description)\n      ?.replaceAll(\"&amp;\", \"&\")\n      .replaceAll(\"&lt;\", \"<\")\n      .replaceAll(\"&gt;\", \">\")\n      .replaceAll(\"&quot;\", '\"')\n      .replaceAll(\"&#39;\", \"'\")\n      .replaceAll(\"&sbquo;\", \"‚\")\n      .replaceAll(\"&#61;\", \"=\")\n      .replaceAll(\"&#45;\", \"-\")\n      .replaceAll(\"&hellip;\", \"…\")\n      .replaceAll(\"&commat;\", \"@\")\n      .replaceAll(\"&copy;\", \"©\")\n      .replaceAll(\"&#35;\", \"#\")\n      .replaceAll(\"&ldquo;\", \"“\")\n      .replaceAll(\"&rsquo;\", \"’\")\n      .replaceAll(\"&lsquo;\", \"‘\")\n      .replaceAll(\"&trade;\", \"™\")\n      .replaceAll(\"&reg;\", \"®\")\n      .replaceAll(\"&ndash;\", \"–\")\n      .replaceAll(\"&eacute;\", \"é\")\n      .replaceAll(\"&euro;\", \"€\")\n      .replaceAll(\"&pound;\", \"£\")\n      .replace(\"&lt;/p&gt;&amp;&#35;10;&amp;&#35;10;&lt;p&gt;\", \"\");\n\n    return sanitizedDescription;\n  }\n}\nexport const cleanText = (txt = \"\") => {\n  try {\n    if (typeof txt !== \"string\") txt = String(txt || \"\");\n\n    // Decode basic HTML entities\n    const decoded = txt\n      .replace(/&lt;?/g, \"<\")\n      .replace(/&gt;?/g, \">\")\n      .replace(/&amp;?/g, \"&\");\n\n    const cleaned = decoded\n      .replace(/<[^>]*>/g, \"\") // remove HTML tags\n      .replace(/[^\\w\\s.,-]/g, \"\") // remove special characters\n      .replace(/\\s+/g, \" \") // collapse spaces\n      .trim();\n\n    return cleaned.slice(0, 160);\n  } catch (error) {\n    console.error(\"cleanText error:\", error);\n    return \"\";\n  }\n};\n\n// ✅ Sort function for topcategories and all children\nexport function sortCategories(categories) {\n  return categories\n    ?.slice()\n    ?.sort((a, b) => {\n      if (a?.sortOrder !== b?.sortOrder) {\n        return a?.sortOrder - b?.sortOrder;\n      }\n      const nameA = a?.name?.toLowerCase() || \"\";\n      const nameB = b?.name?.toLowerCase() || \"\";\n      return nameA?.localeCompare(nameB);\n    })\n    ?.map((category) => ({\n      ...category,\n      children: category?.children ? sortCategories(category?.children) : [],\n    }));\n}\nexport const debounce = (func, delay = 500) => {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), delay);\n  };\n};\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/Seller/SellerDetail/index.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/Seller/SellerDetail/index.jsx\",\n    \"default\",\n);\n","import SellerDetail from \"@/Components/Seller/SellerDetail\";\nimport { GetToken } from \"@/utilities/cookies\";\nimport { GetAddonsList } from \"@/utilities/cookies\";\nimport { getsellerdetailapi } from \"@/api/serversideaction/productdetail\";\nimport { notFound } from \"next/navigation\";\nimport { cleanText } from \"@/utilities/globalFunctions\";\nimport createMetadata from \"@/Components/Seo/createMetadata\";\n\nexport async function generateMetadata(props) {\n  const params = await props.params;\n  try {\n    const addons = await GetAddonsList();\n    const seoEnabled = addons?.seo?.status === 1;\n\n    const seller = await getsellerdetailapi(params?.name);\n    const d = seller?.data || {};\n    \n    const fallbackTitle =\n      params.name.charAt(0).toUpperCase() + params.name.slice(1);\n\n    let rawTitle = d?.metaTagTitle || d?.storeName||d.companyName || fallbackTitle;\n    let rawDescription =\n      d?.metaTagDescription ||\n      d?.storeDescription ||d.companyDescription||\n      `Explore products from ${rawTitle}`;\n\n    const title = cleanText(rawTitle)?.slice(0, 60);\n    const description = cleanText(rawDescription)?.slice(0, 160);\n    const keywords = cleanText(d?.metaTagKeyword || params?.name);\n\n    if (!seoEnabled) {\n      return createMetadata({\n        title,\n        description,\n        keywords,\n        url: `/shop/${params.name}`,\n      });\n    }\n\n    return createMetadata({\n      title,\n      description,\n      keywords,\n      url: `/shop/${params.name}`,\n    });\n\n  } catch (err) {\n    console.error(\"Seller metadata error:\", err);\n\n    return createMetadata({\n      title: \"Seller\",\n      description: \"Explore seller details and products.\",\n      keywords: \"seller\",\n      url: `/shop/${params.name}`,\n    });\n  }\n}\nexport default async function page(props) {\n  const params = await props.params;\n  const [token, sellerdetails, addon] = await Promise.all([\n    GetToken(),\n    getsellerdetailapi(params?.name),\n    GetAddonsList(),\n  ]);\n\n  if (sellerdetails?.message == \"Invalid vendor\") {\n    return notFound();\n  }\n  return (\n    <SellerDetail\n      token={token}\n      sellerdetails={sellerdetails}\n      params={params?.name}\n      addon={addon}\n    />\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[2]}
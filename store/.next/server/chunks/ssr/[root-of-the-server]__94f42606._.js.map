{"version":3,"sources":["../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/api/serversideaction/productdetail.js","../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/utilities/globalFunctions.js"],"sourcesContent":["import axiosInstance from \"../interceptor\";\n//productlist api\nexport const getbuyerproduct = async (name, offset) => {\n  const data = await axiosInstance.get(\n    `list/custom-product-list?categorySlug=${name}&limit=10&offset=${offset}`,\n  );\n  return data?.data;\n};\n\n//product count\nexport const getbuyerproductcount = async (name) => {\n  const data = await axiosInstance.get(\n    `list/custom-product-list?categorySlug=${name}&count=1`,\n  );\n  return data?.data;\n};\n\n//seller detail api\nexport const getsellerdetailapi = async (name) => {\n  const result = await axiosInstance.get(`vendor-store/vendor-details/${name}`);\n  return result?.data;\n};\n\n//seller product api\nexport const getsellerproductapi = async (name) => {\n  const result = await axiosInstance.get(\n    `vendor-store/vendor-product-list?limit=0&offset=0&count=0&categorySlug=&displayNameUrl=${name}`,\n  );\n  return result?.data;\n};\n\n//product detail api\nexport const getsingleproduct = async (slug) => {\n  const data = await axiosInstance.get(`product-store/productdetail/${slug}`);\n  return data?.data;\n};\n\n//seo detail api\nexport const getmetaData = async (slug) => {\n  const data = await axiosInstance.get(`seo/product/${slug}`);\n  return data?.data;\n};\n\n//productfilter\nexport const getfilter = async (categorySlug, offset) => {\n  const data = await axiosInstance.get(`site-filter/${categorySlug}`);\n  return data?.data;\n};\n\nexport const getProductSeo = async (slug) => {\n  const data = await axiosInstance.get(`seo/category/${slug}`);\n  return data?.data;\n};\n\nexport const WidgetDetailList = async (slug) => {\n  const result = await axiosInstance.get(`list/widget-detail/${slug}?limit=1&offset=0`);\n  return result?.data;\n};\n","export function getReplacedDescriptionValue(description) {\n  if (typeof window !== \"undefined\") {\n    const decodeHtmlEntities = (str) => {\n      const txt = document.createElement(\"textarea\");\n      txt.innerHTML = str;\n      return txt.value;\n    };\n\n    const sanitizedDescription = decodeHtmlEntities(description)\n      ?.replaceAll(\"&amp;\", \"&\")\n      .replaceAll(\"&lt;\", \"<\")\n      .replaceAll(\"&gt;\", \">\")\n      .replaceAll(\"&quot;\", '\"')\n      .replaceAll(\"&#39;\", \"'\")\n      .replaceAll(\"&sbquo;\", \"‚\")\n      .replaceAll(\"&#61;\", \"=\")\n      .replaceAll(\"&#45;\", \"-\")\n      .replaceAll(\"&hellip;\", \"…\")\n      .replaceAll(\"&commat;\", \"@\")\n      .replaceAll(\"&copy;\", \"©\")\n      .replaceAll(\"&#35;\", \"#\")\n      .replaceAll(\"&ldquo;\", \"“\")\n      .replaceAll(\"&rsquo;\", \"’\")\n      .replaceAll(\"&lsquo;\", \"‘\")\n      .replaceAll(\"&trade;\", \"™\")\n      .replaceAll(\"&reg;\", \"®\")\n      .replaceAll(\"&ndash;\", \"–\")\n      .replaceAll(\"&eacute;\", \"é\")\n      .replaceAll(\"&euro;\", \"€\")\n      .replaceAll(\"&pound;\", \"£\")\n      .replace(\"&lt;/p&gt;&amp;&#35;10;&amp;&#35;10;&lt;p&gt;\", \"\");\n\n    return sanitizedDescription;\n  }\n}\nexport const cleanText = (txt = \"\") => {\n  try {\n    if (typeof txt !== \"string\") txt = String(txt || \"\");\n\n    // Decode basic HTML entities\n    const decoded = txt\n      .replace(/&lt;?/g, \"<\")\n      .replace(/&gt;?/g, \">\")\n      .replace(/&amp;?/g, \"&\");\n\n    const cleaned = decoded\n      .replace(/<[^>]*>/g, \"\") // remove HTML tags\n      .replace(/[^\\w\\s.,-]/g, \"\") // remove special characters\n      .replace(/\\s+/g, \" \") // collapse spaces\n      .trim();\n\n    return cleaned.slice(0, 160);\n  } catch (error) {\n    console.error(\"cleanText error:\", error);\n    return \"\";\n  }\n};\n\n// ✅ Sort function for topcategories and all children\nexport function sortCategories(categories) {\n  return categories\n    ?.slice()\n    ?.sort((a, b) => {\n      if (a?.sortOrder !== b?.sortOrder) {\n        return a?.sortOrder - b?.sortOrder;\n      }\n      const nameA = a?.name?.toLowerCase() || \"\";\n      const nameB = b?.name?.toLowerCase() || \"\";\n      return nameA?.localeCompare(nameB);\n    })\n    ?.map((category) => ({\n      ...category,\n      children: category?.children ? sortCategories(category?.children) : [],\n    }));\n}\nexport const debounce = (func, delay = 500) => {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), delay);\n  };\n};\n"],"names":[],"mappings":"qUAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEO,IAAM,EAAkB,MAAO,EAAM,KAC1C,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAClC,CAAC,sCAAsC,EAAE,EAAK,iBAAiB,EAAE,EAAA,CAAQ,EAE3E,OAAO,GAAM,IACf,EAGa,EAAuB,MAAO,IACzC,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAClC,CAAC,sCAAsC,EAAE,EAAK,QAAQ,CAAC,EAEzD,OAAO,GAAM,IACf,EAGa,EAAqB,MAAO,IACvC,IAAM,EAAS,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,4BAA4B,EAAE,EAAA,CAAM,EAC5E,OAAO,GAAQ,IACjB,EAWa,EAAmB,MAAO,IACrC,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,4BAA4B,EAAE,EAAA,CAAM,EAC1E,OAAO,GAAM,IACf,EAGa,EAAc,MAAO,IAChC,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,EAAA,CAAM,EAC1D,OAAO,GAAM,IACf,EAGa,EAAY,MAAO,EAAc,KAC5C,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,YAAY,EAAE,EAAA,CAAc,EAClE,OAAO,GAAM,IACf,EAEa,EAAgB,MAAO,IAClC,IAAM,EAAO,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,aAAa,EAAE,EAAA,CAAM,EAC3D,OAAO,GAAM,IACf,EAEa,EAAmB,MAAO,IACrC,IAAM,EAAS,MAAM,EAAA,OAAa,CAAC,GAAG,CAAC,CAAC,mBAAmB,EAAE,EAAK,iBAAiB,CAAC,EACpF,OAAO,GAAQ,IACjB,kOCtByB,CAAC,EAAM,EAAE,IAChC,GAAI,CAeF,MAdmB,UAAf,OAAO,IAAkB,EAAM,OAAO,GAAO,GAAA,EAGjC,AAKA,AAMT,EAVJ,OAAO,CAAC,SAAU,KAClB,OAAO,CAAC,SAAU,KAClB,OAAO,CAAC,UAAW,KAGnB,OAAO,CAAC,WAAY,IAAI,AACxB,OAAO,CAAC,WADmC,GACpB,IAAI,AAC3B,OAAO,CAAC,OAAQ,KAChB,AADqB,IACjB,GAEQ,CAJ2C,IAItC,CAAC,EAAG,GAHkB,CAI5C,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,mBAAoB,GAC3B,EACT,CACF"}
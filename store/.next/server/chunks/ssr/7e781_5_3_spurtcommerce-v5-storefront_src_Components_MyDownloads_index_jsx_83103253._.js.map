{"version":3,"sources":["../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/MyDownloads/index.jsx","../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/MyDownloads/MyDownloadsSkeleton.jsx"],"sourcesContent":["\"use client\";\n// React and Next\nimport { useCallback, useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\n// Utils\nimport { imageUrl } from \"@/utilities/url\";\n\n// 3rd Party\nimport moment from \"moment\";\n\n// API\nimport {\n  DigitalProductDownloadApi,\n  MyDownloadsListApi,\n} from \"@/api/clientsideaction/productsearch\";\n\n// Components\nimport Breadcrumb from \"../Breadcrumbs\";\nimport Contactus from \"../Contactus\";\nimport Sidebar from \"../Myprofile/sidebar\";\nimport MyDownloadsSkeleton from \"./MyDownloadsSkeleton\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function MyDownloads({ token }) {\n  // Language Switcher\n  const { t } = useTranslation();\n\n  // List Data\n  const [downloadsData, setDownloadsData] = useState([]);\n\n  // Loader\n  const [loader, setLoader] = useState(false);\n\n  // Breadcrumbs\n  const orderBreadCrumbEdit = [\n    {\n      text: t(\"Breadcrumb.home\"),\n      url: \"/\",\n    },\n    {\n      text: t(\"Breadcrumb.accountSettings\"),\n      url: \"/account-settings\",\n    },\n    {\n      text: \"My Downloads\",\n      url: \"javascript:void(0)\",\n    },\n  ];\n\n  // My Downloads List Api\n  const myDowloadsListApiFunction = useCallback(async () => {\n    setLoader(true);\n    const response = await MyDownloadsListApi();\n    if (response?.status == 1) {\n      setDownloadsData(response?.data);\n      setLoader(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    myDowloadsListApiFunction();\n  }, [myDowloadsListApiFunction]);\n\n  // Downlod Api\n  const handleDownloadApi = async (id) => {\n    DigitalProductDownloadApi(token, id);\n  };\n\n  return (\n    <>\n      <div className=\"mx-auto max-w-screen-2xl px-4 py-2.5\">\n        <Breadcrumb breadCrumb={orderBreadCrumbEdit} />\n\n        <div className=\"mx-auto mb-7 mt-4 flex md:space-x-8 rtl:space-x-[unset]\">\n          <Sidebar />\n          <div className=\"w-full p-0 md:p-0 md:pe-8\">\n            <div className=\"mb-[23px] flex items-center justify-between space-x-4\">\n              <h3 className=\"text-black-300 text-lg font-black\">\n                {t(\"Breadcrumb.myDownloads\")}\n              </h3>\n            </div>\n\n            {loader ? (\n              <MyDownloadsSkeleton />\n            ) : (\n              downloadsData?.map((data, index) => (\n                <div key={index} className=\"border-grey mb-4 rounded-md border\">\n                  <div className=\"flex justify-between gap-3 rounded-t-md bg-blue-100 p-4\">\n                    <div className=\"flex flex-col items-start space-y-[5px]\">\n                      <h3 className=\"text-boldgray text-xs font-bold uppercase\">\n                        {t(\"orderhistory.OrdPlc\")}\n                      </h3>\n                      <p className=\"text-black-300 text-sm font-medium\">\n                        {moment(data?.createdDate)?.format(\n                          \"DD MMM, YYYY, hh:mm A\",\n                        )}\n                      </p>\n                    </div>\n\n                    <div className=\"flex flex-col items-start gap-[5px] lg:items-end\">\n                      <h3 className=\"text-boldgray line-clamp-1 text-xs font-bold uppercase\">\n                        {t(\"orderhistory.OrdID\")} :{\" \"}\n                        <span className=\"text-black-300 text-xs font-bold\">\n                          {data?.orderPrefixId}\n                        </span>\n                      </h3>\n                    </div>\n                  </div>\n                  <div className=\"border-lightgrey-100 flex flex-col items-center justify-between gap-12 border-t p-4 sm:flex-row\">\n                    <div className=\"flex items-start space-x-3 rtl:space-x-[unset]\">\n                      <div className=\"flex h-24 w-24 min-w-24 items-center rtl:ml-3\">\n                        <img\n                          src={\n                            imageUrl +\n                            \"?path=\" +\n                            data?.containerName +\n                            \"&name=\" +\n                            data?.image +\n                            \"&width=180&height=180\"\n                          }\n                          alt={data?.productName}\n                          onError={({ currentTarget }) => {\n                            currentTarget.onerror = null;\n                            currentTarget.src = \"/img/no-image.png\";\n                            currentTarget.alt = \"no-image\";\n                          }}\n                          className=\"m-auto h-full w-full max-w-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"flex flex-col items-start space-y-4\">\n                        <span>\n                          <h3 className=\"text-black-300 text-base font-medium leading-[22px]\">\n                            {data?.productName}\n                          </h3>\n                        </span>\n                        <button\n                          onClick={() => handleDownloadApi(data?.orderProductId)}\n                          className=\"bg-boldblack btn mt-auto flex h-8 cursor-pointer items-center justify-center rounded px-10 text-sm font-medium text-white hover:text-white\"\n                        >\n                          {t(\"homepage.Download\")}\n                        </button>\n                      </div>\n                    </div>\n                    <div className=\"grid w-full grid-cols-2 gap-2 sm:flex sm:w-auto sm:flex-col sm:gap-0 sm:space-y-2\">\n                      <span className=\"shadow-low border-grey text-black-300 btn flex h-8 w-full items-center justify-center space-x-[5px] whitespace-nowrap rounded border px-8 text-sm font-medium hover:bg-slate-50 rtl:space-x-[unset]\">\n                        <Link\n                          prefetch={false}\n                          className=\"cursor-pointer rtl:ml-[5px]\"\n                          href={`/account-settings/my-downloads/${data?.orderProductId}`}\n                        >\n                          {t(\"orderhistory.OrdDtl\")}\n                        </Link>\n                        <img src=\"../img/dark-right.svg\" alt=\"dark-right\" />\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n\n            {!loader && downloadsData?.length == 0 && (\n              <h2 className=\"flex items-center justify-center\">\n                {/* {\" \"}\n                  {t(\"orderhistory.NoOpnOrd\")} */}\n                <div className=\"mx-auto mt-32 min-h-[40vh]\">\n                  <div className=\"flex flex-col items-center justify-center gap-8 p-4 text-center sm:flex-row\">\n                    <img src=\"/img/no-data.svg\" alt=\"no-data\" />\n                    <div>\n                      <h5 className=\"text-black-300 mb-1 text-xl font-black\">\n                        {t(\"myprofile.NoData\")}\n                      </h5>\n                    </div>\n                  </div>\n                </div>\n              </h2>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <Contactus token={token} />\n    </>\n  );\n}\n","const MyDownloadsSkeleton = () => {\n  return [1, 2, 3]?.map((_, index) => (\n    <div\n      key={index}\n      className=\"mb-4 border rounded-md border-grey animate-pulse\"\n    >\n      {/* Top Header Section */}\n      <div className=\"flex justify-between gap-3 p-4 bg-blue-100 rounded-t-md\">\n        <div className=\"flex flex-col items-start space-y-[5px]\">\n          <div className=\"w-24 h-3 bg-gray-300 rounded\" />\n          <div className=\"w-32 h-4 bg-gray-300 rounded\" />\n        </div>\n\n        <div className=\"flex flex-col items-start lg:items-end gap-[5px]\">\n          <div className=\"h-3 bg-gray-300 rounded w-28\" />\n        </div>\n      </div>\n\n      {/* Bottom Content Section */}\n      <div className=\"flex flex-col items-center justify-between gap-12 p-4 border-t sm:flex-row border-lightgrey-100\">\n        {/* Image & Product Info */}\n        <div className=\"flex items-start space-x-3 rtl:space-x-[unset]\">\n          <div className=\"flex items-center w-24 h-24 bg-gray-200 rounded rtl:ml-3 min-w-24\" />\n\n          <div className=\"flex flex-col items-start space-y-4\">\n            <div className=\"w-40 h-4 bg-gray-300 rounded\" />\n            <div className=\"h-8 bg-gray-300 rounded w-28\" />\n          </div>\n        </div>\n\n        {/* Download Details Button */}\n        <div className=\"grid w-full grid-cols-2 gap-2 sm:flex sm:flex-col sm:gap-0 sm:space-y-2 sm:w-auto\">\n          <div className=\"w-full h-8 bg-gray-300 rounded\" />\n        </div>\n      </div>\n    </div>\n  ));\n};\n\nexport default MyDownloadsSkeleton;\n"],"names":[],"mappings":"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"}
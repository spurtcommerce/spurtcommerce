module.exports=[71460,a=>{"use strict";var b=a.i(11488),c=a.i(25866),d=a.i(87831),e=a.i(82652),f=a.i(45448),g=a.i(24195),h=a.i(79752),i=a.i(58809);a.i(13689);var j=a.i(60249);let k=()=>{let{t:a}=(0,j.useTranslation)();return(0,b.jsx)("div",{className:"mx-auto mt-32 min-h-[40vh]",children:(0,b.jsxs)("div",{className:"flex flex-col justify-center items-center m-auto max-w-[400px]",children:[(0,b.jsx)("img",{src:"/img/empty-cart.svg"}),(0,b.jsx)("h1",{className:"mb-[24px] font-semibold text-[#202124] text-[32px] text-center leading-10",children:a("orderhistory.emptyCartMessage")}),(0,b.jsx)("p",{className:"mb-[40px] font-semibold text-[#202124] text-[14px] text-center leading-[19px]",children:a("orderhistory.emptyCartDescription")}),(0,b.jsx)("div",{className:"flex justify-center items-center gap-[10px]",children:(0,b.jsxs)(i.default,{prefetch:!1,href:"/",className:"flex justify-center items-center gap-[5px] hover:bg-[#cdcdcd] p-[10px_16px] border border-[#DFDFDF] border-solid rounded w-full min-w-[143px] max-w-[143px] whitespace-nowrap",children:[" ",(0,b.jsx)("img",{src:"/img/shopNow.svg",alt:""})," ",(0,b.jsxs)("span",{className:"font-normal text-[#000000] text-[14px] leading-[17px]",children:[" ",a("orderhistory.shopNow")]})]})})]})})};var l=a.i(75400);let m=({product:a})=>{let c=a?.productImage?.find(a=>1==a.defaultImage);return(0,b.jsx)(i.default,{prefetch:!1,href:`/products/${a?.productSlug}`,children:(0,b.jsx)("div",{className:"rounded-md min-w-[200px] max-w-[200px] overflow-hidden",children:(0,b.jsx)("img",{src:l.imageUrl+"?path="+c?.containerName+"&name="+c?.image+"&width=182&height=182",alt:a?.name,className:"w-auto max-w-full mx-auto",onError:({currentTarget:a})=>{a.onerror=null,a.src="/img/no-image.png",a.alt="no-image"}})})})},n=({product:a})=>(0,b.jsx)("p",{className:"mt-[7px] font-normal [&_*]:font-normal text-[#5B5E67] text-[14px] [&_*]:not-italic line-clamp-2 leading-[20px]",dangerouslySetInnerHTML:{__html:a?.description?.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","‚").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","…").replaceAll("&commat;","@").replaceAll("&copy;","©").replaceAll("&#35;","#").replaceAll("&ldquo;","“").replaceAll("&rsquo;","’").replaceAll("&lsquo;","‘").replaceAll("&trade;","™").replaceAll("&reg;","®").replaceAll("&ndash;","–").replaceAll("&eacute;","é").replaceAll("&euro;","€").replaceAll("&pound;","£").replace("&lt;/p&gt;&amp;&#35;10;&amp;&#35;10;&lt;p&gt;","")}}),o=({product:a})=>{let{t:c}=(0,j.useTranslation)();return(0,b.jsxs)("div",{className:"flex items-center space-x-1 rtl:space-x-[unset] mt-[21px] mb-[30px]",children:[(0,b.jsxs)("p",{className:"mr-[6px] font-normal text-[#5B5E67] text-sm leading-4",children:[c("homepage.seller")," :"]}),(0,b.jsx)("div",{className:"w-5 h-5 overflow-hidden rounded-full rtl:ml-1",children:(0,b.jsx)("img",{src:l.imageUrl+"?path="+a?.companyLogoPath+"&name="+a?.companyLogo+"&width=60&height=60",alt:a?.vendorName,className:"object-cover w-full h-full",onError:({currentTarget:a})=>{a.onerror=null,a.src="/img/user1.jpg",a.alt="user"}})}),(0,b.jsxs)(i.default,{prefetch:!1,href:`/shop/${a?.vendorDisplayNameUrl?a?.vendorDisplayNameUrl:a?.displayNameUrl}`,children:[" ",(0,b.jsx)("h5",{className:"font-medium text-[#1383E3] text-sm underline underline-offset-2 cursor-pointer",children:a?.vendorName})]})]})};var p=a.i(71828),q=a.i(47769);let r=({product:a,token:c,addonlist:e,cartPath:h,productPricingGroupList:i,setTrigger:k})=>{let{t:l}=(0,j.useTranslation)(),m=(0,f.useDispatch)(),[n,o,r,s,t]=[a?.productCount,a?.maxQuantityAllowedCart,a?.minQuantityAllowedCart,a?.productId,a?.skuId],u=(a,b)=>{if(a?.hasStock==1)if(!a.minQuantityAllowedCart||!(a.productCount<b))return(0,q.default)({type:"error",message:l("toastMessage.maximumLimitCart")}),a;else{let b=a.productCount+1;return c&&"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)({...a,productCount:b}),{...a,productCount:b,price:a.price,priceGroup:0}}{let b=a.productCount+1;return c&&"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)({...a,productCount:b}),{...a,productCount:b,price:a.price,priceGroup:0}}};return(0,b.jsxs)("div",{className:"flex items-center space-x-1.5 mt-auto",children:[(0,b.jsx)("button",{disabled:a?.productCount==1,onClick:()=>{let a=JSON.parse(localStorage.getItem(h));a=a.map(a=>{if(a?.productId==s&&t==a?.skuId){let b={...a};if(e?.["product-price-group"]&&e?.["product-price-group"]?.status==1&&c){let c=i?.filter(a=>a?.skuId==a?.skuId);if(c?.at(-1)?.maxQuantity,c?.length>0){let d=c?.filter(b=>b?.maxQuantity<=a.productCount-1);d?.length>0?(b.price=d.at(-1)?.price,b.priceGroup=1):(b.price=b?.productPrice,b.priceGroup=0)}}return b?.hasStock==1?b?.minQuantityAllowedCart&&b.productCount>r?(b.productCount=b.productCount-1,c&&"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)(b)):(0,q.default)({type:"error",message:l("toastMessage.minimumLimitCart")}):b?.hasStock==0&&b.productCount>1&&(b.productCount=b.productCount-1,c&&"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)(b)),b}return a}),localStorage.setItem(h,JSON.stringify(a)),k(a=>a+1),"cartItems"===h&&m((0,p.viewCartCount)(a)),m((0,g.checkoutCouponData)("")),m((0,g.couponDiscountValue)(0)),m((0,g.couponCode)("")),m((0,g.enteredCouponCode)("")),m((0,g.couponApplied)(!1))},className:"bg-[#E9E9E9] rounded-full w-8 h-8 flex justify-center items-center  tooltip",children:(0,b.jsx)("img",{src:"/img/decrease.svg",alt:"minus"})}),(0,b.jsx)("input",{type:"number",value:a?.productCount,readOnly:!0,onWheel:a=>a.target.blur(),className:"p-3 border border-[#D1D2D4] focus:border-black rounded focus:outline-0 focus:ring-0 w-[80px] h-[30px] font-normal text-[#000000] text-[14px] text-center pointer-events-none"}),(0,b.jsx)("button",{onClick:()=>{let a=JSON.parse(localStorage.getItem(h)).map(a=>{if(a?.productId===s&&t===a?.skuId)if(!e?.["product-price-group"]||e?.["product-price-group"]?.status!==1)return u(a,o);else{if(!c)return u(a,o);let b=i?.filter(a=>a?.skuId===a?.skuId);if(b?.at(-1)?.maxQuantity,a?.hasStock==1)if(a.productCount<o)if(!(b?.length>0))return u(a,o);else{let c=a.productCount+1,e=b?.filter(a=>a?.maxQuantity<=c),f=e?.length>0?e.at(-1)?.price:a.price,g=+(e?.length>0);return"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)({...a,productCount:c,price:f,priceGroup:g}),{...a,productCount:c,price:f,priceGroup:g}}else(0,q.default)({type:"error",message:l("toastMessage.maximumLimitCart")});else{if(!(b?.length>0))return u(a,o);let c=a.productCount+1,e=b?.filter(a=>a?.maxQuantity<=c),f=e?.length>0?e.at(-1)?.price:a.price,g=+(e?.length>0);return"cartItems"==h&&(0,d.CartIncreaseAndDecreaseApi)({...a,productCount:c,price:f,priceGroup:g}),{...a,productCount:c,price:f,priceGroup:g}}}return a});localStorage.setItem(h,JSON.stringify(a)),k(a=>a+1),"cartItems"===h&&m((0,p.viewCartCount)(a)),m((0,g.checkoutCouponData)("")),m((0,g.couponDiscountValue)(0)),m((0,g.couponCode)("")),m((0,g.enteredCouponCode)("")),m((0,g.couponApplied)(!1))},className:"flex justify-center items-center bg-[#E9E9E9] rounded-full w-8 h-8 tooltip",children:(0,b.jsx)("img",{src:"/img/increase.svg",alt:"plus"})})]})};var s=a.i(39695),t=a.i(47166);let u=({product:a})=>{let{t:c}=(0,j.useTranslation)();return(0,b.jsxs)("div",{children:[a?.priceGroup==0?(0,b.jsx)("p",{className:"mb-2 font-bold text-[#202124] text-xl text-end leading-6",children:(0,b.jsx)(t.default,{price:(0,s.PriceCalculate)(a?.price,a?.pricerefer,a?.flag,a?.taxType,a?.taxValue)*a?.productCount})}):(0,b.jsx)("p",{className:"mb-2 font-bold text-[#202124] text-xl text-end leading-6",children:(0,b.jsx)(t.default,{price:(0,s.PriceTaxCalculate)(a?.price,a?.taxType,a?.taxValue)*a?.productCount})}),a?.flag==1&&a?.priceGroup==0&&(0,b.jsxs)("div",{className:"flex flex-nowrap items-center space-x-2 rtl:space-x-[unset]",children:[(0,b.jsxs)("p",{className:"text-sm font-normal rtl:ml-2 text-black-300 whitespace-nowrap",children:[c("productdetails.Mrp")," ",(0,b.jsx)("del",{children:(0,b.jsx)(t.default,{price:(0,s.PriceTaxCalculate)(a?.price,a?.taxType,a?.taxValue)})})]}),(0,b.jsxs)("span",{className:"text-sm font-normal text-activegreen whitespace-nowrap",children:[Math.round(((0,s.PriceTaxCalculate)(a?.price,a?.taxType,a?.taxValue)-(0,s.PriceTaxCalculate)(a?.pricerefer,a?.taxType,a?.taxValue))/(0,s.PriceTaxCalculate)(a?.price,a?.taxType,a?.taxValue)*100),c("productdetails.OFF")]})]})]})},v=({product:a,token:c,cartPath:e,cartProducts:h,setTrigger:i})=>{let{t:k}=(0,j.useTranslation)(),l=(0,f.useDispatch)();return(0,b.jsx)("div",{className:"flex items-center space-x-[10px]",children:(0,b.jsxs)("a",{role:"button",onClick:()=>{if("cartItems"==e)if(c)(0,d.removeFromCartApi)(a?.productId,a?.price,a?.skuName,h,i,l,a?.skuId);else{let b=h.filter(b=>b?.skuId!==a?.skuId);localStorage.setItem("cartItems",JSON.stringify(b)),l((0,p.viewCartCount)(b)),i(a=>a+1)}else{let b=h.filter(b=>b?.skuId!==a?.skuId);localStorage.setItem(e,JSON.stringify(b)),i(a=>a+1)}l((0,g.checkoutCouponData)("")),l((0,g.couponDiscountValue)(0)),l((0,g.couponCode)("")),l((0,g.enteredCouponCode)("")),l((0,g.couponApplied)(!1))},className:"relative flex items-center space-x-2 rtl:space-x-[unset] py-[10px] rounded w-max font-normal text-[#202124] text-sm hover:underline transition-all duration-300 cursor-pointer",children:[(0,b.jsx)("img",{src:"/img/delete.svg",alt:"delete",className:"rtl:ml-2"})," ",(0,b.jsx)("p",{className:"font-normal text-[#202124] text-sm leading-4",children:k("checkout.remove")})]})})},w=({product:a,token:c,addonlist:d,cartPath:e,cartProducts:f,productPricingGroupList:g,setTrigger:h})=>{let{t:k}=(0,j.useTranslation)();return(0,b.jsx)("div",{className:"w-full border-t border-[#EFEFEF] p-[40px_20px]",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",children:[(0,b.jsx)(m,{product:a}),(0,b.jsx)("div",{className:"w-full",children:(0,b.jsxs)("div",{className:"flex h-full flex-col",children:[(0,b.jsx)(i.default,{prefetch:!1,href:`/products/${a?.productSlug}`,children:(0,b.jsx)("h3",{className:"line-clamp-2 text-base font-semibold capitalize leading-[19px] text-[#202124]",children:a?.productNameTrans?a?.productNameTrans:a?.name})}),(0,b.jsx)(n,{product:a}),a?.productType=="virtual"&&(0,b.jsxs)("div",{className:"mt-[7px] flex items-center justify-start gap-2",children:[(0,b.jsx)("p",{className:"flex items-center justify-center rounded-md bg-[#eaeaea] p-1 text-[12px] text-sm text-[#000000]",children:k("checkout.digitalProduct")}),(0,b.jsx)("p",{className:"flex items-center justify-center rounded-md bg-[#eaeaea] p-1 text-[12px] text-sm text-[#000000]",children:k("checkout.noShippingNeeded")})]}),(0,b.jsx)(o,{product:a}),(0,b.jsx)(r,{product:a,token:c,addonlist:d,cartPath:e,productPricingGroupList:g,setTrigger:h})]})}),(0,b.jsxs)("div",{className:"flex grow flex-col items-end justify-between",children:[(0,b.jsx)(u,{product:a}),(0,b.jsx)(v,{product:a,token:c,cartPath:e,cartProducts:f,setTrigger:h})]})]})})};function x({token:a,addonlist:i,cartPath:l}){let m=(0,e.useRouter)(),{t:n}=(0,j.useTranslation)(),o=(0,f.useDispatch)(),[p,q]=(0,c.useState)(0),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!1),[v,x]=(0,c.useState)([]);return(0,c.useEffect)(()=>{let a=JSON.parse(localStorage.getItem(l));a?s(a):s([])},[p]),(0,c.useEffect)(()=>{a&&"cartItems"==l&&(0,d.CheckoutCartListApi)(o,s,q,p,i,x)},[a]),(0,c.useEffect)(()=>{let a=0,b=0,c=JSON.parse(localStorage.getItem(l));c?.forEach(c=>{let d=c?.priceGroup==0?Number(c?.pricerefer?c?.pricerefer:c?.price):Number(c?.price);if(a+=c?.productCount*d,c?.taxType==2){let a=Number(c?.price)*(Number(c?.taxValue)/100);c?.productCount?b+=a*c?.productCount:b+=a}else c?.productCount?b+=Number(c?.taxValue)*c?.productCount:b+=Number(c?.taxValue)}),o((0,g.checkoutPriceWithoutTax)(a)),o((0,g.checkoutPriceWithTax)(b))},[p]),(0,b.jsx)("div",{className:"max-w-screen-xl px-4 py-4 m-auto mb-20 sm:px-4",children:r?.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-[20px]",children:(0,b.jsxs)("h3",{className:"font-semibold text-[#202124] text-xl leading-6",children:[r?.length," ",r?.length>1?`${n("checkout.basket")}`:`${n("checkout.basket1")}`]})}),(0,b.jsxs)("div",{className:"flex lg:flex-row flex-col items-start lg:rtl:space-x-[unset] lg:space-x-5 xl:space-x-10",children:[(0,b.jsx)("div",{className:"flex flex-col w-full space-y-4 lg:rtl:ml-10",children:r&&r?.map((c,d)=>(0,b.jsx)(w,{product:c,token:a,addonlist:i,cartPath:l,cartProducts:r,productPricingGroupList:v,setTrigger:q},d))}),(0,b.jsx)(h.default,{token:a,handlePayNow:()=>{u(!0),o((0,g.selectedShippingAddress)(null)),o((0,g.selectedBillingAddress)(null)),"cartItems"==l?(localStorage.setItem(l,JSON.stringify(r)),m.push("/choose-address"),o((0,g.checkoutItems)(l)),o((0,g.selectedCartItems)(r)),o((0,g.enableBackOrder)(!1)),o((0,g.enableFailedOrder)(!1))):r?.length>0&&(localStorage.setItem(l,JSON.stringify(r)),m.push("/choose-address"),o((0,g.checkoutItems)(l)),o((0,g.selectedCartItems)(r)),o((0,g.enableBackOrder)(!0)),o((0,g.enableFailedOrder)(!1))),setTimeout(()=>{u(!1)},2e3)},cartPath:l,addonlist:i,loader:t,valid:!0})]})]}):(0,b.jsx)(k,{})})}a.s(["default",()=>x],71460)}];

//# sourceMappingURL=7e781_5_3_spurtcommerce-v5-storefront_src_Components_Checkout_Cart_index_jsx_82538c27._.js.map
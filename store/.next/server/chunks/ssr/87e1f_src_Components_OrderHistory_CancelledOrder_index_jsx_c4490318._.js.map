{"version":3,"sources":["../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/Components/OrderHistory/CancelledOrder/index.jsx"],"sourcesContent":["\"use client\";\n\n// React & Next Imports\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useRouter } from \"nextjs-toploader/app\";\n\n// Utils\nimport { imageUrl } from \"@/utilities/url\";\n\n// 3rd Party\nimport Select from \"react-select\";\nimport moment from \"moment\";\n\n// API\nimport {\n  cancelReasonApi,\n  cancelreasonApi,\n} from \"@/api/clientsideaction/getfilter\";\nimport { OrderDetailApi } from \"@/api/clientsideaction/order\";\n\n// Components\nimport Sidebar from \"@/Components/Myprofile/sidebar\";\nimport Breadcrumb from \"@/Components/Breadcrumbs\";\nimport CustomCurrencyFormatter from \"@/Components/CustomCurrencyFormatter\";\n\nexport default function CancelledOrder({ params }) {\n  const { t } = useTranslation();\n  const [canceloption, setcancelOption] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n  const [cancelError, setCancelError] = useState(\"\");\n  const [reasonError, setReasonError] = useState(\"\");\n  const [validestatus, setValideStatus] = useState(false);\n  const [cancelreason, setCancelReason] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [cancelOrder, setCancelOrder] = useState();\n  const router = useRouter();\n    const orderBreadCrumbEdit = [\n    {\n      text: t(\"Breadcrumb.home\"),\n      url: \"/\",\n    },\n    {\n      text: t(\"Breadcrumb.accountSettings\"),\n      url: \"/account-settings\",\n    },\n    {\n      text: t(\"Breadcrumb.orderHistory\"),\n      url: \"/account-settings/order-history\",\n    },\n    {\n      text: t(\"Breadcrumb.cancelOrder\"),\n      url: \"javascript:void(0)\",\n    },\n  ];\n\n  const Option = [\n    { value: 1, label: \"Wrongly ordered\" },\n    { value: 2, label: \"Found better than this product\" },\n    { value: 3, label: \"Not in need\" },\n  ];\n  const colourStylesError = {\n    control: (styles, state) => ({\n      ...styles,\n      cursor: \"pointer\",\n      borderRadius: \"0.25rem\",\n      height: \"2.75rem\",\n      boxShadow: state.isFocused ? 0 : 0,\n    }),\n    option: (base, state) => ({\n      ...base,\n      cursor: \"pointer\",\n      backgroundColor: state.isSelected ? \"#ffffff\" : \"#ffffff\",\n      \"&:hover\": { backgroundColor: \"#F9F9FC\" },\n      fontSize: \".8125rem\",\n      padding: \"8px\",\n      color: \"#333333\",\n    }),\n  };\n\n  useEffect(() => {\n    cancelReasonApi(setCancelReason);\n    OrderDetailApi(params?.id, setCancelOrder, setLoader);\n  }, []);\n  useEffect(() => {\n    if (validestatus) {\n      validate();\n    }\n  }, [canceloption, reason]);\n\n  const handleinduscountry = (e) => {\n    setcancelOption(e);\n  };\n  const handlesubmit = () => {\n    setValideStatus(true);\n    if (validate()) {\n      cancelreasonApi(canceloption?.value, params?.id, reason, router);\n    }\n  };\n  const validate = () => {\n    let ValidateObj = {\n      canceloption: false,\n      reason: false,\n    };\n    if (canceloption == \"\") {\n      setCancelError(\"Please select reason\");\n      ValidateObj.canceloption = false;\n    } else {\n      setCancelError(\"\");\n      ValidateObj.canceloption = true;\n    }\n\n    if (reason == \"\") {\n      setReasonError(\"Enter your reason\");\n      ValidateObj.reason = false;\n    } else {\n      setReasonError(\"\");\n      ValidateObj.reason = true;\n    }\n    if (ValidateObj.canceloption == true && ValidateObj.reason == true) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return (\n    <div className=\"mx-auto px-4 py-2.5 max-w-screen-2xl\">\n      <Breadcrumb breadCrumb={orderBreadCrumbEdit} />\n\n      <div className=\"flex gap-8 mx-auto mt-4 mb-7\">\n        <Sidebar />\n        <div className=\"w-full\">\n          <h3 className=\"mb-5 text-black\">{t(\"orderhistory.CnlHist\")}</h3>\n          <div className=\"shadow-xl\">\n            <div className=\"flex flex-col items-start gap-2 bg-blue-100 p-4\">\n                <p className=\"text-black\">\n                  {t(\"orderhistory.Ord_ID\")} :{\" \"}\n                  {cancelOrder?.orderProductPrefixId}\n                </p>\n                <p className=\"text-black\">\n                  {t(\"orderhistory.Ord_Date\")} :{\" \"}\n                  {cancelOrder &&\n                    moment(cancelOrder?.orderedDate)?.format(\"DD MMM, YYYY\")}\n                </p>\n              </div>\n            <div className=\"p-4\">\n              <div className=\"flex flex-col items-start sm:flex-row gap-2 sm:gap-0 space-x-3 rtl:space-x-[unset]\">\n                  <div className=\"rtl:ml-3 self-center sm:self-start \">\n                    {/* w-[152px] h-[100px] */}\n                  <img\n                    src={\n                      imageUrl +\n                      \"?path=\" +\n                      cancelOrder?.containerName +\n                      \"&name=\" +\n                      cancelOrder?.productImage +\n                      \"&width=400&height=200\"\n                    }\n                    alt={cancelOrder?.productName}\n                    onError={({ currentTarget }) => {\n                      currentTarget.onerror = null;\n                      currentTarget.src = \"/img/no-image.png\";\n                      currentTarget.alt = \"no-image\";\n                    }}\n                    className=\"w-auto max-w-full m-auto\"\n                  />\n                </div>\n                <div className=\"w-full\">\n                  <div className=\"flex flex-col space-y-2\">\n                    <h3 className=\"text-black\">\n                      {cancelOrder?.productNameTrans\n                        ? cancelOrder?.productNameTrans\n                        : cancelOrder?.productName}\n                    </h3>\n                    <p className=\"text-black flex flex-col items-start gap-2\">\n                      <span>\n                      {t(\"orderhistory.Quantity\")} :\n                      {cancelOrder?.productQuantity}\n                      </span>\n                      <span>\n                        <CustomCurrencyFormatter\n                          price={cancelOrder?.productPrice}\n                        />\n                      </span>\n                    </p>\n                  </div>\n                  <div className=\"p-4 mb-4 border border-slate-200\">\n                    <div className=\"flex flex-col items-start mb-4 w-full\">\n                      <h3 className=\"text-black\">{t(\"orderhistory.WhtCnl\")}</h3>\n                      <div className=\"relative w-full cursor-pointer\">\n                        <Select\n                          value={canceloption}\n                          options={cancelreason}\n                          name=\"select\"\n                          onChange={(e) => handleinduscountry(e)}\n                          styles={colourStylesError}\n                          className={` block w-full px-0 mt-0 bg-transparent border-0 appearance-none z-1 focus:outline-none focus:ring-0 focus:border-black border-gray-200 cursor-pointer`}\n                        />\n\n                        {validestatus && cancelError !== \"\" && (\n                          <p className=\"mt-1 text-xs font-normal text-black text-red-invalid\">\n                            {cancelError}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col items-start mb-4 w-full\">\n                      <h3 className=\"text-black\">{t(\"orderhistory.WhtCnl\")}</h3>\n                      <div className=\"relative w-full\">\n                        <textarea\n                          value={reason}\n                          onChange={(e) => setReason(e.target.value)}\n                          className=\"w-full px-4 text-black border border-slate-200\"\n                        ></textarea>\n                        {validestatus && reasonError !== \"\" && (\n                          <p className=\"mt-1 text-xs font-normal text-black text-red-invalid\">\n                            {reasonError}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex justify-between items-start lg:items-center gap-2 flex-col lg:flex-row bg-yellow-200 p-4\">\n                    <div className=\"flex flex-col items-start\">\n                      <h3 className=\"text-black\">{t(\"orderhistory.Note\")}:</h3>\n                      <p className=\"text-black\">{t(\"orderhistory.NoRefund\")}</p>\n                    </div>\n                    <button\n                      className=\"flex justify-center items-center bg-orange-300 rounded w-full max-w-[120px] h-10 self-end\"\n                      onClick={() => handlesubmit()}\n                    >\n                      {t(\"forgotpassword.Submit\")}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
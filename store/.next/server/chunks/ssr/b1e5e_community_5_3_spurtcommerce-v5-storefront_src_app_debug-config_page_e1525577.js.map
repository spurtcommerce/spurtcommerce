{"version":3,"sources":["../../../../../../../../../../../Documents/Antlijefri/spurtcommerce/b2c/spurt_community/5.3/spurtcommerce-v5-storefront/src/app/debug-config/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport default function DebugConfig() {\n  const [config, setConfig] = useState(null);\n  const [windowEnv, setWindowEnv] = useState(null);\n  const [processEnv, setProcessEnv] = useState(null);\n\n  useEffect(() => {\n    // Check window.__env\n    setWindowEnv(window.__env || null);\n    \n    // Check process.env (only NEXT_PUBLIC_ vars are available)\n    setProcessEnv({\n      NEXT_PUBLIC_SERVER_URL: process.env.NEXT_PUBLIC_SERVER_URL,\n      NEXT_PUBLIC_IMAGE_URL: process.env.NEXT_PUBLIC_IMAGE_URL,\n      NEXT_PUBLIC_STORE_KEY: process.env.NEXT_PUBLIC_STORE_KEY,\n      NEXT_PUBLIC_INDUSTRY_SLUG: process.env.NEXT_PUBLIC_INDUSTRY_SLUG,\n    });\n\n    // Try to fetch runtime config\n    fetch('/runtime-config.json')\n      .then(res => res.json())\n      .then(data => setConfig(data))\n      .catch(err => console.error('Failed to fetch runtime config:', err));\n  }, []);\n\n  return (\n    <div className=\"container mx-auto p-8\">\n      <h1 className=\"text-2xl font-bold mb-6\">Configuration Debug Page</h1>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-gray-100 p-4 rounded\">\n          <h2 className=\"text-lg font-semibold mb-3\">window.__env</h2>\n          <pre className=\"text-sm overflow-auto\">\n            {windowEnv ? JSON.stringify(windowEnv, null, 2) : 'Not available'}\n          </pre>\n        </div>\n\n        <div className=\"bg-gray-100 p-4 rounded\">\n          <h2 className=\"text-lg font-semibold mb-3\">Runtime Config JSON</h2>\n          <pre className=\"text-sm overflow-auto\">\n            {config ? JSON.stringify(config, null, 2) : 'Loading...'}\n          </pre>\n        </div>\n\n        <div className=\"bg-gray-100 p-4 rounded\">\n          <h2 className=\"text-lg font-semibold mb-3\">Process Env</h2>\n          <pre className=\"text-sm overflow-auto\">\n            {JSON.stringify(processEnv, null, 2)}\n          </pre>\n        </div>\n      </div>\n\n      <div className=\"mt-6 bg-yellow-100 p-4 rounded\">\n        <h2 className=\"text-lg font-semibold mb-3\">Expected Behavior</h2>\n        <ul className=\"list-disc list-inside space-y-1 text-sm\">\n          <li>window.__env should contain runtime configuration from /env.js</li>\n          <li>Runtime Config JSON should match window.__env values</li>\n          <li>Process Env should contain fallback values from .env file</li>\n          <li>API calls should use the apiBaseUrl from window.__env or runtime config</li>\n        </ul>\n      </div>\n\n      <div className=\"mt-6 bg-blue-100 p-4 rounded\">\n        <h2 className=\"text-lg font-semibold mb-3\">Troubleshooting</h2>\n        <ul className=\"list-disc list-inside space-y-1 text-sm\">\n          <li>If window.__env is null, check if /env.js is loading correctly</li>\n          <li>If API calls go to localhost:3000, the axios interceptor isn't getting the right config</li>\n          <li>Check browser Network tab to see actual API calls</li>\n          <li>Check browser Console for axios configuration logs</li>\n        </ul>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC/B,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACrC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAqB7C,MAnBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,EAAa,OAAO,KAAK,EAAI,MAG7B,EAAc,CACZ,uBAAwB,QAAQ,GAAG,CAAC,sBAAsB,CAC1D,sBAAuB,QAAQ,GAAG,CAAC,qBAAqB,CACxD,sBAAuB,QAAQ,GAAG,CAAC,qBAAqB,CACxD,0BAA2B,QAAQ,GAAG,CAAC,yBAAyB,AAClE,GAGA,MAAM,wBACH,IAAI,CAAC,GAAO,EAAI,IAAI,IACpB,IAAI,CAAC,GAAQ,EAAU,IACvB,KAAK,CAAC,GAAO,QAAQ,KAAK,CAAC,kCAAmC,GACnE,EAAG,EAAE,EAGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mCAA0B,6BAExC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,iBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAY,KAAK,SAAS,CAAC,EAAW,KAAM,GAAK,qBAItD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,wBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAS,KAAK,SAAS,CAAC,EAAQ,KAAM,GAAK,kBAIhD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,gBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,KAAK,SAAS,CAAC,EAAY,KAAM,WAKxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,sBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,oDACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,mEACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,yDACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,8DACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kFAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,oBAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,oDACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,mEACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,4FACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,sDACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,+DAKd"}
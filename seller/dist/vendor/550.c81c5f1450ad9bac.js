"use strict";(self.webpackChunkspurt_multi_vendor=self.webpackChunkspurt_multi_vendor||[]).push([[550,516,135],{68516:(N,x,r)=>{r.r(x),r.d(x,{CatalogModule:()=>z,routes:()=>V});var _=r(60177),R=r(51188),j=r(89417),G=r(86600),f=r(25084),b=r(99213),y=r(76233),E=r(32102),M=r(99631),C=r(37886),T=r(62256),O=r(72510),I=r(74054),g=r(41780),S=r(49458),F=r(16340),A=r(84881),U=r(70216),t=r(18366),l=r(67898),d=r(22154),p=r(44346),m=r(63644),B=r(54438);const V=[{path:"manage-products",loadChildren:()=>r.e(390).then(r.bind(r,29390)).then(L=>L.ManageProductModule),canActivate:[m.q],data:{root:"sales",permissionForHeader:"sales-orders"}}];let z=(()=>{class L{static{this.\u0275fac=function(X){return new(X||L)}}static{this.\u0275mod=B.$C({type:L})}static{this.\u0275inj=B.G2t({providers:[F.V,l.b,U.L,_.vh,d.w,t.z,p.h,{provide:G.Ju,useValue:"en-GB"}],imports:[_.MD,R.iI.forChild(V),j.X1,E.RG,f.X6,G.WX,S.Gg,j.YN,C.UN,M.fS,y.aP,b.m_,I.Vm.forFeature([F.V,A.F]),T.H,O.MQ,g.h]})}}return L})()},7550:(N,x,r)=>{r.r(x),r.d(x,{ManageCustomersModule:()=>Ve});var _=r(60177),R=r(51188),j=r(25084),G=r(76233),f=r(99213),b=r(92543),y=r(86600),E=r(32102),M=r(99631),C=r(89417),T=r(72510),O=r(41780),I=r(37886),g=r(74054),S=r(72234),F=r(49458),A=r(68516),U=r(71375),t=r(54438),l=r(27269),d=r(34514),p=r(71511);const m=n=>n.crmGroups,B=(0,d.Mz)(m,p.yw),V=(0,d.Mz)(m,p.Wq),z=(0,d.Mz)(m,p.xw),L=(0,d.Mz)(m,p.kv),st=(0,d.Mz)(m,p.a6),K=(0,d.Mz)(m,p.H1),X=(0,d.Mz)(m,p.r_),rt=(0,d.Mz)(m,p.Bq),at=(0,d.Mz)(m,p.yJ),it=(0,d.Mz)(m,p.NT),ct=(0,d.Mz)(m,p.d0),lt=(0,d.Mz)(m,p.mv),ut=(0,d.Mz)(m,p.tg),dt=(0,d.Mz)(m,p.RR),pt=(0,d.Mz)(m,p.qC),mt=(0,d.Mz)(m,p.Nn),ht=(0,d.Mz)(m,p.pI),gt=(0,d.Mz)(m,p.yd),Ct=(0,d.Mz)(m,p.zX),ft=(0,d.Mz)(m,p.XU),_t=(0,d.Mz)(m,p.qq),bt=(0,d.Mz)(m,p.L9),vt=(0,d.Mz)(m,p.ht),Mt=(0,d.Mz)(m,p.cN),yt=(0,d.Mz)(m,p._F),It=(0,d.Mz)(m,p.ax),Gt=(0,d.Mz)(m,p.T6),Et=(0,d.Mz)(m,p.f1),Ot=(0,d.Mz)(m,p.j4),Tt=(0,d.Mz)(m,p.Og),St=(0,d.Mz)(m,p.T5),Rt=(0,d.Mz)(m,p.hl),Dt=(0,d.Mz)(m,p.mq);var kt=r(87010);let w=(()=>{class n{constructor(e){this.appState=e,this.addCustomer$=this.appState.select(B),this.addCustomerLoading$=this.appState.select(V),this.addCustomerLoaded$=this.appState.select(z),this.customerGroupList$=this.appState.select(L),this.customerGroupListLoading$=this.appState.select(st),this.customerGroupListLoaded$=this.appState.select(K),this.addCustomerGroup$=this.appState.select(X),this.addCustomerGroupLoading$=this.appState.select(rt),this.addCustomerGroupLoaded$=this.appState.select(at),this.updateCustomerGroup$=this.appState.select(it),this.updateCustomerGroupLoading$=this.appState.select(ct),this.updateCustomerGroupLoaded$=this.appState.select(lt),this.deleteCustomerGroup$=this.appState.select(ut),this.deleteCustomerGroupLoading$=this.appState.select(dt),this.deleteCustomerGroupLoaded$=this.appState.select(pt),this.customerGroupListCount$=this.appState.select(mt),this.customerGroupListCountLoading$=this.appState.select(ht),this.customerGroupListCountLoaded$=this.appState.select(gt),this.customerList$=this.appState.select(Ct),this.customerListLoading$=this.appState.select(ft),this.customerListLoaded$=this.appState.select(_t),this.customerDetails$=this.appState.select(bt),this.customerDetailsLoading$=this.appState.select(vt),this.customerDetailsLoaded$=this.appState.select(Mt),this.customerStatusUpdate$=this.appState.select(yt),this.customerStatusUpdateLoading$=this.appState.select(It),this.customerStatusUpdateLoaded$=this.appState.select(Gt),this.customerGroupDetail$=this.appState.select(Et),this.customerGroupDetailLoading$=this.appState.select(Ot),this.customerGroupDetailLoaded$=this.appState.select(Tt),this.customerGroupUpdate$=this.appState.select(St),this.customerGroupUpdateLoading$=this.appState.select(Rt),this.customerGroupUpdateLoaded$=this.appState.select(Dt)}addCustomer(e){this.appState.dispatch(new l.CP(e))}customerGroupList(e){this.appState.dispatch(new l.U8(e))}addCustomerGroup(e){this.appState.dispatch(new l.n3(e))}updateCustomerGroup(e){this.appState.dispatch(new l.N(e))}deleteCustomerGroup(e){this.appState.dispatch(new l.Pc(e))}customerGroupListCount(e){this.appState.dispatch(new l.Pn(e))}customerList(e){this.appState.dispatch(new l.xP(e))}customerDetails(e){this.appState.dispatch(new l.Xm(e))}customerStatusUpdate(e){this.appState.dispatch(new l.u2(e))}customerGroupDetail(e){this.appState.dispatch(new l.r0(e))}customerGroupUpdate(e){this.appState.dispatch(new l.R9(e))}static{this.\u0275fac=function(s){return new(s||n)(t.KVO(kt.il))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var Pt=r(7431);const H=()=>["customerName"],xt=n=>({disableClass:n}),jt=()=>[1,2,3,4,5,6,7],Lt=n=>({width:n,"border-radius":"10px",height:"15px","background-color":"#e5e5eb"});function Ft(n,c){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CRM.Update Customer")," "))}function $t(n,c){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.SpI(" ",t.bMT(1,1,"CRM.Add Customer")," ")}function At(n,c){if(1&n&&(t.j41(0,"div",20)(1,"div",21),t.nrm(2,"img",22),t.k0s(),t.j41(3,"div"),t.nrm(4,"ngx-skeleton-loader",23),t.k0s()()),2&n){const e=c.index;t.R7$(4),t.Y8G("theme",t.eq3(1,Lt,0==e?"170px":1==e?"100px":2==e?"140px":3==e?"90px":4==e?"110px":"130px"))}}function Ut(n,c){if(1&n&&(t.qex(0),t.DNE(1,At,5,3,"div",19),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",t.lJ4(2,jt))("ngForTrackBy",e.trackByIndex)}}function Nt(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",24),t.bIt("click",function(){const o=t.eBV(e),i=o.$implicit,h=o.index,a=t.XpG(2);return t.Njj(a.addDataArray(i,h))}),t.j41(1,"div",21),t.nrm(2,"img",22),t.k0s(),t.j41(3,"div",25),t.EFF(4),t.k0s(),t.j41(5,"button",26),t.nrm(6,"img",27),t.k0s()()}if(2&n){const e=c.$implicit;t.R7$(4),t.SpI(" ",e.customerName," ")}}function Bt(n,c){1&n&&(t.j41(0,"div",28)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"common.NoCatogoriesAvailabe")))}function Vt(n,c){if(1&n&&(t.DNE(0,Nt,7,1,"div",14),t.nI1(1,"search"),t.DNE(2,Bt,4,3,"div",15)),2&n){const e=t.XpG();t.Y8G("ngForOf",t.brH(1,3,e.customerList,t.lJ4(7,H),e.name))("ngForTrackBy",e.trackByIndex),t.R7$(2),t.Y8G("ngIf",0==e.customerList.length)}}function wt(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",24),t.bIt("click",function(){const o=t.eBV(e),i=o.$implicit,h=o.index,a=t.XpG();return t.Njj(a.cancelData(i,h))}),t.j41(1,"div",21),t.nrm(2,"img",22),t.k0s(),t.j41(3,"div",25),t.EFF(4),t.k0s(),t.j41(5,"button",26)(6,"p",29),t.EFF(7,"-"),t.k0s()()()}if(2&n){const e=c.$implicit;t.R7$(4),t.SpI(" ",e.customerName," ")}}function zt(n,c){1&n&&(t.j41(0,"div",28)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"common.NoCatogoriesAvailabe")))}function Xt(n,c){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.Update")," "))}function Yt(n,c){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.JRh(t.bMT(1,1,"common.Create"))}let J=(()=>{class n{constructor(e,s,o){this.activeModal=e,this.customerSandbox=s,this.ref=o,this.customerArray=[],this.rightDataArray=[],this.buyerIds=[],this.customerList=[],this.detailsIdArray=[],this.submitted=!1,this.requiredField=!1,this.subscription=[],this.trackByIndex=i=>i}ngOnInit(){this.custometList()}custometList(){this.customerSandbox.customerList({}),this.subscription.push(this.customerSandbox.customerList$.subscribe(e=>{e.forEach(s=>{s.customerName=s.firstName+" "+s.lastName}),this.customerList=e,e&&this.detailsId&&this.coustomerDetail(this.detailsId)}))}addDataArray(e,s){this.rightDataArray.unshift({...e}),this.rightDataArray=[...this.rightDataArray],this.customerList.forEach(o=>{this.rightDataArray.forEach(i=>{o.id==i.id&&(this.customerList=this.customerList.filter(h=>h.id!=i.id),this.customerList=[...this.customerList])})})}cancelData(e,s){this.customerList.push(e),this.customerList=[...this.customerList],this.rightDataArray.splice(s,1),this.rightDataArray=[...this.rightDataArray]}saveCustomer(){this.rightDataArray.forEach(s=>{this.buyerIds.push(s.id)});let e={};e.customerIds=this.buyerIds,e.id=this.id,this.detailsId?(this.customerSandbox.updateCustomerGroup(e),this.subscription.push(this.customerSandbox.updateCustomerGroup$.subscribe(s=>{1==s?.status&&(this.rightDataArray=[],this.activeModal.close("close"))}))):(this.customerSandbox.addCustomer(e),this.subscription.push(this.customerSandbox.addCustomer$.subscribe(s=>{1==s?.status&&(this.rightDataArray=[],this.activeModal.close("close"))})))}coustomerDetail(e){this.rightDataArray=[],this.customerSandbox.customerDetails(e),this.subscription.push(this.customerSandbox.customerDetails$.subscribe(s=>{s&&s.length>0&&s.forEach(o=>{let i=this.customerList.filter(h=>h.id==o.id);i.length>0&&(this.rightDataArray.push(i[0]),this.rightDataArray=[...this.rightDataArray]),this.ref.detectChanges(),this.customerList=this.customerList.filter(h=>h.id!=o.id),this.customerList=[...this.customerList],this.ref.detectChanges()})}))}close(){this.activeModal.close("dismiss")}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(I.Lw),t.rXU(w),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-customer"]],inputs:{id:"id",detailsId:"detailsId"},decls:48,vars:43,consts:[["Add",""],["loaded",""],["create",""],[1,"head-modal"],[4,"ngIf","ngIfElse"],[1,"overall-style"],[1,"prodcut-add-categories"],[1,"prodcut-add-categories-col"],[1,"categories-heading"],[1,"heading-customer"],[1,"input-group","categories-search"],[1,"ig-row"],["type","text",1,"search",3,"ngModelChange","placeholder","ngModel"],[1,"product-categories-list"],["class","product-categories-list-row",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","nodata flexx",4,"ngIf"],[1,"product-save-btn","modal-save-btn"],["type","button",1,"prev",3,"click"],["type","button",1,"save",3,"click","ngClass","disabled"],["class","product-categories-list-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"product-categories-list-row"],[1,"drag-icon"],["src","assets/imgs/drag.svg","alt","Drag"],[3,"theme"],[1,"product-categories-list-row",3,"click"],[1,"categories-list-txt"],[1,"btn-add"],["src","assets/imgs/add-plus.svg","alt","Add customer"],[1,"nodata","flexx"],[1,"mb-0"]],template:function(s,o){if(1&s){const i=t.RV6();t.j41(0,"div",3)(1,"h3"),t.DNE(2,Ft,3,3,"ng-container",4)(3,$t,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h4",9),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"p"),t.EFF(13),t.nI1(14,"translate"),t.k0s()(),t.j41(15,"div",10)(16,"div",11)(17,"input",12),t.nI1(18,"translate"),t.mxI("ngModelChange",function(a){return t.eBV(i),t.DH7(o.name,a)||(o.name=a),t.Njj(a)}),t.k0s()()(),t.j41(19,"div",13),t.DNE(20,Ut,2,3,"ng-container",4),t.nI1(21,"async"),t.DNE(22,Vt,3,8,"ng-template",null,1,t.C5r),t.k0s()(),t.j41(24,"div",7)(25,"div",8)(26,"h4",9),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.j41(29,"p"),t.EFF(30),t.nI1(31,"translate"),t.k0s()(),t.j41(32,"div",10)(33,"div",11)(34,"input",12),t.nI1(35,"translate"),t.mxI("ngModelChange",function(a){return t.eBV(i),t.DH7(o.selectedName,a)||(o.selectedName=a),t.Njj(a)}),t.k0s()()(),t.j41(36,"div",13),t.DNE(37,wt,8,1,"div",14),t.nI1(38,"search"),t.DNE(39,zt,4,3,"div",15),t.k0s()()()(),t.j41(40,"div",16)(41,"button",17),t.bIt("click",function(){return t.eBV(i),t.Njj(o.close())}),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.j41(44,"button",18),t.bIt("click",function(){return t.eBV(i),t.Njj(o.saveCustomer())}),t.DNE(45,Xt,3,3,"ng-container",4)(46,Yt,2,3,"ng-template",null,2,t.C5r),t.k0s()()}if(2&s){const i=t.sdS(4),h=t.sdS(23),a=t.sdS(47);t.R7$(2),t.Y8G("ngIf",o.detailsId)("ngIfElse",i),t.R7$(8),t.SpI(" ",t.bMT(11,20,"CRM.Available Customers"),""),t.R7$(3),t.JRh(t.bMT(14,22,"content.AvailableCustomers")),t.R7$(4),t.FS9("placeholder",t.bMT(18,24,"CRM.Search Customer Name")),t.R50("ngModel",o.name),t.R7$(3),t.Y8G("ngIf",t.bMT(21,26,o.customerSandbox.customerListLoading$))("ngIfElse",h),t.R7$(7),t.JRh(t.bMT(28,28,"CRM.Selected Customers")),t.R7$(3),t.JRh(t.bMT(31,30,"content.SelectedCustomers")),t.R7$(4),t.FS9("placeholder",t.bMT(35,32,"CRM.Search Customer Name")),t.R50("ngModel",o.selectedName),t.R7$(3),t.Y8G("ngForOf",t.brH(38,34,o.rightDataArray,t.lJ4(40,H),o.selectedName))("ngForTrackBy",o.trackByIndex),t.R7$(2),t.Y8G("ngIf",0==o.rightDataArray.length),t.R7$(3),t.JRh(t.bMT(43,38,"common.Cancel")),t.R7$(2),t.Y8G("ngClass",t.eq3(41,xt,0==o.rightDataArray))("disabled",0==o.rightDataArray),t.R7$(),t.Y8G("ngIf",o.detailsId)("ngIfElse",a)}},dependencies:[_.YU,_.Sq,_.bT,C.me,C.BC,C.vS,S.Zm,_.Jj,Pt.R,O.D9],styles:[".delete-confirm.modal{top:0!important}.overall-style[_ngcontent-%COMP%]{padding:20px 30px 0}.head-modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.25rem 1.5rem;border-bottom:1px solid #ececf1}.head-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#202123;margin:0}.head-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background-color:transparent}.header-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header-data[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid #ebeff3;height:2rem;border-radius:.1875rem;padding:0 .5rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#333;background-image:url(search-white.09742bd64e250ed2.svg);background-repeat:no-repeat!important;background-position:right .5rem center}.left-data[_ngcontent-%COMP%]{border:thin solid #ebeff3;padding:.5rem;height:calc(100vh - 32rem);overflow-y:auto;min-height:20rem}.details-div[_ngcontent-%COMP%]{padding:.25rem;display:grid;grid-template-columns:1fr 1.0625rem;grid-gap:1rem;gap:1rem}.data-array[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:.125rem}.btn-add[_ngcontent-%COMP%]{width:1.0625rem;height:1.0625rem;border-radius:.1875rem;display:flex;justify-content:center;align-items:center;background-color:#f6fafe;border:0}.combined-array[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);grid-gap:3rem;gap:3rem;margin-top:1.5rem}.heading-customer[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#475867;margin-bottom:1rem}.right-array[_ngcontent-%COMP%]{border:thin solid #ebeff3;padding:.5rem;height:calc(100vh - 32rem);overflow-y:auto;min-height:20rem}.footer-content[_ngcontent-%COMP%]{display:flex;background-color:#f9f9f9;height:4.1875rem;justify-content:flex-end;align-items:center;padding-inline:2rem;gap:1.5rem}.upload-btn[_ngcontent-%COMP%]{min-width:4.75rem;height:2.1875rem;padding-inline:1rem;background-color:#0e2a3e;color:#d0dfe8}.cancel-btn[_ngcontent-%COMP%]{min-width:4.75rem;height:2.1875rem;padding-inline:1rem;border:thin solid #d0dfe8;background-color:#f1f8ff;color:#0e2a3e}.delete-btn[_ngcontent-%COMP%]{position:absolute;border:none;right:14px;top:10px;width:60px;height:42px;background-color:transparent}  .modal-dialog-centered{max-width:70rem}.disableClass[_ngcontent-%COMP%]{opacity:.5;cursor:default}  .permisson-modal.modal.fade .modal-dialog{max-width:55.087rem!important}.nodata[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;padding:0rem 2rem;min-height:unset;height:100%;text-align:center}"]})}}return n})();var Wt=r(18359),Q=r(345),Kt=r(77340);const Ht=n=>({"error-fields":n}),Jt=()=>["",null,void 0];function Qt(n,c){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CRM.Update Customer Group")," "))}function Zt(n,c){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.SpI(" ",t.bMT(1,1,"CRM.Add Customer Group")," ")}function qt(n,c){1&n&&(t.j41(0,"p",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"CRM.Group Name is required")))}function te(n,c){1&n&&(t.j41(0,"p",12),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Allowonlyalphabetsspaces")," "))}let Y=(()=>{class n{constructor(e,s,o){this.activeModal=e,this.sandbox=s,this.titleService=o,this.subscriptions=new Wt.yU,this.emptyCheckArr=["",null,void 0],this.submitted=!1,this.title="Customer Group",this.titleService.setTitle(this.title)}ngOnInit(){this.groupId&&(this.sandbox.customerGroupDetail(this.groupId),this.subscriptions.add(this.sandbox.customerGroupDetail$.subscribe(e=>{e&&this.setData(e)})))}close(){this.activeModal.close("delete")}setData(e){this.data=e.name}saveData(){if(this.submitted=!0,!["",null,void 0].includes(this.data))if(this.groupId)this.sandbox.customerGroupUpdate({id:this.groupId,name:this.data}),this.subscriptions.add(this.sandbox.customerGroupUpdate$.subscribe(s=>{1==s?.status&&this.activeModal.close("close")}));else{let e={};e.name=this.data,this.sandbox.addCustomerGroup(e),this.subscriptions.add(this.sandbox.addCustomerGroup$.subscribe(s=>{1==s?.status&&this.activeModal.close("close")}))}}ngOnDestroy(){this.groupId="",this.subscriptions.unsubscribe()}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(I.Lw),t.rXU(w),t.rXU(Q.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-customer-group"]],inputs:{groupId:"groupId"},decls:25,vars:21,consts:[["add",""],["priceInput","ngModel"],[1,"modal-heading"],[4,"ngIf","ngIfElse"],[1,"modal-body"],[1,"input-group"],[1,"ig-row"],["type","text","maxlength","100","required","","pattern","^[A-Za-z\\s]+$","appNoLeadingSpace","",1,"customer-list",3,"ngModelChange","ngModel","placeholder","ngClass"],["class","error-data",4,"ngIf"],[1,"product-save-btn","modal-save-btn"],["type","button",1,"cancel",3,"click"],["type","button","data-dismiss","modal",1,"save",3,"click"],[1,"error-data"]],template:function(s,o){if(1&s){const i=t.RV6();t.j41(0,"div",2)(1,"h3"),t.DNE(2,Qt,3,3,"ng-container",3)(3,Zt,2,3,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(5,"div",4)(6,"div",5)(7,"label"),t.EFF(8),t.nI1(9,"translate"),t.j41(10,"span"),t.EFF(11,"*"),t.k0s()(),t.j41(12,"div",6)(13,"input",7,1),t.nI1(15,"translate"),t.mxI("ngModelChange",function(a){return t.eBV(i),t.DH7(o.data,a)||(o.data=a),t.Njj(a)}),t.k0s(),t.DNE(16,qt,3,3,"p",8)(17,te,3,3,"p",8),t.k0s()()(),t.j41(18,"div",9)(19,"button",10),t.bIt("click",function(){return t.eBV(i),t.Njj(o.close())}),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"button",11),t.bIt("click",function(){return t.eBV(i),t.Njj(o.saveData())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()}if(2&s){const i=t.sdS(4),h=t.sdS(14);t.R7$(2),t.Y8G("ngIf",o.groupId)("ngIfElse",i),t.R7$(6),t.SpI("",t.bMT(9,10,"CRM.Customer Group Name")," "),t.R7$(5),t.FS9("placeholder",t.bMT(15,12,"CRM.EnterCustomerGroupName")),t.R50("ngModel",o.data),t.Y8G("ngClass",t.eq3(18,Ht,o.submitted&&o.emptyCheckArr.includes(o.data))),t.R7$(3),t.Y8G("ngIf",o.submitted&&t.lJ4(20,Jt).includes(o.data)),t.R7$(),t.Y8G("ngIf",(null==h.errors?null:h.errors.pattern)&&h.dirty),t.R7$(3),t.SpI(" ",t.bMT(21,14,"common.Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(24,16,"common.Save")," ")}},dependencies:[_.YU,_.bT,C.me,C.BC,C.YS,C.tU,C.R_,C.vS,Kt.L,O.D9],styles:[".header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.customer-list[_ngcontent-%COMP%]{border:1px solid #e1e6f3;width:100%;margin:0;border-radius:6px;height:40px}.header-style[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.header-style[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.cancel-btn[_ngcontent-%COMP%]{margin-top:16px;margin-right:10px}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px;background-color:#efefef;padding:2rem 1rem;margin:0}.overallClass[_ngcontent-%COMP%]{padding:2rem 2rem 1rem!important}.cancel-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;position:absolute;margin:0;inset:1rem 1rem auto auto}.delete-btn[_ngcontent-%COMP%]{border:none;background-color:#d4d5d8;border-radius:5px}.upload-btn[_ngcontent-%COMP%]{border:none;background-color:#e86d08;padding:10px;border-radius:5px}.disableClass[_ngcontent-%COMP%]{opacity:.5;cursor:default}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}  .delete-confirm.modal.fade .modal-dialog{max-width:31.087rem!important}input[_ngcontent-%COMP%]{font-size:14px;padding:5px 10px}.loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}"]})}}return n})();var ee=r(58866),ne=r(96118);const Z=[{displayName:"",id:"id",type:"checkBox",checked:!0,optionalFilterName:"Checkbox",isEnableSelectall:!0,customStyle:{trow:{class:"tableAlign"},tbody:{class:"tableAlign"}}},{displayName:"CRM.Group Name",id:"name",type:"template",checked:!0,filterColName:"CRM.Group Name"},{displayName:"CRM.Permission",type:"template",id:"pennding",key:"checkBox",checked:!0,filterColName:"CRM.Permission"},{displayName:"CRM.Status",id:"isActive",type:"toggle",checked:!0,filterColName:"CRM.Status",customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"",type:"threeDotMenu",checked:!0,menuData:[{name:"Edit",img:"assets/imgs/edit.svg",displayName:"common.Edit"},{name:"Delete",img:"assets/imgs/delete.svg",displayName:"common.Delete"}],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}}],oe={"CRM.Group Name":!0,"CRM.Permission":!0,"CRM.Status":!0},se={GroupName:{label:"CRM.Group Name",name:"groupName",validatiors:[],type:"text",placeholder:"CRM.EnterCustomerGroupName"},Status:{name:"Status",label:"common.Status",validatiors:[],type:"ngSelect",placeholder:"Select the status",customData:{data:[{name:"Active",id:1},{name:"In-Active",id:0}],key:"name",value:"id"}},Search:{name:"Search",label:"",validatiors:[],type:"text",placeholder:"uniformList.enterthekeyword"}};function q(n){for(const c in n)n.hasOwnProperty(c)&&(null==n[c]||""===n[c])&&delete n[c];return n}const re=(0,ne.z)(["resetCheckbox","bulkUpload"]);var tt=r(28276),ae=r(48792),et=r(48256),ie=r(79754);let W=(()=>{class n extends ie.j{constructor(){super(...arguments),this.params={},this.basUrl=this.getBaseUrl()}addCustomer(e){let s=e.id;return delete e.id,this.http.put(this.basUrl+`/vendor-customer-group/${s}/customer`,e)}customerGroupList(e){return this.http.get(this.basUrl+"/vendor-customer-group",{params:e})}customerGroupListCount(e){return this.http.get(this.basUrl+"/vendor-customer-group",{params:e})}addCustomerGroup(e){return this.http.post(this.basUrl+"/vendor-customer-group",e)}updateCustomerGroup(e){return this.http.put(this.basUrl+`/vendor-customer-group/${e.id}/customer`,e)}deleteCustomerGroup(e){return this.http.delete(this.basUrl+"/vendor-customer-group/"+e)}customerList(e){return this.http.get(this.basUrl+"/vendor-customer-group/customer/list",{params:e})}customerDetails(e){return this.http.get(this.basUrl+`/vendor-customer-group/${e}/customer`)}customerStatusUpdate(e){return this.http.put(this.basUrl+"/vendor-customer-group/status/"+e.id,e)}customerGroupDetail(e){return this.http.get(this.basUrl+"/vendor-customer-group/"+e)}customerGroupUpdate(e){return this.http.put(this.basUrl+"/vendor-customer-group/"+e.id,e)}bulkStatusUpdate(e){return this.http.post(this.basUrl+"/vendor-customer-group/bulk-status",e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var ce=r(19851),le=r(69720),ue=r(29355),de=r(86723),pe=r(57812),me=r(41849),he=r(28431);const ge=["dropdownContent"],Ce=["dropdownContentFilter"],nt=n=>({"disable-div":n}),fe=()=>["",null,void 0],_e=(n,c,e)=>({pennding:n,isActive:c,name:e});function be(n,c){if(1&n&&t.nrm(0,"app-reusable-forms",37),2&n){const e=t.XpG().$implicit,s=t.XpG();t.Y8G("type",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].type)("control",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].control)("label",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].label)("inputId",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].inputId)("aliasName",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].aliasName)("customData",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].customData)("placeholder",null==s.dynamicObjControls[e]?null:s.dynamicObjControls[e].placeholder)}}function ve(n,c){if(1&n&&(t.j41(0,"div"),t.DNE(1,be,1,7,"app-reusable-forms",36),t.k0s()),2&n){const e=c.$implicit;t.R7$(),t.Y8G("ngIf","Search"!==e)}}function Me(n,c){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==e.value?"Active":"In-active"," ")}}function ye(n,c){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.value," ")}}function Ie(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",41)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,42),t.DNE(4,Me,2,1,"ng-container",43)(5,ye,2,1,"ng-container",44),t.bVm(),t.j41(6,"button",45),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.removeFilter(o))}),t.nrm(7,"img",46),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",e.key," : "),t.R7$(),t.Y8G("ngSwitch",e.key),t.R7$(),t.Y8G("ngSwitchCase","Status")}}function Ge(n,c){if(1&n&&(t.qex(0),t.DNE(1,Ie,8,3,"div",40),t.bVm()),2&n){const e=c.$implicit;t.R7$(),t.Y8G("ngIf",!t.lJ4(1,fe).includes(e.value))}}function Ee(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",38)(1,"h4"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,Ge,2,2,"ng-container",22),t.nI1(5,"keyvalue"),t.j41(6,"a",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.filterReset("clearAll"))}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,4,"common.Filter"),":"),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,e.backupFormValue))("ngForTrackBy",e.trackByIndex),t.R7$(3),t.JRh(t.bMT(8,8,"common.ClearFilters"))}}function Oe(n,c){1&n&&(t.j41(0,"div"),t.nrm(1,"app-list-skeleton"),t.k0s())}function Te(n,c){if(1&n){const e=t.RV6();t.j41(0,"app-common-table",47),t.bIt("buttonChangeEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.buttonAction(o))}),t.k0s()}if(2&n){const e=t.XpG(),s=t.sdS(60),o=t.sdS(62),i=t.sdS(64);t.Y8G("HeadArray",e.dynamicColumnFields)("GridArray",e.listData)("selectAll",e.tableCheckbox)("customTemplate",t.sMw(4,_e,s,i,o))}}function Se(n,c){if(1&n){const e=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.addCustomer(o,o.id))}),t.EFF(1),t.k0s()}if(2&n){const e=c.$implicit;t.R7$(),t.JRh(1==e.isMapped?"Manage":"Yet to config")}}function Re(n,c){if(1&n){const e=t.RV6();t.j41(0,"span",49),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.editCustomerGroup(o))}),t.EFF(1),t.k0s()}if(2&n){const e=c.$implicit;t.R7$(),t.JRh(e.name)}}function De(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",50)(1,"input",51),t.bIt("change",function(o){const i=t.eBV(e).$implicit,h=t.XpG();return t.Njj(h.statusUpdate(i,o.target.checked))}),t.k0s(),t.nrm(2,"label",52),t.k0s()}if(2&n){const e=c.$implicit;t.R7$(),t.Y8G("id",e.id)("checked",e.isActive),t.R7$(),t.Y8G("for",e.id)}}function ke(n,c){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"translate"),t.bVm()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"common.NoDataAvailablefortheFilteredCriteria")," "))}function Pe(n,c){1&n&&(t.EFF(0),t.nI1(1,"translate")),2&n&&t.SpI(" ",t.bMT(1,1,"CRM.No groups are added")," ")}function xe(n,c){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"a",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.addCustomerGroup())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" + ",t.bMT(3,1,"CRM.Add Group")," "))}function je(n,c){if(1&n&&(t.j41(0,"div",53)(1,"span"),t.nrm(2,"img",54),t.k0s(),t.j41(3,"h4"),t.DNE(4,ke,3,3,"ng-container",55)(5,Pe,2,3,"ng-template",null,5,t.C5r),t.k0s(),t.DNE(7,xe,4,3,"div",30),t.k0s()),2&n){const e=t.sdS(6),s=t.XpG();t.R7$(4),t.Y8G("ngIf",s.formValueExists)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",!s.formValueExists)}}function Le(n,c){if(1&n){const e=t.RV6();t.j41(0,"app-reusable-pagination",56),t.bIt("pageChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(5,nt,(null==e.selectedcheckbox?null:e.selectedcheckbox.length)>0))("type","numbers")("currentPage",e.currentPage)("pageSize",e.limit)("totalItems",e.countArray)}}function Fe(n,c){if(1&n){const e=t.RV6();t.j41(0,"div",57)(1,"div",58)(2,"a",59),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closebutton())}),t.nrm(3,"img",60),t.k0s(),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"a",59),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.BulkUpdate())}),t.nrm(7,"img",61),t.EFF(8),t.nI1(9,"translate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(4),t.Lme(" (",e.selectedcheckbox.length,") ",t.bMT(5,3,"common.Selected")," "),t.R7$(4),t.SpI(" ",t.bMT(9,5,"common.Update")," ")}}function $e(n,c){if(1&n){const e=t.RV6();t.j41(0,"app-bulk-action",62),t.bIt("actionEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.actionType(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("bulkList",e.bulkActions)("count",null==e.selectedcheckbox?null:e.selectedcheckbox.length)}}let Ae=(()=>{class n{constructor(e,s,o,i,h,a,u,we,ze,Xe){this.router=e,this.formBuilder=s,this.toaster=o,this.route=i,this.modal=h,this.crmGroupsSandbox=a,this.fb=u,this.ref=we,this.crmGroupsService=ze,this.titleService=Xe,this.backupData=structuredClone(Z),this.dynamicColumnFields=structuredClone(Z),this.currentPage=1,this.limit=10,this.offset=0,this.pageSizeList=ae.h,this.backupColumns=structuredClone(oe),this._Object=Object,this.empty=[null,"",void 0],this.subscriptions=[],this.listData=[],this.countArray=[],this.title="Customer Group",this.selectedcheckbox=[],this.tableCheckbox={isSelectAll:!1},this.bulkActions=re,this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this.trackByIndex=Ye=>Ye,this.titleService.setTitle(this.title)}ngOnInit(){this.buildForm(),this.routerSubscribe()}routerSubscribe(){this.offset=parseInt(this.route.snapshot.queryParamMap.get("offset"))||this.offset,this.limit=parseInt(this.route.snapshot.queryParamMap.get("limit"))||this.limit,this.currentPage=this.route.snapshot.queryParamMap.get("pageSize")||this.currentPage,this.subscriptions.push(this.route.queryParams.subscribe(e=>{this.formObjFormGroup.patchValue({groupName:e.groupName??"",Status:e.status??null,Search:e.keyword??""}),this.filterValueUpdate()})),this.customerList(),this.customerListCount()}buttonAction(e){switch(e.key){case"checkBox":this.selectedcheckbox=e.selectedDatas;break;case"toggle":this.statusUpdate(e,e.radioEvent);break;case"threeDotMenu":"Edit"==e.actionType?this.editCustomerGroup(e):this.deleteData(e?.id)}}actionType(e){switch(e){case"resetCheckbox":this.resetCheckbox();break;case"bulkUpload":this.BulkUpdate()}}removeFilter(e){this.formObjFormGroup.controls[e.key].reset(),this.filterValueUpdate(),this.resetAll()}buildForm(){const e=structuredClone(se),s=(0,tt.b0)(e);this.formObjFormGroup=this.fb.group(s),Object.keys(e).forEach(o=>{this.dynamicObjControls[o]=(0,tt.yE)(e[o],this.formObjFormGroup)}),this.filterValueUpdate()}saveColumns(e){this.backupColumns=structuredClone(e),this.showHideTableColumn()}applyFilter(){this.filterValueUpdate(),this.resetAll()}filterReset(e){"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({groupName:"",Status:null,Search:""}),this.filterValueUpdate(),this.resetAll()}addCustomerGroup(){this.modal.open(Y,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"})?.result.then(s=>{"close"==s&&(this.customerList(),this.customerListCount())})}customerList(){this.offset=(this.currentPage-1)*this.limit;let e=q(this.getQueryParam());e.count=0,delete e.currentPage,this.crmGroupsSandbox.customerGroupList(e),this.subscriptions.push(this.crmGroupsSandbox.customerGroupList$.subscribe(s=>{this.listData=s,s.forEach(o=>{o.checked&&this.selectedcheckbox.push(o.id)})})),this.updateQueryParam()}customerListCount(){this.offset=(this.currentPage-1)*this.limit;let e=q(this.getQueryParam());e.count=1,delete e.currentPage,this.crmGroupsSandbox.customerGroupListCount(e),this.subscriptions.push(this.crmGroupsSandbox.customerGroupListCount$.subscribe(s=>{s&&(this.countArray=s)})),this.updateQueryParam()}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.customerList()}pageSizeChange(e){this.onPageChange({limit:e.id,offset:0})}deleteData(e){const s=this.modal.open(U.T,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories delete-modal"});s.componentInstance.deleteMessage="Customer Group",s.result.then(o=>{"deleted"==o&&(this.crmGroupsSandbox.deleteCustomerGroup(e),this.subscriptions.push(this.crmGroupsSandbox.deleteCustomerGroup$.subscribe(i=>{1==i?.status&&(1==this.listData.length&&(this.offset=0,this.currentPage=1),this.customerList(),this.customerListCount())})))})}editCustomerGroup(e){const s=this.modal.open(Y,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});s.componentInstance.groupId=e.id,s?.result.then(o=>{"close"==o&&(this.customerList(),this.customerListCount())})}getQueryParam(){return{limit:this.limit,offset:this.offset,currentPage:this.currentPage,keyword:this.backupFormValue.Search??"",groupName:this.backupFormValue.groupName??"",status:this.backupFormValue.Status??null}}addCustomer(e,s){const o=this.modal.open(J,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"permisson-modal"});o.componentInstance.id=s,1==e.isMapped&&(o.componentInstance.detailsId=s),o.result.then(i=>{"close"==i&&(this.customerList(),this.customerListCount())})}statusUpdate(e,s){this.crmGroupsSandbox.customerStatusUpdate({status:s?1:0,id:e.id})}closebutton(){this.subscriptions.push(this.crmGroupsSandbox.customerGroupList$.subscribe(e=>{e.forEach(s=>s.checked=!1)})),this.selectedcheckbox=[]}BulkUpdate(){const e=this.modal.open(ee.t,{size:"md",backdrop:"static",backdropClass:"createcr",centered:!0,windowClass:"assignattributesmodal-categories"});e.componentInstance.Name="BulkUpdate.CustomerGroupStatus",e.componentInstance.Content="BulkUpdate.SelectAndActivateMultiple",e.componentInstance.action="Single",e.result.then(s=>{"Save"==s?.modelStatus&&(this.selectedcheckbox=this.selectedcheckbox.map(i=>i.id),this.crmGroupsService.bulkStatusUpdate({customerGroupIds:this.selectedcheckbox,statusId:1==s?.StatusChange?1:0}).subscribe(i=>{1==i?.status&&(this.resetCheckbox(),this.customerList(),this.selectedcheckbox=[])}))})}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}showHideTableColumn(){this.dynamicColumnFields.forEach(e=>{e.hasOwnProperty("filterColName")&&(e.checked=this.backupColumns[e.filterColName])})}resetAll(){this.customerList(),this.customerListCount(),this.dropDownClose("dropdownContentFilter"),this.dropDownClose("dropdownContent")}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(structuredClone(this.backupFormValue)).some(e=>!this.empty.includes(e)),this.ref.detectChanges()}resetCheckbox(){this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}reset(e=!1){this.listData.forEach(s=>s.checked=e),this.selectedcheckbox=this.listData.filter(s=>s?.checked)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(R.Ix),t.rXU(C.ze),t.rXU(et.tw),t.rXU(R.nX),t.rXU(I.Bq),t.rXU(w),t.rXU(C.ze),t.rXU(t.gRc),t.rXU(W),t.rXU(Q.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-customers"]],viewQuery:function(s,o){if(1&s&&(t.GBs(ge,5),t.GBs(Ce,5)),2&s){let i;t.mGM(i=t.lsd())&&(o.dropdownContent=i.first),t.mGM(i=t.lsd())&&(o.dropdownContentFilter=i.first)}},decls:71,vars:60,consts:[["dropdownContent","ngbDropdown"],["dropdownContentFilter","ngbDropdown"],["itemTemplateRef",""],["itemCustomerName",""],["itemTemplateRefStatus",""],["nodatafound",""],[1,"header-list","flexx"],[1,"header-list-rht","ms-auto","flexx",3,"ngClass"],[1,"per-page","flexx"],[1,"ig-row"],["bindLabel","id",3,"change","ngModelChange","items","searchable","clearable","ngModel"],["ngbDropdown","",1,"search-filter"],["tabindex","0","ngbDropdownToggle","","id","navbarDropdown2"],["src","assets/imgs/search.svg","alt","Search"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown2",1,"dropdown-menu","dropdown-menu-end"],[1,"",3,"keyup.enter"],[1,"input-group"],[3,"type","control","label","inputId","aliasName","placeholder"],["src","assets/imgs/filter.svg","alt","Filter"],[1,"txt-hed"],["action","",1,"flex"],[1,"filter-content"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-action",2,"text-align","end"],[1,"button-reg","btn-sm","primary",3,"click"],[1,"button-reg","btn-sm","trans-btn",3,"click"],[3,"selectedColumns","filterColumns"],[1,"link-reg","link-sm","primary",3,"click"],["class","filter-result-row flexx",4,"ngIf"],[1,"page-content"],[4,"ngIf"],[3,"HeadArray","GridArray","selectAll","customTemplate","buttonChangeEvent",4,"ngIf"],["class","nodata flexx",4,"ngIf"],["class","pagination flexx",3,"ngClass","type","currentPage","pageSize","totalItems","pageChange",4,"ngIf"],["class","action-container",4,"ngIf"],[3,"bulkList","count","actionEvent",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder",4,"ngIf"],[3,"type","control","label","inputId","aliasName","customData","placeholder"],[1,"filter-result-row","flexx"],[1,"clear",3,"click"],["class","filter-result-col",4,"ngIf"],[1,"filter-result-col"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"remove-btn",3,"click"],["src","assets/imgs/close-sm.svg","alt","Close"],[3,"buttonChangeEvent","HeadArray","GridArray","selectAll","customTemplate"],["href","javascript:void(0)",1,"link-text","link-cat-width",3,"click"],["href","javascript:void(0)",1,"fw-semibold","cursor",3,"click"],[1,"toggle"],["type","checkbox",1,"tgl","tgl-light",3,"change","id","checked"],[1,"tgl-btn",3,"for"],[1,"nodata","flexx"],["src","assets/imgs/nodata.svg","alt","No data found"],[4,"ngIf","ngIfElse"],[1,"pagination","flexx",3,"pageChange","ngClass","type","currentPage","pageSize","totalItems"],[1,"action-container"],[1,"action-col"],[3,"click"],["src","assets/imgs/close-white.svg","alt","Close"],["src","assets/imgs/update-white.svg","alt","Update"],[3,"actionEvent","bulkList","count"]],template:function(s,o){if(1&s){const i=t.RV6();t.nrm(0,"app-breadcrumbs"),t.j41(1,"header")(2,"div",6)(3,"h1"),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"div",7)(7,"div",8)(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",9)(12,"ng-select",10),t.bIt("change",function(a){return t.eBV(i),t.Njj(o.pageSizeChange(a))}),t.mxI("ngModelChange",function(a){return t.eBV(i),t.DH7(o.limit,a)||(o.limit=a),t.Njj(a)}),t.k0s()()(),t.j41(13,"div",11,0)(15,"button",12),t.nrm(16,"img",13),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"div",14)(20,"h5"),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.j41(23,"form",15),t.bIt("keyup.enter",function(){return t.eBV(i),t.Njj(o.applyFilter())}),t.j41(24,"div",16)(25,"div",9),t.nrm(26,"app-reusable-forms",17),t.k0s()()()()(),t.j41(27,"div",11,1)(29,"button",12),t.nrm(30,"img",18),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.j41(33,"div",14)(34,"h5",19),t.EFF(35),t.nI1(36,"translate"),t.k0s(),t.j41(37,"form",20)(38,"div",21),t.DNE(39,ve,2,1,"div",22),t.k0s(),t.j41(40,"div",23)(41,"button",24),t.bIt("click",function(){return t.eBV(i),t.Njj(o.applyFilter())}),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.j41(44,"button",25),t.bIt("click",function(){return t.eBV(i),t.Njj(o.filterReset(""))}),t.EFF(45),t.nI1(46,"translate"),t.k0s()()()()(),t.j41(47,"app-dynamic-columns",26),t.bIt("selectedColumns",function(a){return t.eBV(i),t.Njj(o.saveColumns(a))}),t.k0s(),t.j41(48,"a",27),t.bIt("click",function(){return t.eBV(i),t.Njj(o.addCustomerGroup())}),t.EFF(49),t.nI1(50,"translate"),t.k0s()()()(),t.DNE(51,Ee,9,10,"div",28),t.j41(52,"div",29),t.DNE(53,Oe,2,0,"div",30),t.nI1(54,"async"),t.j41(55,"div"),t.DNE(56,Te,1,8,"app-common-table",31),t.nI1(57,"async"),t.nI1(58,"async"),t.DNE(59,Se,2,1,"ng-template",null,2,t.C5r)(61,Re,2,1,"ng-template",null,3,t.C5r)(63,De,3,3,"ng-template",null,4,t.C5r),t.k0s(),t.DNE(65,je,8,3,"div",32),t.nI1(66,"async"),t.nI1(67,"async"),t.DNE(68,Le,1,7,"app-reusable-pagination",33),t.k0s(),t.DNE(69,Fe,10,7,"div",34)(70,$e,1,2,"app-bulk-action",35)}if(2&s){let i;t.R7$(4),t.JRh(t.bMT(5,30,"CRM.Customer Group")),t.R7$(2),t.Y8G("ngClass",t.eq3(58,nt,0==(null==o.listData?null:o.listData.length))),t.R7$(3),t.JRh(t.bMT(10,32,"common.PerPage")),t.R7$(3),t.Y8G("items",o.pageSizeList)("searchable",!1)("clearable",!1),t.R50("ngModel",o.limit),t.R7$(5),t.SpI("",t.bMT(18,34,"common.Search")," "),t.R7$(4),t.JRh(t.bMT(22,36,"common.Search")),t.R7$(5),t.Y8G("type",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.type)("control",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.control)("label",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.label)("inputId",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.inputId)("aliasName",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.aliasName)("placeholder",null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.placeholder),t.R7$(5),t.SpI("",t.bMT(32,38,"common.Filter")," "),t.R7$(4),t.JRh(t.bMT(36,40,"common.Filter")),t.R7$(4),t.Y8G("ngForOf",o._Object.keys(o.dynamicObjControls))("ngForTrackBy",o.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(43,42,"common.ApplyFilter"),""),t.R7$(3),t.SpI(" ",t.bMT(46,44,"common.reset"),""),t.R7$(2),t.Y8G("filterColumns",o.backupColumns),t.R7$(2),t.SpI(" + ",t.bMT(50,46,"CRM.Add Group")," "),t.R7$(2),t.Y8G("ngIf",o.formValueExists),t.R7$(2),t.Y8G("ngIf",t.bMT(54,48,o.crmGroupsSandbox.customerGroupListLoading$)),t.R7$(3),t.Y8G("ngIf",t.bMT(57,50,o.crmGroupsSandbox.customerGroupListLoaded$)&&t.bMT(58,52,o.crmGroupsSandbox.customerGroupList$).length>0),t.R7$(9),t.Y8G("ngIf",0==(null==(i=t.bMT(66,54,o.crmGroupsSandbox.customerGroupList$))?null:i.length)&&t.bMT(67,56,o.crmGroupsSandbox.customerGroupListLoaded$)),t.R7$(3),t.Y8G("ngIf",o.countArray>0),t.R7$(),t.Y8G("ngIf",o.selectedcheckbox.length>0),t.R7$(),t.Y8G("ngIf",(null==o.selectedcheckbox?null:o.selectedcheckbox.length)>0)}},dependencies:[_.YU,_.Sq,_.bT,_.ux,_.e1,_.fG,C.qT,C.BC,C.cb,C.vS,C.cV,ce.m,le.L,ue.e,de.$,pe.y,me.V,he.S,I.tg,I.do,I.U0,T.vr,_.Jj,_.lG,O.D9],styles:[".loading[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:15rem!important}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-content[_ngcontent-%COMP%]{max-height:20rem;overflow:auto}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.125rem;font-size:.75rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:2.125rem;padding-inline:.5rem;font-size:.875rem;font-weight:400;color:#353740}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .ig-row[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:2.125rem!important;min-height:2.125rem}.search-filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .filter-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:.5rem;margin-top:1.5rem}.custom-control[_ngcontent-%COMP%]{margin-bottom:10px}.clm-button[_ngcontent-%COMP%]{width:100%;height:2.0625rem;display:flex;justify-content:center;align-items:center;background-color:#fafdff;font-size:.75rem;font-weight:400;color:#188af1;border:0}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#c6c6c7}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#222;border:#222 solid 1px}.remove-btn[_ngcontent-%COMP%]{border:0;padding:0;background-color:transparent}.dropdown-menu[_ngcontent-%COMP%]   .txt-hed[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#353740;text-transform:uppercase}.disable-div[_ngcontent-%COMP%]{pointer-events:none!important}"]})}}return n})();var Ue=r(31544),ot=r(14995),D=r(7673),k=r(96354),v=r(25558),P=r(99437);let Ne=(()=>{class n{constructor(e,s,o,i,h){this.action$=e,this.service=s,this.popup=o,this.router=i,this.toaster=h,this.addCustomer$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.ADD_CUSTOMER_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.addCustomer(a).pipe((0,v.n)(u=>[new l.ZI(u)]),(0,P.W)(u=>(0,D.of)(new l.c_(u))))))),this.customerGroupList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_LIST_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerGroupList(a).pipe((0,v.n)(u=>[new l.x2(u)]),(0,P.W)(u=>(0,D.of)(new l.AG(u))))))),this.addCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.ADD_CUSTOMER_GROUP_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.addCustomerGroup(a).pipe((0,v.n)(u=>[new l.am(u)]),(0,P.W)(u=>(0,D.of)(new l.zx(u))))))),this.updateCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.UPDATE_CUSTOMER_GROUP_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.updateCustomerGroup(a).pipe((0,v.n)(u=>[new l.GC(u)]),(0,P.W)(u=>(0,D.of)(new l.hc(u))))))),this.deleteCustomerGroup$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DELETE_CUSTOMER_GROUP_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.deleteCustomerGroup(a).pipe((0,v.n)(u=>[new l.C3(u)]),(0,P.W)(u=>(0,D.of)(new l.dh(u))))))),this.customerGroupListCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_LIST_COUNT_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerGroupListCount(a).pipe((0,v.n)(u=>[new l.IP(u)]),(0,P.W)(u=>(0,D.of)(new l.Jy(u))))))),this.customerList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_LIST_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerList(a).pipe((0,v.n)(u=>[new l.eV(u)]),(0,P.W)(u=>(0,D.of)(new l.Fz(u))))))),this.customerDetails$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_DETAILS_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerDetails(a).pipe((0,v.n)(u=>[new l.GJ(u)]),(0,P.W)(u=>(0,D.of)(new l.Fd(u))))))),this.customerStatusUpdate$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_STATUS_UPDATE_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerStatusUpdate(a).pipe((0,v.n)(u=>[new l.tR(u)]),(0,P.W)(u=>(0,D.of)(new l.Yj(u))))))),this.customerGroupDetail$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_DETAIL_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerGroupDetail(a).pipe((0,v.n)(u=>[new l.cO(u)]),(0,P.W)(u=>(0,D.of)(new l.jm(u))))))),this.customerGroupUpdate$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.CUSTOMER_GROUP_UPDATE_ACTION),(0,k.T)(a=>a.payload),(0,v.n)(a=>this.service.customerGroupUpdate(a).pipe((0,v.n)(u=>[new l.Ug(u)]),(0,P.W)(u=>(0,D.of)(new l.VJ(u)))))))}static{this.\u0275fac=function(s){return new(s||n)(t.KVO(g.En),t.KVO(W),t.KVO(I.Bq),t.KVO(R.Ix),t.KVO(et.tw))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();r(34947),r(12526),r(63071),r(67529);const Be=[{path:"",component:Ue.C,children:[{path:"",redirectTo:"customer-group",pathMatch:"full"},{path:"list",component:Ae,data:{urls:[{title:"breadcrumbs.CRM",url:""},{title:"Customer Group List",url:""}]}},{path:"customer-group",component:Y},{path:"customer",component:J},...ot.Rk,...ot.uw]}];let Ve=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[W,w],imports:[_.MD,C.YN,C.X1,E.RG,j.X6,y.WX,F.Gg,C.YN,I.UN,M.fS,G.aP,f.m_,b._,T.MQ,O.h,R.iI.forChild(Be),g.Vm.forFeature([Ne]),A.CatalogModule,S.Yq]})}}return n})()},62256:(N,x,r)=>{r.d(x,{H:()=>R._}),r(24486);var R=r(92543)},24486:(N,x,r)=>{var _=r(54438);!function(){function G(f,b,y){this.el=f,this.vcr=b,this.renderer=y,this.dtOptions={}}G.prototype.ngOnInit=function(){var f=this;this.dtTrigger?this.dtTrigger.subscribe(function(b){f.displayTable(b)}):this.displayTable(null)},G.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},G.prototype.displayTable=function(f){var b=this;f&&(this.dtOptions=f),this.dtInstance=new Promise(function(y,E){Promise.resolve(b.dtOptions).then(function(M){0===Object.keys(M).length&&0===$("tbody tr",b.el.nativeElement).length?E("Both the table and dtOptions cannot be empty"):setTimeout(function(){var T={rowCallback:function(O,I,g){if(M.columns){var S=M.columns;b.applyNgPipeTransform(O,S),b.applyNgRefTemplate(O,S,I)}M.rowCallback&&M.rowCallback(O,I,g)}};T=Object.assign({},M,T),b.dt=$(b.el.nativeElement).DataTable(T),y(b.dt)})})})},G.prototype.applyNgPipeTransform=function(f,b){b.filter(function(E){return E.ngPipeInstance&&!E.ngTemplateRef}).forEach(function(E){var M=E.ngPipeInstance,C=E.ngPipeArgs||[],T=b.findIndex(function(S){return S.data===E.data}),O=f.childNodes.item(T),I=$(O).text(),g=M.transform.apply(M,function(G,f,b){if(b||2===arguments.length)for(var M,y=0,E=f.length;y<E;y++)(M||!(y in f))&&(M||(M=Array.prototype.slice.call(f,0,y)),M[y]=f[y]);return G.concat(M||Array.prototype.slice.call(f))}([I],C,!1));$(O).text(g)})},G.prototype.applyNgRefTemplate=function(f,b,y){var E=this;b.filter(function(C){return C.ngTemplateRef&&!C.ngPipeInstance}).forEach(function(C){var T=C.ngTemplateRef,O=T.ref,I=T.context,g=b.findIndex(function(U){return U.data===C.data}),S=f.childNodes.item(g);$(S).html("");var F=Object.assign({},I,I?.userData,{adtData:y}),A=E.vcr.createEmbeddedView(O,F);E.renderer.appendChild(S,A.rootNodes[0])})},G.\u0275fac=function(b){return new(b||G)(_.rXU(_.aKT),_.rXU(_.c1b),_.rXU(_.sFG))},G.\u0275dir=_.FsC({type:G,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}})}()},92543:(N,x,r)=>{r.d(x,{_:()=>G});var _=r(60177),j=(r(24486),r(54438)),G=function(){function f(){}return f.forRoot=function(){return{ngModule:f}},f.\u0275fac=function(y){return new(y||f)},f.\u0275mod=j.$C({type:f}),f.\u0275inj=j.G2t({imports:[[_.MD]]}),f}()}}]);
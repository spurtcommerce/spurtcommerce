"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[1436],{81436:($e,x,s)=>{s.r(x),s.d(x,{CategoriesModule:()=>Te});var d=s(60177),N=s(40528),l=s(89417),u=s(51188),p=s(37886),U=s(43718),I=s.n(U),M=s(70782),t=s(54438),y=s(28126),v=s(345),k=s(48256),P=s(61005),F=s(72510),O=s(95967),V=s(52540),S=s(39911),C=s(41780);const B=["categorySelect"],X=["filePath"],Y=n=>({validationcolor:n}),q=()=>["/vendors/product-config/categories/list"],J=n=>({validationcolor:n}),Q=n=>({"error-fields":n});function H(n,r){1&n&&(t.j41(0,"div",26),t.nrm(1,"img",27),t.k0s())}function K(n,r){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"catalog.Error.CategoryNameRequired")," "))}function W(n,r){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"catalog.Error.categoryNameMaxlength")," "))}function Z(n,r){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"ValidationsErrorMessage.Onlyalphabetsnumbersspaceshyphensandunderscoresareallowed")," "))}function tt(n,r){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"catalog.Error.SortOrderRequired")," "))}function et(n,r){1&n&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"catalog.Error.StatusRequired")," "))}function nt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",29)(1,"div",10)(2,"div",11)(3,"label"),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"ng-select",30),t.bIt("change",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onCategoryChange(o))}),t.k0s()()(),t.j41(7,"div",10)(8,"div",11)(9,"label"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"ng-select",31),t.nI1(13,"translate"),t.bIt("change",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onIndustryChange(o))}),t.k0s()()(),t.j41(14,"div",10)(15,"div",11)(16,"label"),t.EFF(17),t.nI1(18,"translate"),t.j41(19,"sup"),t.EFF(20,"*"),t.k0s()(),t.nrm(21,"input",32),t.nI1(22,"translate"),t.DNE(23,tt,3,3,"div",13),t.k0s()(),t.j41(24,"div",10)(25,"div",11)(26,"label"),t.EFF(27),t.nI1(28,"translate"),t.j41(29,"sup"),t.EFF(30,"*"),t.k0s()(),t.j41(31,"ng-select",33),t.nI1(32,"translate"),t.j41(33,"ng-option",34),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"ng-option",35),t.EFF(37),t.nI1(38,"translate"),t.k0s()(),t.DNE(39,et,3,3,"div",13),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,19,"catalog.categories.Parent")),t.R7$(2),t.Y8G("items",e.categoriesList)("clearable",!0),t.R7$(4),t.JRh(t.bMT(11,21,"catalog.industry.industry")),t.R7$(2),t.FS9("placeholder",t.bMT(13,23,"catalog.industry.selectIndustry")),t.Y8G("items",e.industryListData)("clearable",!0),t.R7$(5),t.JRh(t.bMT(18,25,"catalog.categories.SortOrder")),t.R7$(4),t.FS9("placeholder",t.bMT(22,27,"catalog.product.SortOrder")),t.Y8G("ngClass",t.eq3(37,J,e.user.get("categorySortOrder").hasError("required")&&e.user.get("categorySortOrder").touched&&1==e.submittedValues)),t.R7$(2),t.Y8G("ngIf",e.user.get("categorySortOrder").hasError("required")&&e.user.get("categorySortOrder").touched&&1==e.submittedValues),t.R7$(4),t.JRh(t.bMT(28,29,"catalog.categories.Status")),t.R7$(4),t.FS9("placeholder",t.bMT(32,31,"catalog.product.SelectStatus")),t.Y8G("clearable",!1)("ngClass",t.eq3(39,Q,e.user.get("status").hasError("required")&&e.user.get("status").touched&&1==e.submittedValues))("searchable",!1),t.R7$(3),t.JRh(t.bMT(35,33,"catalog.product.Enabled")),t.R7$(3),t.JRh(t.bMT(38,35,"catalog.product.Disabled")),t.R7$(2),t.Y8G("ngIf",e.user.get("status").hasError("required")&&e.user.get("status").touched&&1==e.submittedValues)}}function ot(n,r){1&n&&t.nrm(0,"img",48)}function at(n,r){1&n&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"catalog.product.UploadImages")," "))}function it(n,r){if(1&n&&t.nrm(0,"img",49),2&n){const e=t.XpG(2);t.Y8G("src",e.postImageUrl,t.B4B)}}function rt(n,r){1&n&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"catalog.Error.Imageisrequired")," "))}function st(n,r){if(1&n&&(t.j41(0,"div",50),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.imageSizeSupport," ")}}function lt(n,r){if(1&n&&(t.j41(0,"div",50),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.imageTypeSupport," ")}}function ct(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"div",11)(3,"label"),t.EFF(4),t.nI1(5,"translate"),t.j41(6,"sup"),t.EFF(7,"*"),t.k0s()(),t.j41(8,"div",38)(9,"div",39)(10,"input",40,2),t.bIt("change",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadChange(o))}),t.k0s(),t.nrm(12,"input",41),t.j41(13,"input",42),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadButtonClick())}),t.k0s(),t.DNE(14,ot,1,0,"img",43)(15,at,3,3,"p",44)(16,it,1,1,"img",45),t.k0s()(),t.j41(17,"p",46),t.EFF(18),t.k0s(),t.DNE(19,rt,3,3,"div",47)(20,st,2,1,"div",47)(21,lt,2,1,"div",47),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,8,"catalog.product.Image")),t.R7$(10),t.Y8G("ngIf",!e.postImageUrl),t.R7$(),t.Y8G("ngIf",!e.postImageUrl),t.R7$(),t.Y8G("ngIf",e.postImageUrl),t.R7$(2),t.JRh(e.support),t.R7$(),t.Y8G("ngIf",!e.postImageUrl&&1==e.submittedValues),t.R7$(),t.Y8G("ngIf",e.imageSizeError),t.R7$(),t.Y8G("ngIf",e.imageTypeError)}}function gt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",51)(1,"h4",52),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",53),t.bIt("click",function(){const o=t.eBV(e).dismiss;return t.Njj(o("Cross click"))}),t.j41(5,"span",54),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",55)(8,"div",56)(9,"div",57),t.nrm(10,"input",58),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",59)(13,"ul",60)(14,"li")(15,"a",61),t.nrm(16,"img",62),t.k0s()(),t.j41(17,"li")(18,"a",61),t.nrm(19,"img",63),t.k0s()(),t.j41(20,"li"),t.nrm(21,"input",64),t.j41(22,"label",65),t.nrm(23,"img",66),t.k0s(),t.j41(24,"ul",67)(25,"li"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"li"),t.nrm(29,"input",68),t.j41(30,"button"),t.EFF(31),t.nI1(32,"translate"),t.k0s()()()(),t.j41(33,"li")(34,"a",61),t.nrm(35,"img",69),t.k0s()(),t.j41(36,"li")(37,"a",70),t.EFF(38),t.nI1(39,"translate"),t.k0s()()()()(),t.j41(40,"div",71)(41,"div",38)(42,"div",72),t.nrm(43,"img",73),t.k0s(),t.j41(44,"p"),t.EFF(45),t.nI1(46,"translate"),t.k0s()(),t.j41(47,"div",38)(48,"div",72),t.nrm(49,"img",73),t.k0s(),t.j41(50,"p"),t.EFF(51),t.nI1(52,"translate"),t.k0s()(),t.j41(53,"div",38)(54,"div",72),t.nrm(55,"img",74),t.k0s(),t.j41(56,"p"),t.EFF(57),t.nI1(58,"translate"),t.k0s()()()()}2&n&&(t.R7$(2),t.JRh(t.bMT(3,8,"catalog.product.Image Manager")),t.R7$(8),t.FS9("placeholder",t.bMT(11,10,"placeholder.Search")),t.R7$(16),t.JRh(t.bMT(27,12,"catalog.product.CreateFolder")),t.R7$(5),t.JRh(t.bMT(32,14,"catalog.product.Create")),t.R7$(7),t.SpI(" ",t.bMT(39,16,"catalog.product.Upload")," "),t.R7$(7),t.JRh(t.bMT(46,18,"catalog.product.ImageFolder1")),t.R7$(6),t.JRh(t.bMT(52,20,"catalog.product.ImageFolder2")),t.R7$(6),t.JRh(t.bMT(58,22,"catalog.product.img.jpg")))}let w=(()=>{class n{constructor(e,a,o,i,c,g,m,h,f,b){this.modalService=e,this.fb=a,this.sandbox=o,this.route=i,this.router=c,this.ckeconfiqservice=g,this.titleService=m,this.toastr=h,this.configService=f,this.cd=b,this.param={},this.submittedValues=!1,this.ImageUrl="",this.subscriptions=[],this.imageTypeError=!1,this.imageSizeError=!1,this.queryDetails={},this.queryParamsData={},this.new={},this.item={},this.editor=I(),this.categoriesList=[],this.totalCategories=[],this.industryListData=[],this.titleService.setTitle("Categories");const Ee=this.route.snapshot.queryParamMap.get("index"),Re=this.route.snapshot.queryParamMap.get("offset");this.config=this.ckeconfiqservice.getEditorConfig(),this.queryDetails.index=Ee||0,this.queryDetails.offset=Re||0}open2(e){this.modalService.open(e,{windowClass:"image-manager"}).result.then(a=>{this.closeResult=`Closed with: ${a}`},a=>{this.closeResult=`Dismissed ${this.getDismissReason(a)}`})}noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}open(e){this.modalService.open(e,{windowClass:"dark-modal,image-manager"})}getDismissReason(e){return e===p.PQ.ESC?"by pressing ESC":e===p.PQ.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}ngOnInit(){this.imageUrl=this.configService.getImageUrl(),this.imageType=this.configService.getImageType(),this.imageSize=this.configService.getFileSize(),this.imageTypeSupport=this.configService.getimageTypeSupport(),this.imageSizeSupport=this.configService.getimageSizeSupport(),this.support=this.configService.getFileSupport(),this.categoryList(),this.categoryName=new l.hs("",l.k0.compose([l.k0.required,l.k0.pattern(/^[a-zA-Z0-9\s-_]*$/),l.k0.maxLength(255),this.noWhitespaceValidator])),this.categoryTitle=new l.hs("",l.k0.compose([l.k0.maxLength(70)])),this.categoryDescription=new l.hs(""),this.categoryKeyword=new l.hs("",l.k0.compose([l.k0.maxLength(255)])),this.categoryComponent=new l.hs(null),this.industry=new l.hs(null),this.categorySortOrder=new l.hs("",[l.k0.required]),this.status=new l.hs(null,[l.k0.required]),this.categoryDescriptions=new l.hs(""),this.user=this.fb.group({categoryName:this.categoryName,categoryTitle:this.categoryTitle,categoryDescription:this.categoryDescription,categoryKeyword:this.categoryKeyword,categoryComponent:this.categoryComponent,industry:this.industry,categorySortOrder:this.categorySortOrder,categorySlug:this.categorySlug,status:this.status}),this.route.params.subscribe(e=>{e&&(this.categoryId=e.id)}),this.routeSubscribe()}ulpoadAdapterDrop(e){e.plugins.get("FileRepository").createUploadAdapter=(a,o)=>new M.A(a,o)}categoryList(){this.sandbox.categoryList({levelFilter:1}),this.industryList(),this.subscriptions.push(this.sandbox.categoriesListResponse$.subscribe(a=>{a&&!0===a&&(["",null,void 0].includes(this.categoryId)||this.editCategoryList())})),this.subscriptions.push(this.sandbox.getCategoriesList$.subscribe(a=>{a&&(this.categoriesList=a,this.totalCategories=a)}))}industryList(){this.sandbox.IndustryList({limit:"",offset:"",keyword:"",sortOrder:""}),this.sandbox.IndustryList$.subscribe(a=>{a&&a.length>0&&(this.industryListData=a,!this.categoryId&&!this.user.get("industry")?.value&&this.user.get("industry")?.setValue(a[0].id))})}onCategoryChange(e){if(!e)return;const a=this.industryListData.find(o=>o.id===e.industryId);this.user.controls.industry.setValue(a?.id||null),this.cd.detectChanges()}onIndustryChange(e){void 0!==e?["",null,void 0].includes(e.id)||(this.sandbox.industryBasedCategory({industryId:e.id}),this.subscriptions.push(this.sandbox.industryBasedCategory$.subscribe(o=>{this.categoriesList=[],this.user.controls.categoryComponent.setValue(null),this.cd.detectChanges(),o?.length>0&&(this.categoriesList=o)}))):this.categoriesList=[...this.totalCategories]}onSubmits(e){return this.submittedValues=!0,this.user.invalid&&(this.user.controls.categorySortOrder.invalid||this.user.controls.status.invalid)?(this.active=1,this.scrollToError(),void this.validateAllFormFields(this.user)):["",null,void 0].includes(this.postImageUrl)?(this.active=2,this.scrollToError(),void this.validateAllFormFields(this.user)):(this.param.name=e.value.categoryName,this.param.parentInt=e.value.categoryComponent?e.value.categoryComponent:0,this.param.industryId=e.value.industry?e.value.industry:0,this.param.sortOrder=Number(e.value.categorySortOrder),this.param.categorySlug=e.value.categorySlug,this.param.status=e.value.status,this.param.image=this.ImageUrl,this.param.categoryDescription=e.value.categoryDescription,void(this.categoryId?(this.param.categoryId=this.categoryId,this.sandbox.updateCategories(this.param),this.sandbox.getUpdateCategoriesData$.subscribe(a=>{a&&1===a.status&&this.router.navigate(["/vendors/product-config/categories/list"],{queryParams:this.queryParamsData})})):(this.sandbox.addCategories(this.param),this.sandbox.getAddCategories$.subscribe(a=>{a&&1===a.status&&this.router.navigate(["/vendors/product-config/categories/list"],{queryParams:this.queryParamsData})}))))}scrollToError(){const e=document.querySelector(".ng-invalid[formControlName]");this.scrollTo(e)}scrollTo(e){e&&e.scrollIntoView({behavior:"smooth",block:"center"})}editCategoryList(){const e={};e.categoryId=this.categoryId,this.sandbox.categoryDetailsRemove({}),this.sandbox.getCategoryDetails(e),this.subscriptions.push(this.sandbox.categoryDetails$.subscribe(a=>{a&&Object.keys(a).length&&(this.setCategory(a),this.new=a)}))}setCategory(e){this.user.controls.status.setValue(e.isActive),this.user.controls.categoryName.setValue(e.name),this.user.controls.categoryComponent.setValue(0==e.parentInt?null:e.parentInt),this.user.controls.industry.setValue(0==e.industryId?null:e.industryId),this.user.controls.categorySortOrder.setValue(e.sortOrder),this.user.controls.categorySlug.setValue(e.categorySlug),null!==e.image&&(this.postImageUrl=this.imageUrl+"?path="+e?.imagePath+"&name="+e?.image+"&width=160&height=150"),this.user.controls.categoryDescription.setValue(""!==e.categoryDescription?this.htmlTagConversion(e.categoryDescription):e.categoryDescription),this.cd.detectChanges()}validateAllFormFields(e){Object.keys(e.controls)?.forEach(a=>{const o=e.get(a);o instanceof l.hs?o.markAsTouched({onlySelf:!0}):o instanceof l.J3&&this.validateAllFormFields(o)})}get f(){return this.user.controls}uploadButtonClick(){this.filePath.nativeElement.click()}uploadChange(e){this.convertBase64(e.target),e.target.files&&e.target.files.length>0&&(this.item=e.target.files[0].name)}convertBase64(e){if(this.imageTypeError=!1,this.imageSizeError=!1,e.files&&e.files[0]){if(!this.imageType.exec(e.files[0].name))return this.imageTypeError=!0,this.ImageUrl="",this.postImageUrl="",this.filePath.nativeElement.value="",void this.toastr.error(this.imageTypeSupport);if(this.imageTypeError=!1,Math.round(e.files[0].size/1024)>this.imageSize)return this.imageSizeError=!0,this.ImageUrl="",this.postImageUrl="",this.filePath.nativeElement.value="",void this.toastr.error(this.imageSizeSupport);this.imageSizeError=!1;const o=e.files[0],i=new FileReader;i.onloadend=c=>{this.postImageUrl=i.result,this.ImageUrl=i.result,this.cd.detectChanges()},i.readAsDataURL(o)}}htmlTagConversion(e){if(e)return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}routeSubscribe(){this.route.queryParams.subscribe(e=>{this.queryParamsData=e})}ngOnDestroy(){this.subscriptions?.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(p.Bq),t.rXU(l.ze),t.rXU(y.a),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(M.z),t.rXU(v.hE),t.rXU(k.tw),t.rXU(P.w),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-spurt-catalog-category-add"]],viewQuery:function(a,o){if(1&a&&(t.GBs(B,5),t.GBs(X,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.categorySelect=i.first),t.mGM(i=t.lsd())&&(o.filePath=i.first)}},decls:72,vars:58,consts:[["nav","ngbNav"],["content",""],["filePath",""],["class","loading-data",4,"ngIf"],["novalidate","",3,"ngSubmits","formGroup"],[1,"flex","addproduct-wrap","prd-cat-wrap"],[1,"card","ap-general"],[1,"ap-header","sub-sub-header"],[1,"flex","ap-body"],[1,"ap-form-row6","mb-2"],[1,"ap-body-col"],[1,"form-group"],["type","text","appNoLeadingSpace","","formControlName","categoryName",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],["type","text","appNoLeadingSpace","","formControlName","categorySlug",1,"form-control",3,"placeholder"],[1,"ap-body-col","width100"],["formControlName","categoryDescription",3,"ready","editor","config"],[1,"card","ap-general","ap-info"],["ngbNav","",1,"nav-tabs",2,"width","100%",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",2,"width","100%",3,"ngbNavOutlet"],[1,"action-button-container","flex"],["type","button",1,"button-reg","btn-md","tertiary",3,"routerLink","queryParams"],[1,"button-reg","btn-md","primary",3,"click"],[1,"loading-data"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","10vh"],[1,"validation-error"],[1,"ap-form-row"],["bindLabel","levels","bindValue","categoryId","placeholder","Select Category","formControlName","categoryComponent",3,"change","items","clearable"],["bindLabel","name","bindValue","id","formControlName","industry",3,"change","items","clearable","placeholder"],["type","text","appNoLeadingSpace","","maxlength","4","formControlName","categorySortOrder","appOnlyNumber","",1,"form-control",3,"placeholder","ngClass"],["formControlName","status",2,"cursor","pointer",3,"clearable","ngClass","placeholder","searchable"],["value","1"],["value","0"],[1,"flex","data-row"],[1,"image-row"],[1,"image-col"],[1,"img-dflt"],["type","file","name","userImg","accept","image/*",2,"display","none",3,"change"],["type","hidden","name","fileHidden"],["width","30%","height","30%",2,"cursor","pointer",3,"click"],["src","assets/img/add-photo-big.png","alt","add photo",4,"ngIf"],[4,"ngIf"],["alt","add photo","style","height: 100%; width: 100%;",3,"src",4,"ngIf"],[2,"font-size","10px"],["class","upload-error validation-error",4,"ngIf"],["src","assets/img/add-photo-big.png","alt","add photo"],["alt","add photo",2,"height","100%","width","100%",3,"src"],[1,"upload-error","validation-error"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"flex","search-nav"],[1,"search-section"],["type","text","appNoLeadingSpace","",3,"placeholder"],[1,"img-action-links"],["id","menu",1,"flex"],["href","javascript:void(0)"],["src","assets/img/back-ico.png","alt","back"],["src","assets/img/refresh-ico.png","alt","refresh"],["id","check01","type","checkbox","name","menu"],["for","check01"],["src","assets/img/file-open-ico.png","alt","open"],[1,"submenu"],["type","text","appNoLeadingSpace",""],["src","assets/img/delete-file-ico.png","alt","delete"],["href","javascript:void(0)",1,"upload-lnk"],[1,"flex","image-row"],[1,"img-bdy"],["src","assets/img/file-img.svg","alt","file-img"],["src","assets/img/product-img-bg1.png","alt","product-img"]],template:function(a,o){if(1&a){const i=t.RV6();t.DNE(0,H,2,0,"div",3),t.nI1(1,"async"),t.j41(2,"form",4),t.bIt("ngSubmits",function(){return t.eBV(i),t.Njj(o.onSubmits(o.user.value))}),t.j41(3,"div",5)(4,"div",6)(5,"div",7)(6,"h3"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"p"),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.j41(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"label"),t.EFF(17),t.nI1(18,"translate"),t.j41(19,"sup"),t.EFF(20,"*"),t.k0s()(),t.nrm(21,"input",12),t.nI1(22,"translate"),t.DNE(23,K,3,3,"div",13)(24,W,3,3,"div",13)(25,Z,3,3,"div",13),t.k0s()(),t.j41(26,"div",10)(27,"div",11)(28,"label"),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.nrm(31,"input",14),t.nI1(32,"translate"),t.k0s()()(),t.j41(33,"div",15)(34,"div",11)(35,"label"),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.j41(38,"ckeditor",16),t.bIt("ready",function(g){return t.eBV(i),t.Njj(o.ulpoadAdapterDrop(g))}),t.k0s()()()()(),t.j41(39,"div",17)(40,"div",7)(41,"h3"),t.EFF(42),t.nI1(43,"translate"),t.k0s(),t.j41(44,"p"),t.EFF(45),t.nI1(46,"translate"),t.k0s()(),t.j41(47,"div",8)(48,"ul",18,0),t.mxI("activeIdChange",function(g){return t.eBV(i),t.DH7(o.active,g)||(o.active=g),t.Njj(g)}),t.j41(50,"li",19)(51,"a",20)(52,"span"),t.EFF(53),t.nI1(54,"translate"),t.k0s()(),t.DNE(55,nt,40,41,"ng-template",21),t.k0s(),t.j41(56,"li",19)(57,"a",20)(58,"span"),t.EFF(59),t.nI1(60,"translate"),t.k0s()(),t.DNE(61,ct,22,10,"ng-template",21),t.k0s()(),t.nrm(62,"div",22),t.k0s()(),t.DNE(63,gt,59,24,"ng-template",null,1,t.C5r),t.k0s(),t.j41(65,"div",23)(66,"button",24),t.EFF(67),t.nI1(68,"translate"),t.k0s(),t.j41(69,"button",25),t.bIt("click",function(){return t.eBV(i),t.Njj(o.onSubmits(o.user))}),t.EFF(70),t.nI1(71,"translate"),t.k0s()()()}if(2&a){const i=t.sdS(49);t.Y8G("ngIf",t.bMT(1,27,o.sandbox.getCategoriesListRequestLoading$)),t.R7$(2),t.Y8G("formGroup",o.user),t.R7$(5),t.SpI(" ",t.bMT(8,29,"catalog.product.General"),""),t.R7$(3),t.SpI("",t.bMT(11,31,"marketplace.common.Createandmanage")," "),t.R7$(7),t.JRh(t.bMT(18,33,"catalog.categories.CategoryName")),t.R7$(4),t.FS9("placeholder",t.bMT(22,35,"catalog.categories.CategoryName")),t.Y8G("ngClass",t.eq3(55,Y,o.user.controls.categoryName.errors&&o.user.get("categoryName").touched&&1==o.submittedValues||o.user.get("categoryName").hasError("pattern"))),t.R7$(2),t.Y8G("ngIf",o.user.get("categoryName").hasError("required")&&o.user.get("categoryName").touched&&1==o.submittedValues),t.R7$(),t.Y8G("ngIf",o.user.get("categoryName").hasError("maxlength")),t.R7$(),t.Y8G("ngIf",o.user.get("categoryName").hasError("pattern")),t.R7$(4),t.JRh(t.bMT(30,37,"catalog.categories.categorySlug")),t.R7$(2),t.FS9("placeholder",t.bMT(32,39,"catalog.categories.categorySlug")),t.R7$(5),t.JRh(t.bMT(37,41,"catalog.categories.CategoryDescription")),t.R7$(2),t.Y8G("editor",o.editor)("config",o.config),t.R7$(4),t.SpI(" ",t.bMT(43,43,"catalog.product.MoreInformation"),""),t.R7$(3),t.SpI("",t.bMT(46,45,"marketplace.common.Definethecategoryadded")," "),t.R7$(3),t.R50("activeId",o.active),t.R7$(2),t.Y8G("ngbNavItem",1),t.R7$(3),t.JRh(t.bMT(54,47,"catalog.nav.General")),t.R7$(3),t.Y8G("ngbNavItem",2),t.R7$(3),t.JRh(t.bMT(60,49,"catalog.product.Image")),t.R7$(3),t.Y8G("ngbNavOutlet",i),t.R7$(4),t.Y8G("routerLink",t.lJ4(57,q))("queryParams",o.queryParamsData),t.R7$(),t.SpI(" ",t.bMT(68,51,"Customers.Customer.Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(71,53,"Customers.Customer.Save")," ")}},dependencies:[d.YU,d.bT,p.Um,p.X9,p.sy,p.Gx,p.Ri,p.WA,p.m_,l.qT,l.me,l.BC,l.cb,l.tU,l.j4,l.JD,u.Wk,F.vr,F.xt,O.h,V.n,S.L,d.Jj,C.D9],styles:[".validationcolor[_ngcontent-%COMP%]{border-color:red!important}.error[_ngcontent-%COMP%]{color:red!important}.dark-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#009efb;color:#fff}.dark-modal[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#fff}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.image-manager[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:70%}td[_ngcontent-%COMP%]{vertical-align:top}.error-field[_ngcontent-%COMP%], .error-fields[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{border:1px solid red!important}.txtarea[_ngcontent-%COMP%]{width:100%;height:100px;border:1px solid #ced4da;border-radius:.25rem}.add[_ngcontent-%COMP%]{text-align:center;margin:10px;cursor:pointer}.new[_ngcontent-%COMP%]{height:500 px}"]})}}return n})();var dt=s(18359),pt=s(55735),ut=s(26440),mt=s(70524),ht=s(64363);const ft={Categories:{label:"marketplace.common.Categories",name:"categories",aliasName:"",validatiors:[],type:"text",placeholder:"catalog.product.Enter Category Name"},Status:{label:"marketplace.common.Status",name:"status",aliasName:"",validatiors:[],type:"ngSelect",placeholder:"marketplace.common.Selectthestatus",customData:{data:[{name:"Active",id:"1"},{name:"In-Active",id:"0"}],key:"name",value:"id"}},Search:{label:"marketplace.common.Search",name:"search",aliasName:"",validatiors:[],type:"text",placeholder:"marketplace.common.Search"}};function j(n){for(const r in n)n.hasOwnProperty(r)&&(null==n[r]||""===n[r])&&delete n[r];return n}const bt=(0,mt.L)(["itemSelected","exportExcel","exportExcelAll","resetCheckbox"]);var L=s(98852),Ct=s(938),T=s(26848),yt=s(27952),E=s(34501),vt=s(42612),Mt=s(18186),kt=s(52609),R=s(35697);const Pt=["myDropdown"],$=()=>["/vendors/product-config/categories/add"],Ot=()=>["/vendors/product-config/categories/localization"],xt=()=>["/vendors/product-config/categories/bulkUpload"],It=n=>({status:n});function Ft(n,r){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",1==e.value?"Active":"In-Active"," ")}}function St(n,r){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.value," ")}}function wt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",28)(1,"span"),t.EFF(2),t.k0s(),t.qex(3,29),t.DNE(4,Ft,2,1,"ng-container",30)(5,St,2,1,"ng-container",31),t.bVm(),t.j41(6,"button",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG();return t.Njj(i.removeFilter(o))}),t.nrm(7,"img",33),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",e.key," :\xa0"),t.R7$(),t.Y8G("ngSwitch",e.key),t.R7$(),t.Y8G("ngSwitchCase","status")}}function jt(n,r){if(1&n&&(t.j41(0,"div",26),t.DNE(1,wt,8,3,"div",27),t.k0s()),2&n){const e=r.$implicit,a=t.XpG();t.R7$(),t.Y8G("ngIf",!a.empty.includes(e.value))}}function Lt(n,r){if(1&n&&t.nrm(0,"app-common-form",35),2&n){const e=t.XpG().$implicit,a=t.XpG();t.Y8G("type",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].type)("control",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].control)("label",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].label)("inputId",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].inputId)("aliasName",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].aliasName)("placeholder",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].placeholder)("customData",null==a.dynamicObjControls[e]?null:a.dynamicObjControls[e].customData)}}function Tt(n,r){if(1&n&&(t.j41(0,"div"),t.DNE(1,Lt,1,7,"app-common-form",34),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngIf","Search"!==e)}}function Et(n,r){1&n&&(t.j41(0,"button",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.Y8G("routerLink",t.lJ4(5,$))("hideUnAuthorized","create-category"),t.R7$(),t.SpI("+ ",t.bMT(2,3,"catalog.categories.AddCategory")," "))}function Rt(n,r){1&n&&(t.j41(0,"button",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.Y8G("routerLink",t.lJ4(5,Ot))("hideUnAuthorized","add-category-localization"),t.R7$(),t.SpI("+ ",t.bMT(2,3,"marketplace.common.Localization")," "))}function $t(n,r){1&n&&(t.j41(0,"button",36),t.EFF(1,"+ Bulk Upload "),t.k0s()),2&n&&t.Y8G("routerLink",t.lJ4(2,xt))("hideUnAuthorized","create-category")}function Dt(n,r){1&n&&t.nrm(0,"app-list-skeleton")}function At(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-common-table",37),t.bIt("buttonChangeEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.buttonAction(o))}),t.k0s()}if(2&n){const e=t.XpG(),a=t.sdS(45);t.Y8G("customTemplate",t.eq3(4,It,a))("HeadArray",e.customTable)("GridArray",e.categoriesList)("selectAll",e.tableCheckbox)}}function zt(n,r){1&n&&(t.j41(0,"span",40),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"common.Active")))}function Gt(n,r){1&n&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"common.In-Active")))}function Nt(n,r){if(1&n&&t.DNE(0,zt,3,3,"span",38)(1,Gt,3,3,"span",39),2&n){const e=r.$implicit;t.Y8G("ngIf",1==(null==e?null:e.isActive)),t.R7$(),t.Y8G("ngIf",0==(null==e?null:e.isActive))}}function Ut(n,r){1&n&&(t.j41(0,"div",42)(1,"span"),t.nrm(2,"img",43),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",44),t.EFF(7),t.nI1(8,"translate"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,3,"Settings.data.DataNotFound")),t.R7$(2),t.Y8G("routerLink",t.lJ4(7,$)),t.R7$(),t.SpI(" ",t.bMT(8,5,"catalog.categories.AddCategory")," "))}function Vt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",45)(1,"app-reusable-pagination",46),t.nI1(2,"async"),t.bIt("pageChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(o))}),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",e.currentPage)("totalItems",t.bMT(2,4,e.categorySandbox.getCategoriesListCount$))("pageSize",e.limit)}}function Bt(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-bulk-action",47),t.bIt("actionEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.actionType(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("count",null==e.selectedDatas?null:e.selectedDatas.length)("bulkList",e.bulkAction)}}let Xt=(()=>{class n{constructor(e,a,o,i,c,g,m,h,f){this.titleService=e,this.router=a,this.route=o,this.ref=i,this.modalService=c,this.fb=g,this.categorySandbox=m,this.layoutSandbox=h,this.envService=f,this.currentPage=1,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.offset=0,this.queryData={},this.pagination=!0,this.categoriesList=[],this.subscriptions=new dt.yU,this.trackByIndex=b=>b,this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this._Object=Object,this.empty=[null,"",void 0],this.selectedDatas=[],this.tableCheckbox={isSelectAll:!1},this.bulkAction=bt}ngOnInit(){this.imageUrl=this.envService.imageUrl,this.titleService.setTitle("Categories"),this.customTable=(()=>{const n=(0,ht.ZQ)();return[{displayName:"",id:"categoryId",type:"checkBox",checked:!0,isEnableSelectall:!0,customStyle:{trow:{class:"check-table"},tbody:{class:"check-table"}}},{displayName:"catalog.product.Image",id:"images",type:"image",checked:!0,customStyle:{tbody:{class:"product-image"}}},{displayName:"catalog.categories.CategoryName",id:"name",type:"default",checked:!0,customStyle:{tbody:{class:"fw-semibold"}}},{displayName:"catalog.categories.Levels",id:"levels",type:"default",checked:!0},{displayName:"catalog.categories.SortOrder",id:"sortOrder",type:"default",checked:!0,customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"catalog.product.Status",type:"template",id:"status",key:"checkBox",checked:!0,customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"marketplace.common.Action",id:"menu",type:"threeDotMenu",checked:!0,isDisable:!n["edit-category"]&&!n["delete-category"],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}},menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!n["edit-category"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!n["delete-category"]}]}]})(),this.buildForm(),this.routeSubscribe()}buttonAction(e){switch(e.key){case"threeDotMenu":"Edit"==e.actionType&&this.router.navigate(["/vendors/product-config/categories/edit",e.categoryId],{queryParams:this.getQueryParam()}),"Delete"==e.actionType&&this.deleteCategory(e.categoryId);break;case"checkBox":this.selectedDatas=e.selectedDatas}}deleteCategory(e){const a=this.modalService.open(pt.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});a.componentInstance.key="",a.componentInstance.id="",a.componentInstance.deleteMessage="Category",a.result.then(o=>{if("deleted"===o){const i={};i.categoryId=e,this.categorySandbox.deleteCategory(i),this.subscriptions.add(this.categorySandbox.getCategoriesDelete$.subscribe(c=>{c&&1===c.user.status&&this.routeSubscribe()}))}})}exportExcel(){const e={};e.categoryId=this.selectedDatas?.map(a=>a.categoryId),this.categorySandbox.CategoryExcel(e),this.subscriptions.add(this.subscriptions.add(this.categorySandbox.CategoryExportExcel$.subscribe(a=>{a&&this.resetCheckbox()})))}exportExcelAll(){this.categorySandbox.ExportAllExcel({categoryId:[]}),this.subscriptions.add(this.subscriptions.add(this.categorySandbox.ExportAllExcel$.subscribe(a=>{a&&this.resetCheckbox()})))}reset(e=!1){this.categoriesList.forEach(a=>a.checked=e),this.selectedDatas=this.categoriesList.filter(a=>a?.checked)}resetCheckbox(){this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.productCount(),this.dropDownClose("myDropdown")}applyFilter(){this.filterValueUpdate(),this.resetAll()}buildForm(){const e=ft,a=(0,L.gQ)(e);this.formObjFormGroup=this.fb.group(a),Object.keys(e).forEach(o=>{this.dynamicObjControls[o]=(0,L.yE)(e[o],this.formObjFormGroup)}),this.filterValueUpdate()}removeFilter(e){this.formObjFormGroup.controls[e.key].reset(),this.filterValueUpdate(),this.resetAll()}filterReset(e){"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({categories:"",status:""}),this.filterValueUpdate(),this.resetAll()}productList(){this.offset=(this.currentPage-1)*this.limit;let e=j(this.getQueryParam());e.count=0,this.categorySandbox.categoryList(e),this.subscriptions.add(this.categorySandbox.getCategoriesList$.subscribe(a=>{this.categoriesList=a,this.categoriesList?.forEach(o=>{o&&(["",null,void 0].includes(o.image)?o.images="assets/error-images/Load-icon-Products.png":(o.images=(0,ut.V)(this.imageUrl,o.imagePath,o.image),this.ref.detectChanges()))})})),this.updateQueryParam()}productCount(){this.offset=(this.currentPage-1)*this.limit;const e=j(this.getQueryParam());delete e.offset,e.count=1,this.categorySandbox.getCategoryListCount(e)}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.productList()}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??"",name:this.backupFormValue.categories??"",status:this.backupFormValue.status?this.backupFormValue.status:""}}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(e=>!this.empty.includes(e))}routeSubscribe(){let e={};this.subscriptions.add(this.route.queryParams.subscribe(a=>{e=a,this.limit=e.limit?Number(e.limit):this.limit,this.offset=e.offset?Number(e.offset):0,this.currentPage=e.offset&&e.limit?Math.floor(e.offset/e.limit)+1:1,this.formObjFormGroup.patchValue({categories:e.name??"",status:e.status?e.status:null,search:e.keyword??""}),this.filterValueUpdate()})),this.productList(),this.productCount()}actionType(e){switch(e){case"resetCheckbox":this.resetCheckbox();break;case"exportExcel":this.exportExcel();break;case"exportExcelAll":this.exportExcelAll()}}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(v.hE),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(t.gRc),t.rXU(p.Bq),t.rXU(l.ze),t.rXU(y.a),t.rXU(Ct.F),t.rXU(T.L))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-categories-list"]],viewQuery:function(a,o){if(1&a&&t.GBs(Pt,5),2&a){let i;t.mGM(i=t.lsd())&&(o.myDropdown=i.first)}},decls:52,vars:55,consts:[["myDropdown","ngbDropdown"],["itemTemplateRef",""],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-search"],[1,"",3,"keyup.enter"],[3,"type","control","label","inputId","aliasName","placeholder"],["ngbDropdown","",1,"dropdown","filter-dropdown",3,"autoClose"],["ngbDropdownToggle","",1,"button-reg","tertiary","btn-sm"],["src","assets/img/filter.svg","alt",""],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"filter-form"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-btn","flex"],[1,"btn","btn-sm","primary","btn-sm",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["class","button-reg primary btn-sm","appShowHide","",3,"routerLink","hideUnAuthorized",4,"ngIf"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[4,"ngIf"],[3,"customTemplate","HeadArray","GridArray","selectAll","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[3,"count","bulkList","actionEvent",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex filter-detail",4,"ngIf"],[1,"added-filter-col","flex","filter-detail"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"type","control","label","inputId","aliasName","placeholder","customData",4,"ngIf"],[3,"type","control","label","inputId","aliasName","placeholder","customData"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"routerLink","hideUnAuthorized"],[3,"buttonChangeEvent","customTemplate","HeadArray","GridArray","selectAll"],["class","status-badge active","href","javascript:void(0)",4,"ngIf"],["class","status-badge inactive","href","javascript:void(0)",4,"ngIf"],["href","javascript:void(0)",1,"status-badge","active"],["href","javascript:void(0)",1,"status-badge","inactive"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"button-reg","btn-sm","primary",3,"routerLink"],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"],[3,"actionEvent","count","bulkList"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h2"),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"async"),t.k0s()(),t.j41(6,"div",4),t.DNE(7,jt,2,1,"div",5),t.nI1(8,"keyvalue"),t.j41(9,"div",6)(10,"form",7),t.bIt("keyup.enter",function(){return t.eBV(i),t.Njj(o.applyFilter())}),t.nrm(11,"app-common-form",8),t.k0s()(),t.j41(12,"div",9,0)(14,"button",10),t.nrm(15,"img",11),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"div",12)(19,"h4"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"form",13),t.DNE(23,Tt,2,1,"div",14),t.j41(24,"div",15)(25,"button",16),t.bIt("click",function(){return t.eBV(i),t.Njj(o.applyFilter())}),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"button",17),t.bIt("click",function(){return t.eBV(i),t.Njj(o.filterReset(""))}),t.EFF(29),t.nI1(30,"translate"),t.k0s()()()()(),t.DNE(31,Et,3,6,"button",18),t.nI1(32,"async"),t.DNE(33,Rt,3,6,"button",18),t.nI1(34,"async"),t.DNE(35,$t,2,3,"button",18),t.nI1(36,"async"),t.k0s()(),t.j41(37,"div",19)(38,"div",20),t.DNE(39,Dt,1,0,"app-list-skeleton",21),t.nI1(40,"async"),t.j41(41,"div"),t.DNE(42,At,1,6,"app-common-table",22),t.nI1(43,"async"),t.DNE(44,Nt,2,2,"ng-template",null,1,t.C5r)(46,Ut,9,8,"div",23),t.nI1(47,"async"),t.DNE(48,Vt,3,6,"div",24),t.nI1(49,"async"),t.nI1(50,"async"),t.k0s()()(),t.DNE(51,Bt,1,2,"app-bulk-action",25)}if(2&a){let i,c,g;t.R7$(3),t.Lme(" ",t.bMT(4,25,"marketplace.common.Categories")," (",t.bMT(5,27,o.categorySandbox.getCategoriesListCount$),")"),t.R7$(4),t.Y8G("ngForOf",t.bMT(8,29,o.backupFormValue))("ngForTrackBy",o.trackByIndex),t.R7$(4),t.Y8G("type",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.type)("control",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.control)("label",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.label)("inputId",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.inputId)("aliasName",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.aliasName)("placeholder",null==o.dynamicObjControls||null==o.dynamicObjControls.Search?null:o.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("autoClose",!1),t.R7$(4),t.SpI(" ",t.bMT(17,31,"marketplace.common.Filters")," "),t.R7$(4),t.SpI(" ",t.bMT(21,33,"marketplace.common.QuickFilter")," "),t.R7$(3),t.Y8G("ngForOf",o._Object.keys(o.dynamicObjControls))("ngForTrackBy",o.trackByIndex),t.R7$(3),t.SpI(" ",t.bMT(27,35,"marketplace.common.ApplyFilter")," "),t.R7$(3),t.SpI(" ",t.bMT(30,37,"marketplace.common.Reset")," "),t.R7$(2),t.Y8G("ngIf",(null==(i=t.bMT(32,39,o.categorySandbox.getCategoriesList$))?null:i.length)>0),t.R7$(2),t.Y8G("ngIf",(null==(c=t.bMT(34,41,o.categorySandbox.getCategoriesList$))?null:c.length)>0),t.R7$(2),t.Y8G("ngIf",(null==(g=t.bMT(36,43,o.categorySandbox.getCategoriesList$))?null:g.length)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(40,45,o.categorySandbox.getCategoriesListRequestLoading$)),t.R7$(3),t.Y8G("ngIf",!t.bMT(43,47,o.categorySandbox.getCategoriesListRequestLoading$)&&o.categoriesList.length>0),t.R7$(4),t.Y8G("ngIf",!t.bMT(47,49,o.categorySandbox.getCategoriesListRequestLoading$)&&0==o.categoriesList.length),t.R7$(2),t.Y8G("ngIf",!t.bMT(49,51,o.categorySandbox.getCategoriesListRequestLoading$)&&t.bMT(50,53,o.categorySandbox.getCategoriesListCount$)>o.limit),t.R7$(3),t.Y8G("ngIf",(null==o.selectedDatas?null:o.selectedDatas.length)>0)}},dependencies:[d.Sq,d.bT,d.ux,d.e1,d.fG,p.tg,p.do,p.U0,l.qT,l.cb,l.cV,yt.s,E.$,vt.V,Mt.V,kt.S,R.D,u.Wk,d.Jj,d.lG,C.D9]})}}return n})();var _=s(79176),D=s(11142),A=s(74937),Yt=s(87327);const qt=["myInput"],Jt=()=>["/vendors/product-config/categories/list"],z=()=>["edit-category"],Qt=()=>[null,void 0,""];function Ht(n,r){if(1&n&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"img",19),t.k0s(),t.j41(3,"h2"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("routerLink",t.lJ4(5,Jt)),t.R7$(3),t.Lme(" ",t.bMT(5,3,"marketplace.common.Categories")," (",e.listCount,")")}}function Kt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",22)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG();return t.Njj(i.removeFilter(o))}),t.nrm(4,"img",24),t.k0s()()}if(2&n){const e=t.XpG().$implicit,a=t.XpG();t.R7$(2),t.Lme("",e.key," : ",a.getStatusDisplay(e.key,e.value)," ")}}function Wt(n,r){if(1&n&&(t.j41(0,"div",20),t.DNE(1,Kt,5,2,"div",21),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngIf",e.value)}}function Zt(n,r){if(1&n&&(t.j41(0,"th",30),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function te(n,r){if(1&n&&t.nrm(0,"img",43),2&n){const e=t.XpG().$implicit,a=t.XpG(2);t.Y8G("src",a.imageUrl+"?path="+e.imagePath+"&name="+e.image+"&width=60&height=60",t.B4B)("alt",e.name)}}function ee(n,r){1&n&&t.nrm(0,"img",44)}function ne(n,r){1&n&&t.nrm(0,"img",47)}function oe(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",48),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,i=t.XpG(2);return t.Njj(i.editCategory(o))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"marketplace.common.Add")," "))}function ae(n,r){if(1&n&&(t.j41(0,"td",45),t.DNE(1,ne,1,0,"img",46)(2,oe,3,3,"ng-template",null,1,t.C5r),t.k0s()),2&n){const e=r.$implicit,a=t.sdS(3),o=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",o.languageIDS.includes(e.languageId))("ngIfElse",a)}}function ie(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td",31),t.DNE(2,te,1,2,"img",32)(3,ee,1,0,"img",33),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.DNE(6,ae,4,2,"td",34),t.j41(7,"td",35),t.EFF(8),t.nI1(9,"dynamicDate"),t.k0s(),t.j41(10,"td",36)(11,"div",37)(12,"button",38),t.nrm(13,"img",39),t.k0s(),t.j41(14,"div",40)(15,"button",41),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.editCategory(o))}),t.nrm(16,"img",42),t.EFF(17),t.nI1(18,"translate"),t.k0s()()()()()}if(2&n){const e=r.$implicit,a=t.XpG(2);t.R7$(2),t.Y8G("ngIf",null==e?null:e.image),t.R7$(),t.Y8G("ngIf",t.lJ4(13,Qt).includes(null==e?null:e.image)),t.R7$(2),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngForOf",a.languageList),t.R7$(2),t.SpI(" ",e.lastModifieDate?t.i5U(9,8,e.lastModifieDate,"dd/MM/yyyy hh:mm a"):"-",""),t.R7$(2),t.Y8G("hideUnAuthorized",t.lJ4(14,z)),t.R7$(5),t.Y8G("hideUnAuthorized","edit-category"),t.R7$(2),t.SpI(" ",t.bMT(18,11,"marketplace.seller.Edit")," ")}}function re(n,r){if(1&n&&(t.j41(0,"table",25)(1,"thead")(2,"tr")(3,"th",26),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"th",26),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.DNE(9,Zt,2,1,"th",27),t.j41(10,"th"),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",28),t.EFF(14),t.nI1(15,"translate"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,ie,19,15,"tr",29),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,7,"catalog.product.Image")),t.R7$(3),t.SpI("",t.bMT(8,9,"marketplace.common.CategoryName")," "),t.R7$(2),t.Y8G("ngForOf",e.languageList),t.R7$(2),t.SpI("",t.bMT(12,11,"marketplace.common.LastUpdated")," "),t.R7$(2),t.Y8G("hideUnAuthorized",t.lJ4(15,z)),t.R7$(),t.SpI(" ",t.bMT(15,13,"marketplace.seller.Action"),""),t.R7$(3),t.Y8G("ngForOf",e.categoryListArray)}}function se(n,r){1&n&&(t.j41(0,"div",49)(1,"span"),t.nrm(2,"img",50),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,1,"marketplace.payments.DataNotFound")))}function le(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-reusable-pagination",51),t.bIt("pageChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("type","numbers")("currentPage",e.currentPage)("totalItems",e.listCount)("pageSize",e.limit)}}let ce=(()=>{class n{constructor(e,a,o,i,c,g,m,h,f,b){this.router=e,this.toastr=a,this.modalService=o,this.configService=i,this.route=c,this.titleService=g,this.languageSandbox=m,this.categorySandbox=h,this.changeDetectRef=f,this.envService=b,this.keyword="",this.offset=0,this.index=0,this.sku="",this.status="",this.filterSearch={},this.currentPage=1,this.filterParams={},this.subscriptions=[],this.bulkFunction=!1,this.selectedAll=!1,this.filterData=[],this.filterDataId=[],this.title="Categories Localization",this.languageList=[],this.isTranslation=!1,this.queryData={},this.limit=10,this.subscribecategory()}ngOnInit(){this.titleService.setTitle(this.title),this.getLanguageList(),this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.isCount=!0,this.getCategoryLocalizationCount(),this.index=this.route.snapshot.queryParamMap.get("index"),this.offset=this.route.snapshot.queryParamMap.get("offset"),0!==this.index?this.pageChangeEvent():this.getcategoryLocalization()}getLanguageList(){const e={};e.limit=this.limit,e.offset=this.offset,e.keyword=this.keyword,e.status="",this.languageSandbox.languageList(e),this.languageSandbox.languageList$.subscribe(a=>{this.languageList=a,this.changeDetectRef.detectChanges()})}removeFilter(e){this.filterSearch[e.key]="",this[e.key]="",this.offset=0,this.getcategoryLocalization(),this.getCategoryLocalizationCount(),this.keyword="",this.offset=0,this.getcategoryLocalization(),this.getCategoryLocalizationCount()}keywordchange(e){this.filterSearch.keyword=e}focusInput(){this.myInput.nativeElement.focus()}getStatusDisplay(e,a){return"Status"==e?1==a?"Active":"In-Active":a}searchList(){this.keyword?(this.queryData.keyword=this.keyword??"",this.queryData.pageSize=this.pageSize,this.queryData.offset=0,this.queryData.index=1,this.index=1,this.filterSearch.keyword=this.keyword,this.getcategoryLocalization(),this.getCategoryLocalizationCount()):(this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.getcategoryLocalization(),this.getcategoryLocalization())}getcategoryLocalization(){this.offset=(this.currentPage-1)*this.limit;const e={};e.offset=this.offset,e.limit=this.pageSize,e.keyword=this.keyword,e.sku=this.sku,this.filterParams.pageSize=this.pageSize||"",this.filterParams.keyword=this.keyword||"",this.filterParams.sku=this.sku||"",this.filterParams.offset=this.offset||0,this.filterParams.status=this.status||"",this.router.navigate([],{relativeTo:this.route,queryParams:this.filterParams,queryParamsHandling:"merge"}),this.categorySandbox.getCategoryTranslation(e),this.subscribe()}subscribe(){this.subscriptions.push(this.categorySandbox.getCategoryTranslationList$.subscribe(e=>{e&&(this.categoryListArray=e,0!==this.index&&(this.index=+this.index-1,this.router.navigate([],{relativeTo:this.route,queryParams:this.filterParams,queryParamsHandling:"merge"})),Array.isArray(e)&&e.forEach(a=>{a.categoryTranslation&&Array.isArray(a.categoryTranslation)&&(a.languageIDS=a.categoryTranslation.map(o=>o.languageId))}))}))}getCategoryLocalizationCount(){const e={};e.offset=this.offset,e.limit=0,e.keyword=this.keyword,e.sku=this.sku,e.count=1,this.categorySandbox.getCategoryTranslationCount(e),this.categorySandbox.getCategoryTranslationCount$.subscribe(a=>{this.listCount=a,this.changeDetectRef.detectChanges()})}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.getcategoryLocalization()}pageChangeEvent(){this.isCount=!1,this.pageSize=this.pageSize,this.index=this.index,this.offset=this.pageSize*this.index,this.filterDataId=[],this.selectedAll=!1,this.getcategoryLocalization(),this.getCategoryLocalizationCount()}filterDataList(){this.filterData=this.categoryListArray.filter(e=>{if(!0===e.selected)return e}),this.filterDataId=this.filterData.map(e=>e.categoryId)}subscribecategory(){this.subscriptions.push(this.categorySandbox.getCategoryTranslationList$.subscribe(e=>{this.categoryListArray=[],e&&e.length>0&&(this.categoryListArray=e.map(a=>({...a,selected:!1})))}))}editCategory(e){this.edit=e.categoryId,this.router.navigate(["/vendors/product-config/categories/editLocalization",this.edit],{queryParams:e})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(u.Ix),t.rXU(k.tw),t.rXU(p.Bq),t.rXU(P.w),t.rXU(u.nX),t.rXU(v.hE),t.rXU(D.T),t.rXU(y.a),t.rXU(t.gRc),t.rXU(T.L))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-localization-list"]],viewQuery:function(a,o){if(1&a&&t.GBs(qt,5),2&a){let i;t.mGM(i=t.lsd())&&(o.myInput=i.first)}},decls:26,vars:24,consts:[["myInput",""],["elseBlock",""],[1,"row","products-section","vendor-section"],[1,"flex","filter-row"],["class","filter-lft",4,"ngIf"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf"],[1,"filter-search"],["type","text","appNoLeadingSpace","",3,"change","ngModelChange","keydown.enter","placeholder","ngModel"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"table-responsive"],[1,"spinner-wrapper"],[2,"transform","translate(0%, 300%)","position","absolute",3,"isShow"],["class","table",4,"ngIf"],["class","nodata-found",4,"ngIf"],[3,"type","currentPage","totalItems","pageSize","pageChange",4,"ngIf"],[1,"filter-lft"],[1,"to-back",3,"routerLink"],["src","assets/imgs/back.svg","alt",""],[1,"added-filter","flex"],["class","added-filter-col flex",4,"ngIf"],[1,"added-filter-col","flex"],[3,"click"],["src","assets/img/close.svg","alt",""],[1,"table"],["scope","col"],["class","text-center","scope","col",4,"ngFor","ngForOf"],["scope","col","appShowHide","",1,"text-center",3,"hideUnAuthorized"],[4,"ngFor","ngForOf"],["scope","col",1,"text-center"],[1,"product-image"],[3,"src","alt",4,"ngIf"],["src","./assets/error-images/Load-icon-Products.png","alt","error-img",4,"ngIf"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-nowrap"],["appShowHide","",1,"text-center","action-btn",3,"hideUnAuthorized"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle",""],["src","assets/img/elliptical-h.svg","alt",""],["ngbDropdownMenu","",1,"dropdown-menu-end"],["appShowHide","","href","javascript:void(0)",3,"click","hideUnAuthorized"],["src","assets/img/edit.svg","alt","edit"],[3,"src","alt"],["src","./assets/error-images/Load-icon-Products.png","alt","error-img"],[1,"text-center"],["src","assets/imgs/tick-green.svg",4,"ngIf","ngIfElse"],["src","assets/imgs/tick-green.svg"],["href","javascript:void(0)",1,"link-text",3,"click"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",2)(1,"div",3),t.DNE(2,Ht,6,6,"div",4),t.nI1(3,"async"),t.j41(4,"div",5),t.DNE(5,Wt,2,1,"div",6),t.nI1(6,"keyvalue"),t.j41(7,"div",7)(8,"input",8,0),t.nI1(10,"translate"),t.bIt("change",function(g){return t.eBV(i),t.Njj(o.keywordchange(g.target.value))}),t.mxI("ngModelChange",function(g){return t.eBV(i),t.DH7(o.keyword,g)||(o.keyword=g),t.Njj(g)}),t.bIt("keydown.enter",function(){return t.eBV(i),t.Njj(o.searchList())}),t.k0s(),t.j41(11,"span"),t.EFF(12," / "),t.k0s()()()()(),t.j41(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),t.nrm(17,"app-global-loader",13),t.nI1(18,"async"),t.k0s(),t.DNE(19,re,18,16,"table",14),t.nI1(20,"async"),t.nI1(21,"async"),t.DNE(22,se,6,3,"div",15),t.nI1(23,"async"),t.nI1(24,"async"),t.k0s(),t.DNE(25,le,1,4,"app-reusable-pagination",16),t.k0s()()}if(2&a){let i,c,g;t.R7$(2),t.Y8G("ngIf",(null==(i=t.bMT(3,8,o.categorySandbox.getCategoryTranslationList$))?null:i.length)>0),t.R7$(3),t.Y8G("ngForOf",t.bMT(6,10,o.filterSearch)),t.R7$(3),t.Y8G("placeholder",t.bMT(10,12,"marketplace.common.Search")),t.R50("ngModel",o.keyword),t.R7$(9),t.Y8G("isShow",t.bMT(18,14,o.categorySandbox.getCategoryTranslationListLoading$)),t.R7$(2),t.Y8G("ngIf",(null==(c=t.bMT(20,16,o.categorySandbox.getCategoryTranslationList$))?null:c.length)>0&&t.bMT(21,18,o.categorySandbox.getCategoryTranslationListLoaded$)),t.R7$(3),t.Y8G("ngIf",0==(null==(g=t.bMT(23,20,o.categorySandbox.getCategoryTranslationList$))?null:g.length)&&t.bMT(24,22,o.categorySandbox.getCategoryTranslationListLoaded$)),t.R7$(3),t.Y8G("ngIf",o.listCount>o.limit)}},dependencies:[d.Sq,d.bT,p.tg,p.do,p.U0,l.me,l.BC,l.vS,E.$,A.q,R.D,u.Wk,S.L,d.Jj,d.lG,Yt.S,C.D9]})}}return n})();function ge(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.scrollToLanguage(o.name))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(),t.JRh(e.name)}}function de(n,r){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"marketplace.common.CategoryTitleisrequired")," . "))}function pe(n,r){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"marketplace.common.Descriptionisrequired")," "))}function ue(n,r){if(1&n&&(t.j41(0,"div",20)(1,"div",21)(2,"h3"),t.nrm(3,"img",22),t.EFF(4),t.j41(5,"span"),t.EFF(6),t.k0s()()(),t.j41(7,"div",23)(8,"form",24),t.nrm(9,"input",25),t.j41(10,"div",26)(11,"div",27)(12,"label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",28),t.nrm(16,"input",29),t.DNE(17,de,3,3,"div",30),t.k0s()(),t.j41(18,"div",31)(19,"label"),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.j41(22,"div",28),t.nrm(23,"ckeditor",32),t.DNE(24,pe,3,3,"div",30),t.k0s()()()()()()),2&n){const e=r.$implicit,a=r.index,o=t.XpG();t.Y8G("id",e.name),t.R7$(3),t.Y8G("src",o.imageUrl+"?path="+e.imagePath+"&name="+e.image+"&width=25&height=15",t.B4B),t.R7$(),t.SpI(" ",e.name,", "),t.R7$(2),t.JRh(e.code),t.R7$(2),t.Y8G("formGroup",o.categoryForms[a]),t.R7$(),t.Y8G("value",e.languageId)("placeholder",e.languageId),t.R7$(4),t.SpI("",t.bMT(14,13,"marketplace.common.CategoryTitle")," "),t.R7$(4),t.Y8G("ngIf",o.categoryForms[a].get("categoryName").invalid&&o.categoryForms[a].get("categoryName").touched),t.R7$(3),t.SpI(" ",t.bMT(21,15,"marketplace.common.Description")," "),t.R7$(3),t.Y8G("editor",o.editor)("config",o.config),t.R7$(),t.Y8G("ngIf",o.categoryForms[a].get("categoryDescription").invalid&&o.categoryForms[a].get("categoryDescription").touched)}}let G=(()=>{class n{constructor(e,a,o,i,c,g,m,h,f,b){this.configService=e,this.route=a,this.router=o,this.fb=i,this.categorySandbox=c,this.languageSandbox=g,this.changeDetectRef=m,this.ckeconfiqservice=h,this.el=f,this.title=b,this.languageList=[],this.categoryDescription="",this.editor=I(),this.config=this.ckeconfiqservice.getEditorConfig()}ngOnInit(){this.title.setTitle("Categories Localization"),this.imageUrl=this.configService.getImageUrl(),this.route.queryParams.subscribe(e=>{this.receivedData=e}),this.getLanguageList(),this.categoryLocalizationDetail(),this.languageList?.forEach(e=>{const a=this.fb.group({languageId:[e.languageId],categoryName:["",l.k0.required],categoryDescription:["",l.k0.required]});this.categoryForms.push(a)})}createcategoryForm(){return this.fb.group({languageId:[""],categoryName:[""],categoryDescription:[""]})}getLanguageList(){this.languageSandbox.languageList({limit:10,offset:0,keyword:"",status:""}),this.languageSandbox.languageList$.subscribe(a=>{this.languageList=a,this.categoryForms=this.languageList?.map(()=>this.createcategoryForm()),this.changeDetectRef.detectChanges()})}categoryLocalizationDetail(){const e={};e.categoryId=this.receivedData?.categoryId,this.categorySandbox.translationDetail(e),this.categorySandbox.translationDetail$.subscribe(a=>{if(this.categoryDetail=a,this.categoryDescription=this.htmlTagConversion(a?.categoryDescription),a){const o=[];this.languageList?.forEach((i,c)=>{this.translation=a?.categoryTranslation?.find(g=>g?.languageId===i?.languageId),this.translation&&(this.categoryForms[c].controls.categoryName.setValue(this.translation.name),this.categoryForms[c].controls.categoryDescription.setValue(this.translation?.description),this.categoryForms[c].controls.languageId.setValue(this.translation.id),o.push(this.translation.id))})}})}save(){const i={data:{categoryTranslation:this.categoryForms.map((c,g)=>{let m={languageId:this.languageList[g].languageId,name:this.languageList[g].languageId?c.value.categoryName:"",description:this.languageList[g].languageId?c.value.categoryDescription:""};return c.value.languageId&&(m.id=c.value.languageId),m}).filter(c=>""!==c.name&&""!==c.description)},id:this.receivedData.categoryId};this.categorySandbox.add_Translation(i),this.categorySandbox.add_Translation$.subscribe(c=>{1==c?.status&&this.router.navigate(["/vendors/product-config/categories/localization"])})}cancel(){this.router.navigate(["/vendors/product-config/categories/localization"])}scrollToLanguage(e){const a=this.el.nativeElement.querySelector(`#${e}`);a&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}htmlTagConversion(e){return(e||"").toString().replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(P.w),t.rXU(u.nX),t.rXU(u.Ix),t.rXU(l.ze),t.rXU(y.a),t.rXU(D.T),t.rXU(t.gRc),t.rXU(M.z),t.rXU(t.aKT),t.rXU(v.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-localization-add"]],decls:32,vars:21,consts:[[1,"spinner-wrapper"],[2,"transform","translate(50%, 400%)","position","absolute","z-index","1",3,"isShow"],[1,"Language_page_wrapper__Qb2id","undefined","Language_page_wrapper_normal__oteTI","Language_add_page_wrapper__KbanA"],[1,"add_user_container","add_role_container"],[1,"flex","prod-dtl"],[1,"to-back",3,"click"],["src","assets/imgs/back.svg","alt",""],[1,"prod-dtl-img"],["onError","this.src='/assets/error-images/Load-icon-Products.png';",3,"src"],[1,"prod-dtl-content"],[1,"add_role_title"],[1,"mt-3"],[1,"languages_nav_list","flexx"],[3,"click",4,"ngFor","ngForOf"],[1,"addproduct-wrap","p-0"],["class","card ap-general",3,"id",4,"ngFor","ngForOf"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","secondary",3,"click"],[1,"button-reg","btn-md","primary",3,"click"],[3,"click"],[1,"card","ap-general",3,"id"],[1,"ap-header","sub-sub-header"],[3,"src"],[1,"ap-body"],[3,"formGroup"],["type","hidden","formControlName","languageId",3,"value","placeholder"],[1,"languges_card__row"],[1,"form-group","flex-column","mb-3"],[1,"ig-row"],["formControlName","categoryName","type","text",1,"int","form-control"],[4,"ngIf"],[1,"form-group","flex-column"],["formControlName","categoryDescription",1,"tex",3,"editor","config"]],template:function(a,o){1&a&&(t.j41(0,"div",0),t.nrm(1,"app-global-loader",1),t.nI1(2,"async"),t.nI1(3,"async"),t.k0s(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"a",5),t.bIt("click",function(){return o.cancel()}),t.nrm(8,"img",6),t.k0s(),t.j41(9,"div",7),t.nrm(10,"img",8),t.k0s(),t.j41(11,"div",9)(12,"h3"),t.EFF(13),t.k0s()()(),t.j41(14,"div",10)(15,"h3",11),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.j41(18,"p"),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.j41(21,"div",12),t.DNE(22,ge,2,1,"a",13),t.k0s(),t.j41(23,"div",14),t.DNE(24,ue,25,17,"div",15),t.k0s()(),t.j41(25,"div",16)(26,"button",17),t.bIt("click",function(){return o.cancel()}),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.j41(29,"button",18),t.bIt("click",function(){return o.save()}),t.EFF(30),t.nI1(31,"translate"),t.k0s()()()),2&a&&(t.R7$(),t.Y8G("isShow",t.bMT(2,9,o.categorySandbox.translationDetailLoading$)&&t.bMT(3,11,o.languageSandbox.languageListLoading$)),t.R7$(9),t.Y8G("src",o.imageUrl+"?path="+(null==o.categoryDetail?null:o.categoryDetail.imagePath)+"&name="+(null==o.categoryDetail?null:o.categoryDetail.image)+"&width=50&height=50",t.B4B),t.R7$(3),t.JRh(null==o.categoryDetail?null:o.categoryDetail.name),t.R7$(3),t.SpI(" ",t.bMT(17,13,"marketplace.common.Languages")," "),t.R7$(3),t.SpI("",t.bMT(20,15,"localization.Categories")," "),t.R7$(3),t.Y8G("ngForOf",o.languageList),t.R7$(2),t.Y8G("ngForOf",o.languageList),t.R7$(3),t.SpI(" ",t.bMT(28,17,"Customers.Customer.Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(31,19,"Customers.Customer.Save")," "))},dependencies:[d.Sq,d.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,A.q,O.h,d.Jj,C.D9],styles:[".page_wrapper[_ngcontent-%COMP%]{padding:8rem 0 0 4rem}.page_wrapper.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_innersidebar[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 12rem);margin-left:auto}.page_wrapper_innersidebar.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_expand_sidebar[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 19rem);margin-left:auto}.page_wrapper_expand_sidebar.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrappers_expand[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 10rem);margin-left:auto}.page_wrappers_expand.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_normal[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 3rem);margin-left:auto}.page_wrapper_normal.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.add_user_container[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;width:calc(100% + -0rem);margin:0rem auto}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]{margin-bottom:4rem}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:400;color:#0e2a3e;line-height:2.0625rem}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:28.1875rem 1fr;gap:2.5rem;align-items:flex-start;width:100%}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]{display:grid;grid-template-columns:6.625rem 1fr;gap:1rem;align-items:center}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__img[_ngcontent-%COMP%]{border:solid thin #D4D5D8;border-radius:.3125rem;display:flex;justify-content:center;align-items:flex-start;width:6.625rem;aspect-ratio:1}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center;gap:.5rem;margin-bottom:1rem}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline:.5rem;height:2.0625rem;display:flex;justify-content:center;align-items:center;font-size:.875rem;font-weight:400;border-radius:.1875rem;position:relative}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.upload-profile-pic[_ngcontent-%COMP%]{border:solid thin #0E2A3E;background-color:#0e2a3e;color:#fff}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.upload-profile-pic[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;inset:0;width:100%;height:100%;z-index:3;cursor:pointer;font-size:0}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.reset[_ngcontent-%COMP%]{border:solid thin #D0DFE8;background-color:#f1f8ff;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__form[_ngcontent-%COMP%]   .add-user__form__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(18rem,1fr));gap:1rem;margin-bottom:1rem}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__form[_ngcontent-%COMP%]   .add-user__form__row2[_ngcontent-%COMP%]{background-color:#f4f8fc;padding:1rem;border-radius:.3125rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(18rem,1fr));gap:1rem;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem 2rem;align-items:flex-end;padding:1rem;background-color:#f4f8fc;border-radius:.3125rem;margin-bottom:1.5rem}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .input-group.ig-short-desc[_ngcontent-%COMP%]{grid-column-end:3;grid-column-start:1;grid-row-start:2}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .add-user__toggle[_ngcontent-%COMP%]{align-items:center}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .add-user__toggle[_ngcontent-%COMP%]   .tgl-light[_ngcontent-%COMP%] + .tgl-btn[_ngcontent-%COMP%]{background-color:#becfe1}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e;padding-left:1.125rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{position:absolute;left:0;top:.0625rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:.1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#20b13f;border:solid thin #20B13F}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e2a3e}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]{border:solid thin #EBEFF3;padding:1rem;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#0e2a3e;margin-bottom:.75rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   .add-role__permission__list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap;gap:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   .add-role__permission__list[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]{width:14.1875rem}.add_role_title[_ngcontent-%COMP%]{margin-bottom:1.125rem}.add_role_title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2a2e34}.add_role_title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#2a2e34}.languages_nav_list[_ngcontent-%COMP%]{justify-content:flex-start;gap:.5rem;margin-bottom:1.1875rem}.languages_nav_list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer;border-radius:1.875rem;background-color:#f0f1f3;font-size:.875rem;font-weight:400;color:#0e0e0f;text-transform:uppercase}.languages_nav_list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d4d6d9}.languages_nav_list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600;background-color:#0e2a3e;color:#fff}.languges_card[_ngcontent-%COMP%]{margin-bottom:1.25rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-end;font-size:.875rem;font-weight:400;color:#0e2a3e;margin-bottom:.625rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.3125rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem;font-weight:600}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]{border-radius:.3125rem;background-color:#f4f8fc;display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{display:grid;grid-template-columns:5.625rem 1fr;gap:.5rem}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#475867}.languges_card[_ngcontent-%COMP%]   .languges_card__row.languges-card__row__arabic[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .languges_card[_ngcontent-%COMP%]   .languges_card__row.languges-card__row__arabic[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{direction:rtl}.int[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid #EBEFF3;height:2rem;border-radius:.1875rem;padding:0 .5rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#456479}.int[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.tex[_ngcontent-%COMP%]{width:100%;display:block;border-radius:.1875rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#456479}.tex[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}[_nghost-%COMP%]  .cke_bottom{display:none}[_nghost-%COMP%]  .cke_top{background-color:#f4f8fc}.prod-dtl[_ngcontent-%COMP%]{padding:1rem;width:100%;justify-content:flex-start;align-items:center;background-color:#f9f9fc;flex-wrap:nowrap;border:0;gap:1rem}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-img[_ngcontent-%COMP%]{width:40px;flex-shrink:1}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]{width:100%;position:relative;flex-grow:1}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2a2e34;text-transform:capitalize;margin:0}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#2a2e34}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}.title-align[_ngcontent-%COMP%]{display:grid;grid-template-columns:4% 10px 1fr;align-items:baseline}"]})}}return n})();var me=s(94194);let he=(()=>{class n extends me.j{constructor(){super(...arguments),this.basUrl=this.getBaseUrl(),this.apiUrlPaths={blogsampleDownload:"/category/download-category-sample",postBlogUpload:"/category/bulk-upload-category"}}sampleExcelDownload(){return this.http.get(`${this.basUrl}${this.apiUrlPaths.blogsampleDownload}`,{responseType:"blob"})}uploadExcel(e){return console.log("FormData sending:",e),this.http.post(`${this.basUrl}${this.apiUrlPaths.postBlogUpload}`,e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}})()}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _e=n=>({disabled_Class:n});function fe(n,r){1&n&&t.nrm(0,"img",10)}function be(n,r){1&n&&t.nrm(0,"img",11)}function Ce(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",12),t.nrm(1,"img",13),t.j41(2,"h5"),t.EFF(3,"Your bulk product update page is empty"),t.k0s(),t.j41(4,"ul",14)(5,"li",14),t.EFF(6,"Download Excel"),t.k0s(),t.j41(7,"li",14),t.EFF(8,"Update Product"),t.k0s(),t.j41(9,"li",14),t.EFF(10,"Upload Updated Excel"),t.k0s()(),t.j41(11,"button",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.updateShowStatus())}),t.EFF(12," Upload Excel File "),t.k0s()()}}function ye(n,r){1&n&&(t.j41(0,"div",27),t.EFF(1," No file chosen "),t.k0s())}function ve(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",16)(1,"h3"),t.EFF(2,"Excel File Upload"),t.k0s(),t.j41(3,"div",17)(4,"div",18)(5,"p"),t.EFF(6,"* Only .xlsx files accepted"),t.k0s(),t.j41(7,"div",19)(8,"input",20,0),t.bIt("change",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onFileChange(o.target.files))}),t.k0s(),t.j41(10,"a",21),t.EFF(11,"Browse and upload file"),t.k0s()(),t.DNE(12,ye,2,0,"div",22),t.j41(13,"div",23),t.EFF(14),t.k0s()()(),t.j41(15,"div",24)(16,"button",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadExcel())}),t.EFF(17," Upload "),t.k0s(),t.j41(18,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())}),t.EFF(19," Reset "),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(12),t.Y8G("ngIf",!e.excelFileName),t.R7$(2),t.SpI(" ",e.excelFileName," ")}}const ke=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Xt,canActivate:[_.q],data:{permissionKey:"list-category",urls:[{title:"breadcrumbs.Marketplace",url:""},{title:"breadcrumbs.ProductConfiguration",url:""},{title:"breadcrumbs.ProductCategories",url:""},{title:"breadcrumbs.List",url:""}]}},{path:"add",component:w,canActivate:[_.q],data:{permissionKey:"create-category",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.Add",url:""}]}},{path:"edit/:id",component:w,canActivate:[_.q],data:{permissionKey:"edit-category",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.Update",url:""}]}},{path:"bulkUpload",component:(()=>{class n{constructor(e,a,o){this.customerService=e,this.toaster=a,this.router=o,this.downloadLoader=!1,this.uploadShow=!1,this.selectedFile=null,this.excelFileName=""}downloadExcel(){this.downloadLoader=!0,this.customerService.sampleExcelDownload().subscribe({next:e=>{const a=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o=new Date,g=`bulk-sample_${o.toISOString().split("T")[0]}_${o.toTimeString().split(" ")[0].replace(/:/g,"-")}.xlsx`,m=window.URL.createObjectURL(a),h=document.createElement("a");h.href=m,h.download=g,h.click(),window.URL.revokeObjectURL(m),this.downloadLoader=!1},error:()=>{this.downloadLoader=!1}})}updateShowStatus(){this.uploadShow=!0}onFileChange(e){if(!e||0===e.length)return;const a=e[0];a.name.toLowerCase().endsWith(".xlsx")?(this.selectedFile=a,this.excelFileName=a.name):alert("Only Excel (.xlsx) files allowed")}uploadExcel(){if(!this.selectedFile)return void this.toaster.error("Please select Excel file");const e=new FormData;e.append("file",this.selectedFile),this.customerService.uploadExcel(e).subscribe({next:a=>{this.toaster.success(a?.message||a?.data?.message||"Excel uploaded successfully"),this.reset()},error:a=>{this.toaster.error(a?.error?.message||"Upload failed")}})}reset(){this.selectedFile=null,this.excelFileName="",this.uploadShow=!1}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(he),t.rXU(k.tw),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-bulk-upload"]],decls:10,vars:8,consts:[["fileInput",""],[1,"col-12"],[1,"breadcrumbs-row","noborder"],[1,"bc-col"],[1,"bc-col-btn","ap-col-btn","flex","search-exp","bulk-header"],[1,"ripple","flex",3,"click","disabled","ngClass"],["src","assets/img/download-white.svg","alt","download",4,"ngIf"],["style","height: 20px; width: 20px;","src","./assets/loader/Spurt-commerce-Loader-2.1.gif",4,"ngIf"],["class","bulk-update-price flex",4,"ngIf"],["class","bup-file-upload",4,"ngIf"],["src","assets/img/download-white.svg","alt","download"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","20px","width","20px"],[1,"bulk-update-price","flex"],["src","assets/img/bulk-img.svg"],[1,"flex"],[1,"ripple","cursor",3,"click"],[1,"bup-file-upload"],[1,"csv-upload","flex"],[1,"browse-upload"],[1,"bu-box","flex","cursor"],["type","file","accept",".xlsx",3,"change"],["href","javascript:void(0)"],["class","error",4,"ngIf"],[1,"fil-name"],[1,"all-btn","flex"],[1,"ripple","allocate",3,"click"],[1,"ripple",3,"click"],[1,"error"]],template:function(a,o){1&a&&(t.j41(0,"div",1)(1,"div",2),t.nrm(2,"div",3),t.j41(3,"div",4)(4,"button",5),t.bIt("click",function(){return o.downloadExcel()}),t.DNE(5,fe,1,0,"img",6)(6,be,1,0,"img",7),t.EFF(7," Download Excel File "),t.k0s()()()(),t.DNE(8,Ce,13,0,"div",8)(9,ve,20,2,"div",9)),2&a&&(t.R7$(4),t.Y8G("disabled",o.downloadLoader)("ngClass",t.eq3(6,_e,o.downloadLoader)),t.R7$(),t.Y8G("ngIf",!o.downloadLoader),t.R7$(),t.Y8G("ngIf",o.downloadLoader),t.R7$(2),t.Y8G("ngIf",!o.uploadShow),t.R7$(),t.Y8G("ngIf",o.uploadShow))},dependencies:[d.YU,d.bT],styles:['.breadcrumbs-row[_ngcontent-%COMP%]{background:transparent;justify-content:space-between;padding:16px}.breadcrumbs-row[_ngcontent-%COMP%]   .bc-col-btn[_ngcontent-%COMP%]{width:auto}.fil-name[_ngcontent-%COMP%]{text-align:center;color:#ed571f}.btn-group[_ngcontent-%COMP%]{white-space:nowrap}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{float:none;display:inline-block}.btn[_ngcontent-%COMP%] + .dropdown-toggle[_ngcontent-%COMP%]{margin-left:-4px}.modal-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif!important}  .modal-footer{display:flex}  .modal-footer button{font-size:14px}  .modal-title{font-size:14px}.popover-body[_ngcontent-%COMP%]{padding:0!important}.bulk-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:#121111;margin:0}.bulk-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-content:center;align-items:center;height:2.5rem;background-color:#ed571f;padding:0 11px;line-height:2.5rem;border-radius:.1875rem;font-size:14px;font-weight:600;color:#fff;border:0}.bulk-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px;width:1rem}.error-field[_ngcontent-%COMP%]{border:1px solid red!important}.error[_ngcontent-%COMP%]{color:red!important;margin-top:2px}.product-list-wrap[_ngcontent-%COMP%]{padding:0;margin:20px 10px;background:#fff;width:calc(100% - 20px)}.product-list-wrap[_ngcontent-%COMP%]   .recent-price-header[_ngcontent-%COMP%]{padding:20px;justify-content:space-between;align-items:center}.product-list-wrap[_ngcontent-%COMP%]   .recent-price-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#121111}.product-list-wrap[_ngcontent-%COMP%]   .recent-price-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{justify-content:center;align-items:center;height:45px;border:solid 1px #e8efff;background-color:#f5f8ff;padding:0 11px;line-height:45px;font-size:15px;font-weight:600;color:#ed571f;border:0}i[_ngcontent-%COMP%]{font-size:22px;margin-right:10px}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-bottom:5rem!important}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.dload[_ngcontent-%COMP%]{justify-content:center;align-items:center;width:50px;height:50px;background-color:#f5f8ff}.table-responsive[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{width:73px;height:28px;border:solid 1px #e4edff;background-color:#fff;justify-content:center;align-items:center;font-size:14px;font-weight:500;color:#6f91e4}.pagination[_ngcontent-%COMP%]{justify-content:flex-end;padding-right:20px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prev[_ngcontent-%COMP%]{font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#a2a2a2;margin:5px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{font-size:14px;font-weight:600;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;color:#000;margin:5px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d8d8d8;margin:8px}.pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{background-color:#fff;margin:5px;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;padding:6px 10px;color:#8c8c8c;border-radius:2px;border:solid 1px #d5d5d5}.pagination[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .pages[_ngcontent-%COMP%]{border-radius:2px;background-color:#1bc316;margin:5px;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:normal;padding:6px 10px;color:#fff}.bulk-update-price[_ngcontent-%COMP%]{justify-content:center;align-items:center;height:450px;flex-direction:column;background:#fff;margin:20px 10px;width:calc(100% - 20px);box-shadow:0 1px 11px #00000012}.bulk-update-price[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#ed571f;margin:20px 0}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:550px;justify-content:center;align-items:center;padding:0}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:50px 15px 20px;justify-content:center;align-items:center;font-size:12px;font-weight:500;color:#adadad;width:33%;gap:5px}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1):before{content:"";position:absolute;left:50%;width:50%;height:1px;background:#d8d8d8;top:20px}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2):before{content:"";position:absolute;left:0%;width:100%;height:1px;background:#d8d8d8;top:20px}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3):before{content:"";position:absolute;left:0;width:50%;height:1px;background:#d8d8d8;top:20px}.bulk-update-price[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";width:12px;height:12px;background-color:#d8d8d8;border-radius:50%;left:0;right:0;top:15px;margin:auto;position:absolute}.bulk-update-price[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:143px;height:2.5rem;border:solid 1px #e8efff;background-color:#f5f8ff;line-height:2.5rem;padding:0 13px;font-size:14px;font-weight:600;color:#ed571f;margin-top:20px;border-radius:.1875rem}.bup-file-upload[_ngcontent-%COMP%]{box-shadow:0 1px 11px #00000012;background:#fff;padding:25px 20px;margin:20px 10px;width:calc(100% - 20px)}.bup-file-upload[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#121111;margin-bottom:40px}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:20px}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]{width:100%;position:relative}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#ed571f;margin:0 0 10px}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]   .bu-box[_ngcontent-%COMP%]{width:100%;height:151px;background-color:#f1f6ff;justify-content:center;align-items:center;position:relative}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]   .bu-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;height:100%;left:0;width:100%}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]   .bu-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#ed571f;text-decoration:underline}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .browse-upload[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .csv-title[_ngcontent-%COMP%]{width:55%}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .csv-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#a4a4a4;margin:0 0 9px}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .csv-title[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:solid 1px #e5e5e5;background:#fff;padding:12px 14px;font-size:14px;font-weight:400;color:#959595;width:100%}.bup-file-upload[_ngcontent-%COMP%]   .csv-upload[_ngcontent-%COMP%]   .csv-title[_ngcontent-%COMP%]   .csvname[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#ed571f;justify-content:flex-start;align-items:center;margin-top:20px}.all-btn[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center;padding:10px;width:100%;background:#fff}.all-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:43px;border:solid 1px #ed571f;background-color:#fff;line-height:43px;padding:0 20px;font-size:14px;font-weight:400;color:#ed571f}.all-btn[_ngcontent-%COMP%]   button.allocate[_ngcontent-%COMP%]{background-color:#ed571f;font-weight:600;color:#fff;margin-right:10px}.disabled_Class[_ngcontent-%COMP%]{opacity:.5}']})}}return n})(),canActivate:[_.q],data:{permissionKey:"create-category",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"Bulk Upload",url:""}]}},{path:"localization",component:ce,canActivate:[_.q],data:{permissionKey:"add-category-localization",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.Localization",url:""},{title:"breadcrumbs.List",url:""}]}},{path:"addLocalization",component:G,canActivate:[_.q],data:{permissionKey:"add-category-localization",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.Localization",url:"/vendors/product-config/categories/localization"},{title:"breadcrumbs.Add",url:""}]}},{path:"editLocalization/:id",component:G,canActivate:[_.q],data:{permissionKey:"add-category-localization",urls:[{title:"breadcrumbs.Marketplace",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductConfiguration",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.ProductCategories",url:"/vendors/product-config/categories/list"},{title:"breadcrumbs.Localization",url:"/vendors/product-config/categories/localization"},{title:"breadcrumbs.Update",url:""}]}}];let Pe=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(ke),u.iI]})}}return n})();var Oe=s(55153),xe=s(9948),Ie=s(99014),Fe=s(21626),Se=s(88650),we=s(63060),je=s(74054),Le=s(52207);let Te=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[y.a,we.w],imports:[d.MD,N.D,l.YN,l.X1,Se.h,Pe,Oe.G,O.w,je.Vm.forFeature(Le.o),C.h.forChild({loader:{provide:C.Wr,useFactory:Ie.M,deps:[Fe.Qq]}}),xe.C]})}}return n})()}}]);
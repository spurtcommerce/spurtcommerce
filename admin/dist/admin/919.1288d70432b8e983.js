"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[919],{90919:(gt,v,a)=>{a.r(v),a.d(v,{GroupsModule:()=>mt});var p=a(60177),M=a(21626),n=a(89417),h=a(41780),C=a(21652),R=a(40528),j=a(55153),T=a(99014),d=a(51188),t=a(54438),g=a(73137),G=a(90988),f=a(72510);const k=s=>({"is-invalid":s}),$=s=>({"error-fields":s}),E=s=>({invalid:s});function P(s,l){1&s&&(t.j41(0,"div",22),t.nrm(1,"img",23),t.k0s())}function D(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CMS.PageGroup.GroupNameIsRequired")," "))}function w(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.JRh(t.bMT(2,1,"CMS.BannerError.MustBe30CharacterLong")))}function x(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.JRh(t.bMT(2,1,"marketplace.Errors.Mustbestring")))}function L(s,l){if(1&s&&(t.j41(0,"div",24),t.DNE(1,D,3,3,"div",25)(2,w,3,3,"div",25)(3,x,3,3,"div",25),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.f.name.errors.required),t.R7$(),t.Y8G("ngIf",e.customerGroupForm.controls.name.hasError("maxlength")),t.R7$(),t.Y8G("ngIf",e.customerGroupForm.controls.name.hasError("pattern"))}}function N(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Customers.Group.GroupDescriptionRequired")," "))}function A(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.JRh(t.bMT(2,1,"CMS.BannerError.MustBe255CharacterLong")))}function B(s,l){if(1&s&&(t.j41(0,"div",24),t.DNE(1,N,3,3,"div",25)(2,A,3,3,"div",25),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.f.description.errors.required),t.R7$(),t.Y8G("ngIf",e.customerGroupForm.controls.description.hasError("maxlength"))}}function O(s,l){1&s&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Customers.Group.GroupStatusIsRequired")," "))}function Y(s,l){if(1&s&&(t.j41(0,"div",24),t.DNE(1,O,3,3,"div",25),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.f.status.errors.required)}}function q(s,l){1&s&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&s&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Customers.Group.GroupStatusColorRequired")," "))}let y=(()=>{class s{noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}constructor(e,r,o,i,u){this.fb=e,this.route=r,this.appSandbox=o,this.router=i,this.service=u,this.submitted=!1,this.orderStatusInfo=[],this.color="",this.queryDetails={},this.subscriptions=[];const c=this.route.snapshot.queryParamMap.get("offset"),m=this.route.snapshot.queryParamMap.get("index");this.queryDetails.offset=c||0,this.queryDetails.index=m||0}ngOnInit(){this.initForm(),this.editOrderStatusList(),this.customersGroupList(),this.editOrderStatusId=this.route.snapshot.paramMap.get("id")}customersGroupList(){this.appSandbox.customersGroupList({limit:0,offset:0,keyword:"",count:"",status:1})}initForm(){this.name=new n.hs("",n.k0.compose([n.k0.required,n.k0.maxLength(30),n.k0.pattern("[a-zA-Z '-]*"),this.noWhitespaceValidator])),this.description=new n.hs("",n.k0.compose([n.k0.required,n.k0.maxLength(225),this.noWhitespaceValidator])),this.status=new n.hs(null,[n.k0.required]),this.colorCode=new n.hs("",[n.k0.required]),this.customerGroupForm=this.fb.group({name:this.name,description:this.description,status:this.status,colorCode:this.colorCode})}backToList(){this.router.navigate(["/customers/manage-customers/groups/list"],{queryParams:this.queryDetails})}onSubmit(){if(this.submitted=!0,""!==this.color&&null!==this.color){if(!this.customerGroupForm.invalid){if(""!==this.customerGroupForm.value.name){const e={};e.name=this.customerGroupForm.value.name,e.description=this.customerGroupForm.value.description,e.status=this.customerGroupForm.value.status.toString(),e.colorcode=this.customerGroupForm.value.colorCode,this.orderStatusInfo[0]&&this.orderStatusInfo[0].id?(e.id=this.orderStatusInfo[0].id,this.appSandbox.updateCustomersGroup(e)):this.appSandbox.addCustomersGroup(e)}this.subscripe()}}else this.colorRequire=!0}subscripe(){this.subscriptions.push(this.appSandbox.getNewCustomersGroup$.subscribe(e=>{e&&this.router.navigate(["/customers/manage-customers/groups/list"],{queryParams:this.queryDetails})})),this.subscriptions.push(this.appSandbox.getUpdateCustomersGroup$.subscribe(e=>{e&&this.router.navigate(["/customers/manage-customers/groups/list"],{queryParams:this.queryDetails})}))}editOrderStatusList(){this.orderStatusInfo.push(this.service.getOrderStatus()),null!==this.orderStatusInfo[0]?this.orderStatusInfo[0]&&this.orderStatusInfo[0].name&&(this.updateTitle=1,this.customerGroupForm.controls.name.setValue(this.orderStatusInfo[0].name),this.customerGroupForm.controls.description.setValue(this.orderStatusInfo[0].description),this.customerGroupForm.controls.status.setValue(this.orderStatusInfo[0].isActive),this.color=this.orderStatusInfo[0].colorCode,this.colorCode=this.orderStatusInfo[0].colorCode):this.orderStatusInfo=null}get f(){return this.customerGroupForm.controls}onchange(e){this.colorRequire=!1,this.colorCode=e}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(n.ze),t.rXU(d.nX),t.rXU(g.g),t.rXU(d.Ix),t.rXU(G.S))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-spurt-customer-group-add"]],decls:64,vars:63,consts:[["class","loading-data",4,"ngIf"],[1,"flex","setting-inner-header"],[1,"settings-center-wrapper","addnewuser"],[1,"new-user"],[1,"form-horizontal","m-t-20",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-lg-6","col-xs-12"],[1,"form-group"],[1,"supvalidation"],["type","text","formControlName","name",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],["type","text","formControlName","description",1,"form-control",3,"placeholder","ngClass"],[1,"control-label"],["formControlName","status",3,"placeholder","ngClass","searchable","clearable"],[3,"value"],["formControlName","colorCode",1,"form-control",3,"ngModelChange","colorPickerChange","placeholder","ngModel","ngClass","colorPicker","value"],[1,"col-12"],[1,"flex","vac-btns"],["type","submit",1,"button-reg","primary"],["src","assets/img/tick-outline-white.svg","alt","save"],[1,"button-reg","secondary",3,"click"],["src","assets/img/close-outline-green.svg","alt","cancel"],[1,"loading-data"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","10vh"],[1,"validation-error"],[4,"ngIf"]],template:function(r,o){1&r&&(t.DNE(0,P,2,0,"div",0),t.nI1(1,"async"),t.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"form",4),t.bIt("ngSubmit",function(){return o.onSubmit()}),t.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),t.EFF(10),t.nI1(11,"translate"),t.j41(12,"sup",8),t.EFF(13,"*"),t.k0s()(),t.nrm(14,"input",9),t.nI1(15,"translate"),t.DNE(16,L,4,3,"div",10),t.k0s()(),t.j41(17,"div",6)(18,"div",7)(19,"label"),t.EFF(20),t.nI1(21,"translate"),t.j41(22,"sup",8),t.EFF(23,"*"),t.k0s()(),t.nrm(24,"input",11),t.nI1(25,"translate"),t.DNE(26,B,3,2,"div",10),t.k0s()(),t.j41(27,"div",6)(28,"div",7)(29,"label",12),t.EFF(30),t.nI1(31,"translate"),t.j41(32,"sup",8),t.EFF(33,"*"),t.k0s()(),t.j41(34,"ng-select",13),t.nI1(35,"translate"),t.j41(36,"ng-option",14),t.EFF(37),t.nI1(38,"translate"),t.k0s(),t.j41(39,"ng-option",14),t.EFF(40),t.nI1(41,"translate"),t.k0s()(),t.DNE(42,Y,2,1,"div",10),t.k0s()(),t.j41(43,"div",6)(44,"div",7)(45,"label",12),t.EFF(46),t.nI1(47,"translate"),t.j41(48,"sup",8),t.EFF(49,"*"),t.k0s()(),t.nrm(50,"br"),t.j41(51,"input",15),t.nI1(52,"translate"),t.mxI("ngModelChange",function(u){return t.DH7(o.color,u)||(o.color=u),u})("colorPickerChange",function(u){return t.DH7(o.color,u)||(o.color=u),u}),t.bIt("colorPickerChange",function(u){return o.onchange(u)}),t.k0s(),t.DNE(53,q,3,3,"div",10),t.k0s()(),t.j41(54,"div",16)(55,"div",17)(56,"button",18),t.nrm(57,"img",19),t.EFF(58),t.nI1(59,"translate"),t.k0s(),t.j41(60,"button",20),t.bIt("click",function(){return o.backToList()}),t.nrm(61,"img",21),t.EFF(62),t.nI1(63,"translate"),t.k0s()()()()()()()()),2&r&&(t.Y8G("ngIf",t.bMT(1,29,o.appSandbox.getCustomersGroupListLoading$)),t.R7$(5),t.Y8G("formGroup",o.customerGroupForm),t.R7$(5),t.JRh(t.bMT(11,31,"CMS.Job.Name")),t.R7$(4),t.FS9("placeholder",t.bMT(15,33,"CMS.PageGroup.GroupName")),t.Y8G("ngClass",t.eq3(55,k,o.submitted&&o.f.name.errors)),t.R7$(2),t.Y8G("ngIf",o.submitted&&o.f.name.errors),t.R7$(4),t.JRh(t.bMT(21,35,"CMS.Blog.Description")),t.R7$(4),t.FS9("placeholder",t.bMT(25,37,"CMS.Blog.Description")),t.Y8G("ngClass",t.eq3(57,k,o.submitted&&o.f.description.errors)),t.R7$(2),t.Y8G("ngIf",o.submitted&&o.f.description.errors),t.R7$(4),t.SpI("",t.bMT(31,39,"Settings.Local.Orderstatus.Status")," "),t.R7$(4),t.FS9("placeholder",t.bMT(35,41,"Customers.Customer.SelectStatus")),t.Y8G("ngClass",t.eq3(59,$,o.submitted&&o.f.status.errors))("searchable",!1)("clearable",!1),t.R7$(2),t.Y8G("value",1),t.R7$(),t.JRh(t.bMT(38,43,"Settings.Local.Orderstatus.Enabled")),t.R7$(2),t.Y8G("value",0),t.R7$(),t.JRh(t.bMT(41,45,"Settings.Local.Orderstatus.Disabled")),t.R7$(2),t.Y8G("ngIf",o.submitted&&o.f.status.errors),t.R7$(4),t.JRh(t.bMT(47,47,"Customers.Group.ColorCode")),t.R7$(5),t.FS9("placeholder",t.bMT(52,49,"placeholder.Color Code")),t.R50("ngModel",o.color),t.Y8G("ngClass",t.eq3(61,E,o.colorRequire)),t.R50("colorPicker",o.color),t.Y8G("value",o.color),t.R7$(2),t.Y8G("ngIf",o.colorRequire),t.R7$(5),t.SpI(" ",t.bMT(59,51,"Settings.Local.Orderstatus.Save")," "),t.R7$(4),t.SpI(" ",t.bMT(63,53,"Settings.Local.Orderstatus.Cancel")," "))},dependencies:[p.YU,p.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,f.vr,f.xt,C.bk,p.Jj,h.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#f62d51;padding-right:calc(1.5em + .75rem);background-image:unset;background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]:invalid, .custom-select.is-invalid[_ngcontent-%COMP%]{border-color:#f62d51;padding-right:calc(.75em + 2.3125rem);background:unset}.error-field[_ngcontent-%COMP%]{border:1px solid red!important}.save-color[_ngcontent-%COMP%]{background:#62b013}.cancel-color[_ngcontent-%COMP%]{background:#ff4d4d}.button-reg[_ngcontent-%COMP%]{height:35px}"]})}}return s})();var V=a(55735),b=a(37886),F=a(10332),S=a(345),z=a(34501),X=a(74937),U=a(35697);let J=(()=>{class s{constructor(e,r,o){this.fb=e,this.sandbox=r,this.laySandbox=o,this.progressEmits=new t.bkB,this.FromEmit=new t.bkB}ngOnInit(){this.pageSize=sessionStorage.getItem("itemsPerPage"),this.pagenationCount=!0,this.initForm()}initForm(){this.statusFilterForm=this.fb.group({keyword:["",n.k0.required],status:[null,n.k0.required]})}reset(){this.statusFilterForm.reset();const e={};e.limit=this.pageSize,e.offset="",e.keyword="",e.status="",this.progressEmits.emit(e),this.sandbox.customersGroupList(e),e.count=1,this.sandbox.PaginationCustomersGroup(e)}onSubmit(){const e={};e.keyword=this.statusFilterForm.value.keyword?this.statusFilterForm.value.keyword:"",e.status=0===this.statusFilterForm.value.status?e.price="0":1===this.statusFilterForm.value.status?e.price="1":"",this.progressEmits.emit(e),this.FromEmit.emit(this.statusFilterForm)}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(n.ze),t.rXU(g.g),t.rXU(F.K))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-customer-filter"]],inputs:{pageSize:"pageSize"},outputs:{progressEmits:"progressEmits",FromEmit:"FromEmit"},decls:29,vars:26,consts:[[1,"filter-form",3,"formGroup"],[1,"input-group"],["for","keyboard"],[1,"ig-row"],["type","text","formControlName","keyword","id","keyboard",3,"placeholder"],[1,"form-group"],["for","status"],["id","status","formControlName","status",3,"placeholder","searchable","clearable"],[3,"value"],[1,"filter-btn","flex"],[1,"button-reg","btn-sm","tertiary",3,"click"],["type","submit",1,"button-reg","btn-sm","primary",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"h4"),t.EFF(1,"Quick Filters"),t.k0s(),t.j41(2,"form",0)(3,"div",1)(4,"label",2),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",3),t.nrm(8,"input",4),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",5)(11,"label",6),t.EFF(12,"Status"),t.k0s(),t.j41(13,"div",3)(14,"ng-select",7),t.nI1(15,"translate"),t.j41(16,"ng-option",8),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"ng-option",8),t.EFF(20),t.nI1(21,"translate"),t.k0s()()()(),t.j41(22,"div",9)(23,"button",10),t.bIt("click",function(){return o.reset()}),t.EFF(24),t.nI1(25,"translate"),t.k0s(),t.j41(26,"button",11),t.bIt("click",function(){return o.onSubmit()}),t.EFF(27),t.nI1(28,"translate"),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("formGroup",o.statusFilterForm),t.R7$(3),t.SpI("",t.bMT(6,12,"CMS.PageGroup.GroupName")," "),t.R7$(3),t.FS9("placeholder",t.bMT(9,14,"CMS.PageGroup.GroupName")),t.R7$(6),t.FS9("placeholder",t.bMT(15,16,"marketplace.seller.SelectStatus")),t.Y8G("searchable",!1)("clearable",!1),t.R7$(2),t.Y8G("value",1),t.R7$(),t.JRh(t.bMT(18,18,"marketplace.seller.Active")),t.R7$(2),t.Y8G("value",0),t.R7$(),t.JRh(t.bMT(21,20,"marketplace.seller.InActive")),t.R7$(4),t.JRh(t.bMT(25,22,"CMS.Pages.Reset")),t.R7$(3),t.JRh(t.bMT(28,24,"CMS.Pages.ApplyFilters")))},dependencies:[n.qT,n.me,n.BC,n.cb,n.j4,n.JD,f.vr,f.xt,h.D9]})}}return s})();const H=["paginator"],K=["myDropdown"],W=["myDropdownSearch"],I=()=>["edit-customer-group","delete-customer-group"],Q=s=>({color:"white",background:s});function Z(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",23)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",24),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG();return t.Njj(i.removeFilter(o))}),t.nrm(4,"img",25),t.k0s()()}if(2&s){const e=t.XpG().$implicit,r=t.XpG();t.R7$(2),t.Lme("",e.key," : ",r.getStatusDisplay(e.key,e.value)," ")}}function tt(s,l){if(1&s&&(t.j41(0,"div",21),t.DNE(1,Z,5,2,"div",22),t.k0s()),2&s){const e=l.$implicit;t.R7$(),t.Y8G("ngIf",e.value)}}function et(s,l){if(1&s){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addCustomerGroup())}),t.EFF(1," + Add Buyer Group "),t.k0s()}2&s&&t.Y8G("hideUnAuthorized","create-customer-group")}function st(s,l){1&s&&(t.j41(0,"div")(1,"span",43),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&s&&(t.R7$(2),t.JRh(t.bMT(3,1,"marketplace.seller.Active")))}function ot(s,l){1&s&&(t.j41(0,"div")(1,"span",44),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&s&&(t.R7$(2),t.JRh(t.bMT(3,1,"Settings.Role.InActive")))}function rt(s,l){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.editGroup(o))}),t.nrm(2,"span",32),t.EFF(3),t.k0s(),t.j41(4,"td",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.editGroup(o))}),t.EFF(5),t.k0s(),t.j41(6,"td",33),t.bIt("click",function(){const o=t.eBV(e).$implicit;return t.Njj(o)}),t.EFF(7),t.k0s(),t.j41(8,"td"),t.DNE(9,st,4,3,"div",34)(10,ot,4,3,"div",34),t.k0s(),t.j41(11,"td",35)(12,"div",36)(13,"button",37),t.nrm(14,"img",38),t.k0s(),t.j41(15,"div",39)(16,"button",40),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.editGroup(o))}),t.nrm(17,"img",41),t.EFF(18," Edit "),t.k0s(),t.j41(19,"button",40),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG(2);return t.Njj(i.deleteCustomerGroup(o.id))}),t.nrm(20,"img",42),t.EFF(21," Delete "),t.k0s()()()()()}if(2&s){const e=l.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(9,Q,e.colorCode)),t.R7$(),t.SpI(" ",e.name?e.name:"-"," "),t.R7$(2),t.SpI(" ",e.description?e.description:"-",""),t.R7$(2),t.SpI(" ",e.colorCode?e.colorCode:"-",""),t.R7$(2),t.Y8G("ngIf",1===e.isActive),t.R7$(),t.Y8G("ngIf",0===e.isActive),t.R7$(),t.Y8G("multipleHideUnAuthorized",t.lJ4(11,I)),t.R7$(5),t.Y8G("hideUnAuthorized","edit-customer-group"),t.R7$(3),t.Y8G("hideUnAuthorized","delete-customer-group")}}function it(s,l){if(1&s&&(t.j41(0,"table",27)(1,"thead")(2,"tr")(3,"th",28),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"th",28),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th",28),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"th",29),t.EFF(16),t.nI1(17,"translate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,rt,22,12,"tr",30),t.nI1(20,"async"),t.k0s()()),2&s){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,7,"CMS.PageGroup.GroupName")),t.R7$(3),t.JRh(t.bMT(8,9,"CMS.Blog.Description")),t.R7$(3),t.JRh(t.bMT(11,11,"Customers.Group.ColorCode")),t.R7$(3),t.JRh(t.bMT(14,13,"Customers.Group.Status")),t.R7$(2),t.Y8G("multipleHideUnAuthorized",t.lJ4(19,I)),t.R7$(),t.SpI(" ",t.bMT(17,15,"Customers.Customer.Action"),""),t.R7$(3),t.Y8G("ngForOf",t.bMT(20,17,e.sandbox.getCustomersGroupList$))}}function nt(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",45),t.nrm(1,"img",46),t.j41(2,"p"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",24),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addCustomerGroup())}),t.EFF(6,"Add Buyer Group"),t.k0s()()}2&s&&(t.R7$(3),t.JRh(t.bMT(4,1,"Customers.Customer.Itemsnotfound")))}function at(s,l){if(1&s){const e=t.RV6();t.j41(0,"app-reusable-pagination",47),t.nI1(1,"async"),t.bIt("pageChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onPageChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("type","numbers")("currentPage",e.currentPage)("totalItems",t.bMT(1,4,e.sandbox.getpagination$))("pageSize",e.pageSize)}}let ut=(()=>{class s{constructor(e,r,o,i,u,c,m,ht){this.modalService=e,this.sandbox=r,this.service=o,this.layoutSandbox=i,this.router=u,this.route=c,this.titleService=m,this.change=ht,this.pageSize="10",this.pageSizeOptions=[10,20],this.offset=0,this.keyword="",this.currentPage=1,this.buttonCheck=!0,this.checkedArray=[],this.limit=10,this.checkCondition=[],this.checkedData=[],this.unCheckData=[],this.name="",this.statusdetails={},this.orderStatusDetails={},this.subscriptions=[],this.queryData={},this.title="Customer Group",this.filterSearch={}}ngOnInit(){this.titleService.setTitle(this.title),this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.customersGroupList(),this.customersGroupPagination(),this.editOrderStatusId=this.route.snapshot.paramMap.get("id")}addCustomerGroup(){this.service.setOrderStatus(""),this.router.navigate(["/customers/manage-customers/groups/add"],{queryParams:this.queryData})}editGroup(e){this.orderStatusDetails=e,this.service.setOrderStatus(this.orderStatusDetails),this.router.navigate(["/customers/manage-customers/groups/edit/",this.orderStatusDetails.id],{queryParams:this.queryData})}customersGroupList(){this.offset=(this.currentPage-1)*this.limit;const e={};e.limit=this.pageSize,e.offset=this.offset,e.keyword=this.keyword,e.status=this.status,e.groupName=this.groupName,e.count="",this.sandbox.customersGroupList(e),this.queryData.offset=this.offset||0,this.queryData.index=this.index||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.queryData,queryParamsHandling:"merge"})}customersGroupPagination(){const e={};e.limit=this.pageSize,e.offset="",e.name="",e.keyword=this.keyword,e.groupName=this.groupName,e.status=this.status,e.count=!0,this.sandbox.PaginationCustomersGroup(e),this.sandbox.getpagination$.subscribe(r=>{this.buyerGroupCount=r,r&&this.change.detectChanges(),this.totalPages=Math.ceil(this.buyerGroupCount/Number(this.pageSize))})}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.customersGroupList()}check(e){this.buttonCheck=e.target.checked}receiveProgress(e){this.index=0,this.status=e.status,this.groupName=e.keyword,this.offset=0,this.filterSearch={"Group Name":this.groupName,Keyword:this.keyword,Status:this.status},(""!==this.groupName||""!==this.status)&&(this.customersGroupList(),this.customersGroupPagination()),this.myDropdown.close()}formchange(e){this.filtercontrolForm=e}open2(e,r){this.modalService.open({}).componentInstance.groupId=r}getStatusDisplay(e,r){return"Status"==e?1==r?"Active":"In-Active":r}deleteCustomerGroup(e){const r=this.modalService.open(V.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});r.componentInstance.key="",r.componentInstance.id="",r.componentInstance.deleteMessage="Customer Group",r.result.then(o=>{"deleted"===o&&(this.sandbox.deleteCustomersGroup({groupId:e}),this.subscriptions.push(this.sandbox.getDeleteCustomersGroupLoaded$.subscribe(i=>{i&&!0===i&&(this.customersGroupList(),this.customersGroupPagination(),this.layoutSandbox.getCustomerCount())})))})}searchList(){this.keyword?(this.queryData.keyword=this.keyword,this.queryData.pageSize=this.pageSize,this.queryData.offset=0,this.queryData.index=1,this.index=1,this.filterSearch.Keyword=this.keyword,this.customersGroupList(),this.customersGroupPagination()):(this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.customersGroupList(),this.customersGroupPagination())}keywordchange(e){this.filterSearch.Keyword=e}removeFilter(e){this.filterSearch[e.key]="",this[e.key]="","Keyword"==e.key&&(this.keyword=""),"Group Name"==e.key&&(this.groupName="",this.filtercontrolForm?.controls.keyword.setValue("Group Name"==e.key?"":this.groupName)),"Status"==e.key&&(this.status="",this.filtercontrolForm?.controls.status.setValue("Status"==e.key?"":this.status)),this.offset=0,this.customersGroupList(),this.customersGroupPagination()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(b.Bq),t.rXU(g.g),t.rXU(G.S),t.rXU(F.K),t.rXU(d.Ix),t.rXU(d.nX),t.rXU(S.hE),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-groups-list"]],viewQuery:function(r,o){if(1&r&&(t.GBs(H,5),t.GBs(K,5),t.GBs(W,5)),2&r){let i;t.mGM(i=t.lsd())&&(o.paginator=i.first),t.mGM(i=t.lsd())&&(o.myDropdown=i.first),t.mGM(i=t.lsd())&&(o.myDropdownSearch=i.first)}},decls:32,vars:21,consts:[["myDropdown","ngbDropdown"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf"],[1,"filter-search"],["type","text","placeholder","Search",3,"ngModelChange","keydown.enter","change","keyup","ngModel"],["ngbDropdown","",1,"dropdown","filter-dropdown",3,"autoClose"],["ngbDropdownToggle","",1,"button-reg","tertiary","btn-sm"],["src","assets/img/filter.svg","alt",""],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"progressEmits","FromEmit"],["class","button-reg primary btn-sm","appShowHide","",3,"hideUnAuthorized","click",4,"ngIf"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"spinner-wrapper"],[2,"transform","translate(38%, 50%)","position","absolute",3,"isShow"],[1,"table-responsive"],["class","table",4,"ngIf"],["class","data-product-not-available",4,"ngIf"],[3,"type","currentPage","totalItems","pageSize","pageChange",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex",4,"ngIf"],[1,"added-filter-col","flex"],[3,"click"],["src","assets/img/close.svg","alt",""],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"table"],["scope","col"],["scope","col","appShowHide","",1,"text-center",3,"multipleHideUnAuthorized"],[4,"ngFor","ngForOf"],[1,"td_css","name",2,"position","relative","cursor","pointer",3,"click"],[2,"padding","6px","font-size","1px","margin-right","5px","display","inline-block",3,"ngStyle"],[2,"position","relative","cursor","pointer",3,"click"],[4,"ngIf"],["appShowHide","",1,"text-center","action-btn",3,"multipleHideUnAuthorized"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle",""],["src","assets/img/elliptical-h.svg","alt",""],["ngbDropdownMenu",""],["appShowHide","",3,"click","hideUnAuthorized"],["src","assets/img/edit.svg","alt",""],["src","assets/img/delete-new.svg","alt",""],[1,"tags-action","tag-active"],[1,"tags-action","tag-inactive"],[1,"data-product-not-available"],["src","assets/img/empty-box.svg","alt",""],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(r,o){if(1&r){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2"),t.EFF(3),t.k0s()(),t.j41(4,"div",3),t.DNE(5,tt,2,1,"div",4),t.nI1(6,"keyvalue"),t.j41(7,"div",5)(8,"input",6),t.mxI("ngModelChange",function(c){return t.eBV(i),t.DH7(o.keyword,c)||(o.keyword=c),t.Njj(c)}),t.bIt("keydown.enter",function(){return t.eBV(i),t.Njj(o.searchList())})("change",function(c){return t.eBV(i),t.Njj(o.keywordchange(c.target.value))})("keyup",function(c){return t.eBV(i),t.Njj(""===c.target.value?o.removeFilter({key:"keyword",value:c.target.value}):"")}),t.k0s(),t.j41(9,"span"),t.EFF(10," / "),t.k0s()(),t.j41(11,"div",7,0)(13,"button",8),t.nrm(14,"img",9),t.EFF(15," Filters "),t.k0s(),t.j41(16,"div",10)(17,"app-customer-filter",11),t.bIt("progressEmits",function(c){return t.eBV(i),t.Njj(o.receiveProgress(c))})("FromEmit",function(c){return t.eBV(i),t.Njj(o.formchange(c))}),t.k0s()()(),t.DNE(18,et,2,1,"button",12),t.nI1(19,"async"),t.k0s()(),t.j41(20,"div",13)(21,"div",14)(22,"div",15),t.nrm(23,"app-global-loader",16),t.nI1(24,"async"),t.k0s(),t.j41(25,"div",17),t.DNE(26,it,21,20,"table",18),t.nI1(27,"async"),t.DNE(28,nt,7,3,"div",19),t.nI1(29,"async"),t.DNE(30,at,2,6,"app-reusable-pagination",20),t.nI1(31,"async"),t.k0s()()()}if(2&r){let i,u,c,m;t.R7$(3),t.SpI("Buyer Groups (",o.buyerGroupCount,")"),t.R7$(2),t.Y8G("ngForOf",t.bMT(6,9,o.filterSearch)),t.R7$(3),t.R50("ngModel",o.keyword),t.R7$(3),t.Y8G("autoClose",!1),t.R7$(7),t.Y8G("ngIf",(null==(i=t.bMT(19,11,o.sandbox.getCustomersGroupList$))?null:i.length)>0),t.R7$(5),t.Y8G("isShow",t.bMT(24,13,o.sandbox.getCustomersGroupListLoading$)),t.R7$(3),t.Y8G("ngIf",(null==(u=t.bMT(27,15,o.sandbox.getCustomersGroupList$))?null:u.length)>0),t.R7$(2),t.Y8G("ngIf",0==(null==(c=t.bMT(29,17,o.sandbox.getCustomersGroupList$))?null:c.length)),t.R7$(2),t.Y8G("ngIf",(null==(m=t.bMT(31,19,o.sandbox.getCustomersGroupList$))?null:m.length)>0)}},dependencies:[p.Sq,p.bT,p.B3,b.tg,b.do,b.U0,n.me,n.BC,n.vS,z.$,X.q,U.D,J,p.Jj,p.lG,h.D9],styles:[".td_css[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.td_css[_ngcontent-%COMP%]:hover   a.tooltip[_ngcontent-%COMP%]:hover{display:inline;position:absolute;color:#111;border:1px solid #DCA;background:#fffaf0}.subtoolbar[_ngcontent-%COMP%]{z-index:0!important}.number[_ngcontent-%COMP%]{background-color:green;margin-top:1%;height:34px;padding:1% 4%;color:#fff;font-weight:500}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{background-color:#0fae61!important;border:#0fae61!important}.toggle[_ngcontent-%COMP%]   .tgl-light[_ngcontent-%COMP%]:checked + .tgl-btn[_ngcontent-%COMP%]{background-color:#0fae61!important}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}"]})}}return s})();var _=a(79176);const lt=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ut,canActivate:[_.q],data:{permission:"list-customer-group",urls:[{title:"Buyers",url:""},{title:"Manage Buyer",url:""},{title:"Buyer Groups List",url:""}]}},{path:"add",component:y,canActivate:[_.q],data:{permission:"create-customer-group",urls:[{title:"Buyers",url:""},{title:"Manage Buyer",url:""},{title:"Buyer Groups Add",url:""}]}},{path:"edit/:id",component:y,canActivate:[_.q],data:{permission:"edit-customer-group",urls:[{title:"Buyers",url:""},{title:"Manage Buyer",url:""},{title:"Buyer Groups Update",url:""}]}}];let ct=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(lt),d.iI]})}}return s})();var pt=a(88650),dt=a(82765);let mt=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[G.S,g.g,S.hE,{provide:dt.OQ,useValue:"check"}],imports:[p.MD,R.D,n.YN,n.X1,j.G,pt.h,ct,h.h.forChild({loader:{provide:h.Wr,useFactory:T.M,deps:[M.Qq]}}),C.YG]})}}return s})()}}]);
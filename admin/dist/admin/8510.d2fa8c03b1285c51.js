"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[8510],{48510:(J,f,e)=>{e.r(f),e.d(f,{SocialModule:()=>H});var S=e(60177),n=e(89417),c=e(74054),b=e(41780),w=e(55153),R=e(40528),p=e(51188),t=e(54438),r=e(33121);class M{constructor(h){this.facebook=h.facebook||"",this.google=h.google||"",this.twitter=h.twitter||"",this.instagram=h.instagram||"",this.settingId=h.settingId||0,this.siteUrl=h.siteUrl||0}}var g=e(34514),u=e(58998);const m=s=>s.social,k=(0,g.Mz)(m,u.IL),T=(0,g.Mz)(m,u.yK),x=(0,g.Mz)(m,u.rY);var C=e(84745);let v=(()=>{class s{constructor(i){this.appState=i,this.getNewSocial$=this.appState.select(k),this.getSocial$=this.appState.select(T),this.getSettingLoading$=this.appState.select(x)}createSocial(i){this.appState.dispatch(new r.$k(new M(i)))}getSocial(){this.appState.dispatch(new r.dO)}static{this.\u0275fac=function(o){return new(o||s)(t.KVO(C.il))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();var U=e(345),j=e(74937),E=e(35697);const z=[{path:"",component:(()=>{class s{constructor(i,o,a,l){this.socialsandbox=i,this.fb=o,this.router=a,this.titleService=l,this.subscriptions=[],this.submitted=!1,this.titleService.setTitle("Settings | Personalize")}ngOnInit(){this.initForm(),this.subscribe(),this.getSocialInfo()}initForm(){this.facebook=new n.hs(""),this.google=new n.hs(""),this.twitter=new n.hs(""),this.instagram=new n.hs(""),this.socialForm=this.fb.group({facebook:this.facebook,google:this.google,twitter:this.twitter,instagram:this.instagram})}onSubmit(){if(this.submitted=!0,this.socialForm.invalid)return;const i={};i.facebook=this.socialForm.value.facebook,i.google=this.socialForm.value.google,i.twitter=this.socialForm.value.twitter,i.instagram=this.socialForm.value.instagram,i.siteUrl=this.siteUrl,i.settingId=this.settingsId,this.socialsandbox.createSocial(i)}cancel(){this.router.navigate(["/settings"])}getSocialInfo(){this.socialsandbox.getSocial(),this.socialsandbox.getSocial$.subscribe(i=>{i&&(this.siteUrl=i[0].siteUrl,this.settingsId=i[0].settingsId)})}subscribe(){this.subscriptions.forEach(i=>{i.unsubscribe()}),this.subscriptions.push(this.socialsandbox.getSocial$.subscribe(i=>{i&&i[0]&&(this.socialForm.controls.facebook.setValue(i[0].facebook),this.socialForm.controls.google.setValue(i[0].google),this.socialForm.controls.twitter.setValue(i[0].twitter),this.socialForm.controls.instagram.setValue(i[0].instagram))}))}static{this.\u0275fac=function(o){return new(o||s)(t.rXU(v),t.rXU(n.ze),t.rXU(p.Ix),t.rXU(U.hE))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-settings-sitesettings-social"]],decls:52,vars:45,consts:[[1,"local-content"],[1,"set-lay-notes","flex"],[1,"settings-right-wrapper","addnewuser",2,"padding-bottom","0"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(35%, 18%)","position","absolute",3,"isShow"],[1,"form-horizontal","m-t-20",3,"formGroup"],[1,"flex","addproduct-wrap","p-0"],[1,"card","ap-general"],[1,"ap-header"],[1,"ap-body"],[1,"ap-form-row"],[1,"ap-body-col"],[1,"form-group"],["appShowHide","","type","text","formControlName","facebook",1,"form-control",3,"hideUnAuthorized","placeholder"],["appShowHide","","type","text","formControlName","twitter",1,"form-control",3,"hideUnAuthorized","placeholder"],["appShowHide","","type","text","formControlName","instagram",1,"form-control",3,"hideUnAuthorized","placeholder"],[1,"action-button-container","flex","flex"],["appShowHide","",1,"button-reg","btn-md","tertiary",3,"click","hideUnAuthorized"],["type","button","appShowHide","",1,"button-reg","btn-md","primary",3,"click","hideUnAuthorized"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",2)(9,"div",3),t.nrm(10,"app-global-loader",4),t.nI1(11,"async"),t.k0s(),t.j41(12,"form",5)(13,"div",6)(14,"div",7)(15,"div",8)(16,"h3"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"p"),t.EFF(20),t.nI1(21,"translate"),t.k0s()(),t.j41(22,"div",9)(23,"div",10)(24,"div",11)(25,"div",12)(26,"label"),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.nrm(29,"input",13),t.nI1(30,"translate"),t.k0s()(),t.j41(31,"div",11)(32,"div",12)(33,"label"),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.nrm(36,"input",14),t.nI1(37,"translate"),t.k0s()(),t.j41(38,"div",11)(39,"div",12)(40,"label"),t.EFF(41),t.nI1(42,"translate"),t.k0s(),t.nrm(43,"input",15),t.nI1(44,"translate"),t.k0s()()()()()()()()(),t.j41(45,"div",16)(46,"button",17),t.bIt("click",function(){return a.cancel()}),t.EFF(47),t.nI1(48,"translate"),t.k0s(),t.j41(49,"button",18),t.bIt("click",function(){return a.onSubmit()}),t.EFF(50),t.nI1(51,"translate"),t.k0s()()),2&o&&(t.R7$(3),t.JRh(t.bMT(4,19,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,21,"Settings.paragraph.Facebookpagelink")," "),t.R7$(4),t.Y8G("isShow",t.bMT(11,23,a.socialsandbox.getSettingLoading$)),t.R7$(2),t.Y8G("formGroup",a.socialForm),t.R7$(5),t.JRh(t.bMT(18,25,"Settings.Social.Websitesdetails")),t.R7$(3),t.JRh(t.bMT(21,27,"Settings.Social.socialMediaNoteContent")),t.R7$(7),t.JRh(t.bMT(28,29,"Settings.Social.Facebook")),t.R7$(2),t.FS9("placeholder",t.bMT(30,31,"Settings.Social.Facebook")),t.Y8G("hideUnAuthorized","edit-social-url"),t.R7$(5),t.JRh(t.bMT(35,33,"Settings.Social.Twitter")),t.R7$(2),t.FS9("placeholder",t.bMT(37,35,"Settings.Social.TwitterLink")),t.Y8G("hideUnAuthorized","edit-social-url"),t.R7$(5),t.JRh(t.bMT(42,37,"Settings.Social.Instagram")),t.R7$(2),t.FS9("placeholder",t.bMT(44,39,"Settings.Social.Instagram")),t.Y8G("hideUnAuthorized","edit-social-url"),t.R7$(3),t.Y8G("hideUnAuthorized","edit-social-url"),t.R7$(),t.JRh(t.bMT(48,41,"Settings.Social.Cancel")),t.R7$(2),t.Y8G("hideUnAuthorized","edit-social-url"),t.R7$(),t.JRh(t.bMT(51,43,"Settings.Social.Save")))},dependencies:[n.qT,n.me,n.BC,n.cb,n.j4,n.JD,j.q,E.D,S.Jj,b.D9],styles:[".settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.settings-right-wrapper[_ngcontent-%COMP%]{display:block;margin-left:0!important;background:#fff;padding:15px 30px 100px;margin-top:40px}.setting2-inner-header[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:15px;margin-left:0!important;padding:8px}"]})}}return s})()}];let G=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(z),p.iI]})}}return s})();var F=e(7673),I=e(96354),d=e(25558),y=e(99437),A=e(94194);let $=(()=>{class s extends A.j{constructor(){super(...arguments),this.url=this.getBaseUrl()}createsocial(i){return this.http.post(this.url+"/settings",i)}getSocial(){return this.http.get(this.url+"/settings?defaultWebsite=1")}static{this.\u0275fac=(()=>{let i;return function(a){return(i||(i=t.xGo(s)))(a||s)}})()}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})(),O=(()=>{class s{constructor(i,o){this.action$=i,this.service=o,this.doAddsocial$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(r.Q3.DO_NEW_SOCIAL),(0,I.T)(a=>a.payload),(0,d.n)(a=>this.service.createsocial(a).pipe((0,d.n)(l=>[new r.Wh(l)]),(0,y.W)(l=>(0,F.of)(new r.Dk(l))))))),this.dogetsocial$=(0,c.EH)(()=>this.action$.pipe((0,c.gp)(r.Q3.DO_GET_SOCIAL),(0,I.T)(a=>a.payload),(0,d.n)(()=>this.service.getSocial().pipe((0,d.n)(a=>[new r.Qd(a)]),(0,y.W)(a=>(0,F.of)(new r.Rw))))))}static{this.\u0275fac=function(o){return new(o||s)(t.KVO(c.En),t.KVO($))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();var D=e(88650);let H=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[v,$],imports:[S.MD,R.D,n.YN,n.X1,w.G,G,D.h,b.h.forChild(),c.Vm.forFeature([O])]})}}return s})()}}]);
"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[5946],{25946:(Oe,x,c)=>{c.r(x),c.d(x,{PagesModule:()=>ve});var h=c(60177),J=c(40528),p=c(89417),T=c(345),g=c(74054),_=c(7673),m=c(96354),u=c(25558),k=c(88141),l=c(4777),f=c(99437);class q{constructor(r){this.pagesupdate={},this.pagesupdate=r||""}}class w{constructor(r){this.pagescount={},this.pagescount=r||""}}var t=c(54438),W=c(94194);let L=(()=>{class n extends W.j{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}pagesGetData(){return this.pagesData}pagesSetData(e){this.pagesData=e}getpageslist(e){let i={};return i=e,this.http.get(this.url+"/page",{params:i})}Addpages(e){return this.http.post(this.url+"/page",e)}updatepages(e,i){return this.http.put(this.url+"/page/"+i,e)}deletepageslist(e,i){return this.http.delete(this.url+"/page/"+i,e)}pagesBulkDelete(e){return this.http.post(this.url+"/page/delete-page",e)}getPageCount(){return this.http.get(this.url+"/page/page-count")}getpageDetails(e){return this.http.get(this.url+"/page/"+e.pageId)}groupList(e){return this.http.get(this.url+"/page-group",{params:e})}pageLocalizationList(e){return this.http.get(this.url+"/page-translation/page",{params:e})}pageLocalizationCount(e){return this.http.get(this.url+"/page-translation/page",{params:e})}pageLocalizationDetail(e){return this.http.get(this.url+"/page-translation/page/"+Number(e.pageId))}pageLocalizationCreate(e){return this.http.post(this.url+"/page-translation/page/"+Number(e.id),e.data)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.xGo(n)))(a||n)}})()}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var K=c(84745);let Z=(()=>{class n{constructor(e,i,a){this.action$=e,this.apiCli=i,this.appState=a,this.doPagesList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_PAGES_LIST_ACTION),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getpageslist(o).pipe((0,u.n)(s=>[new l.fp(s)]),(0,f.W)(s=>(0,_.of)(new l.so(s))))))),this.doPagesCountList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_PAGES_COUNT_LIST_ACTION),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getpageslist(o).pipe((0,u.n)(s=>[new l.xG(new w(s))]),(0,f.W)(s=>(0,_.of)(new l.pm(s))))))),this.activePageCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.GET_ACTIVE_COUNT),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getpageslist(o).pipe((0,u.n)(s=>[new l.zG(new w(s))]),(0,f.W)(s=>(0,_.of)(new l.g5(s))))))),this.in_activePageCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.GET_IN_ACTIVE_COUNT),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getpageslist(o).pipe((0,u.n)(s=>[new l.QD(new w(s))]),(0,f.W)(s=>(0,_.of)(new l.Xf(s))))))),this.doAddPagesList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_ADD_PAGES_LIST),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.Addpages(o).pipe((0,k.M)(s=>{this.appState.dispatch(new l.eA({count:1,status:1})),this.appState.dispatch(new l.tE({count:1,status:1}))}),(0,m.T)(s=>new l.s6(s)),(0,f.W)(s=>(0,_.of)(new l.fG(s))))))),this.doUpdatePagesList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_UPDATE_PAGES_LIST),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.updatepages(o,o.pageId).pipe((0,k.M)(d=>{this.appState.dispatch(new l.eA({count:1,status:1})),this.appState.dispatch(new l.tE({count:1,status:1}))}),(0,m.T)(d=>new l.mg(new q(d))),(0,f.W)(d=>(0,_.of)(new l.HF(d))))))),this.doPagesDelete$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_PAGES_DELETE),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.deletepageslist(o,o.pageId).pipe((0,k.M)(d=>{this.appState.dispatch(new l.eA({count:1,status:1})),this.appState.dispatch(new l.tE({count:1,status:1}))}),(0,u.n)(d=>[new l.uc(d)]),(0,f.W)(d=>(0,_.of)(new l.jB(d))))))),this.doPagesBulkDelete$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.DO_PAGES_BULK_DELETE),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.pagesBulkDelete(o).pipe((0,k.M)(s=>{this.appState.dispatch(new l.eA({count:1,status:1})),this.appState.dispatch(new l.tE({count:1,status:0}))}),(0,u.n)(s=>[new l.sW(s)]),(0,f.W)(s=>(0,_.of)(new l.Zd(s))))))),this.pageCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.GET_PAGE_COUNT),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getPageCount().pipe((0,u.n)(s=>[new l.kJ(s)]),(0,f.W)(s=>(0,_.of)(new l.NS(s))))))),this.pageDetails$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.GET_PAGE_DETAILS),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.getpageDetails(o).pipe((0,u.n)(s=>[new l.bg(s)]),(0,f.W)(s=>(0,_.of)(new l.AD(s))))))),this.groupList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.GROUP_LIST),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.groupList(o).pipe((0,u.n)(s=>[new l.Fy(s)]),(0,f.W)(s=>(0,_.of)(new l.Gj(s))))))),this.pageLocalizationList$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.PAGE_LOCALIZATION_LIST),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.pageLocalizationList(o).pipe((0,u.n)(s=>[new l.QC(s)]),(0,f.W)(s=>(0,_.of)(new l.sy(s))))))),this.pageLocalizationCount$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.PAGE_LOCALIZATION_COUNT),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.pageLocalizationCount(o).pipe((0,u.n)(s=>[new l.tk(s)]),(0,f.W)(s=>(0,_.of)(new l.Tc(s))))))),this.pageLocalizationDetail$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.PAGE_LOCALIZATION_DETAIL),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.pageLocalizationDetail(o).pipe((0,u.n)(s=>[new l.Dt(s)]),(0,f.W)(s=>(0,_.of)(new l.BL(s))))))),this.pageLocalizationCreate$=(0,g.EH)(()=>this.action$.pipe((0,g.gp)(l.Q3.PAGE_LOCALIZATION_CREATE),(0,m.T)(o=>o.payload),(0,u.n)(o=>this.apiCli.pageLocalizationCreate(o).pipe((0,u.n)(s=>[new l.cK(s)]),(0,f.W)(s=>(0,_.of)(new l.W$(s)))))))}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(g.En),t.KVO(L),t.KVO(K.il))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var O=c(39006),S=c(11142),tt=c(52739),et=c(62523),C=c(51188),b=c(37886),nt=c(43718),$=c.n(nt),F=c(70782),D=c(39911),at=c(72510),M=c(41780);function it(n,r){1&n&&t.nrm(0,"span",10)}function ot(n,r){if(1&n&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG(2);t.R7$(),t.JRh(null==(e=t.bMT(2,1,i.pageSandbox.pageCount$))?null:e.totalPage)}}function st(n,r){1&n&&t.nrm(0,"span",10)}function rt(n,r){if(1&n&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG(2);t.R7$(),t.SpI("",null==(e=t.bMT(2,1,i.pageSandbox.pageCount$))?null:e.activePage," ")}}function lt(n,r){1&n&&t.nrm(0,"span",10)}function ct(n,r){if(1&n&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&n){let e;const i=t.XpG(2);t.R7$(),t.SpI("",null==(e=t.bMT(2,1,i.pageSandbox.pageCount$))?null:e.inActivePage," ")}}function pt(n,r){if(1&n&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul")(6,"li")(7,"p"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.DNE(10,it,1,0,"span",5),t.nI1(11,"async"),t.j41(12,"button",6),t.nrm(13,"img",7),t.k0s(),t.DNE(14,ot,3,3,"h3",0),t.nI1(15,"async"),t.k0s(),t.j41(16,"li")(17,"p"),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.DNE(20,st,1,0,"span",5),t.nI1(21,"async"),t.j41(22,"button",8),t.nrm(23,"img",7),t.k0s(),t.DNE(24,rt,3,3,"h3",0),t.nI1(25,"async"),t.k0s(),t.j41(26,"li")(27,"p"),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.DNE(30,lt,1,0,"span",5),t.nI1(31,"async"),t.j41(32,"button",9),t.nrm(33,"img",7),t.k0s(),t.DNE(34,ct,3,3,"h3",0),t.nI1(35,"async"),t.k0s()()()()()()()),2&n){const e=t.XpG();t.R7$(8),t.JRh(t.bMT(9,9,"CMS.Pages.totalPages")),t.R7$(2),t.Y8G("ngIf",t.bMT(11,11,e.pageSandbox.pageCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(15,13,e.pageSandbox.pageCountLoading$)),t.R7$(4),t.JRh(t.bMT(19,15,"CMS.Pages.activePages")),t.R7$(2),t.Y8G("ngIf",t.bMT(21,17,e.pageSandbox.pageCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(25,19,e.pageSandbox.pageCountLoading$)),t.R7$(4),t.JRh(t.bMT(29,21,"CMS.Pages.inactivePages")),t.R7$(2),t.Y8G("ngIf",t.bMT(31,23,e.pageSandbox.pageCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(35,25,e.pageSandbox.pageCountLoading$))}}let G=(()=>{class n{constructor(e,i){this.pageSandbox=e,this.router=i,this.router.events.subscribe(a=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.getPagesLists()}getPagesLists(){this.pageSandbox.getPagePagination({count:1}),this.pageSandbox.getPageCount()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(O.G),t.rXU(C.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-pages-layout"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","products-section"],[1,"col-12"],[1,"card"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of pages on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Total number of active pages on the platform."],["type","button","placement","left","ngbTooltip","Total number of in-active pages on the platform."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(i,a){1&i&&t.DNE(0,pt,36,27,"div",0),2&i&&t.Y8G("ngIf","/cms/manage-content/pages/add"!==a.router.url.split("?")[0]&&a.router.url.split("?")[0]!=="/cms/manage-content/pages/edit/"+a.id&&"/cms/manage-content/pages/list"!==a.router.url.split("?")[0])},dependencies:[h.bT,b.md,h.Jj,M.D9],changeDetection:0})}}return n})();var E=c(95967);const gt=n=>({"is-invalid":n}),A=()=>({standalone:!0}),dt=n=>({"error-fields":n}),R=()=>["",null,void 0],ut=n=>({cke_chrome:n});function mt(n,r){1&n&&(t.j41(0,"div",31),t.nrm(1,"img",32),t.k0s())}function ht(n,r){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"CMS.Error.PageTitleIsRequired")," "))}function _t(n,r){1&n&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CMS.BannerError.MustBe255CharacterLong")," "))}function ft(n,r){if(1&n&&(t.j41(0,"div",33),t.DNE(1,ht,3,3,"div",34)(2,_t,3,3,"div",35),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.f.pageTitle.errors.required),t.R7$(),t.Y8G("ngIf",e.pagesForm.get("pageTitle").hasError("maxlength"))}}function bt(n,r){1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI("",t.bMT(2,1,"CMS.Error.PleaseSelectGroup")," "))}function Ct(n,r){if(1&n&&(t.j41(0,"div",33),t.DNE(1,bt,3,3,"div",34),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",t.lJ4(1,R).includes(e.getGroupId))}}function Pt(n,r){1&n&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"CMS.Error.PageContentIsRequired")," "))}let z=(()=>{class n{constructor(e,i,a,o,s,d,P,v,y){this.modalService=e,this.appSandbox=i,this.service=a,this.fb=o,this.route=s,this.modalService2=d,this.router=P,this.ckeconfiqservice=v,this.changesDec=y,this.submitted=!1,this.pagesInfo=[],this.id="",this.subscriptions=[],this.queryDetails={},this.statusvalue=!1,this.groupList=[],this.editor=$(),this.submit=!1,this.editPagesId=this.route.snapshot.paramMap.get("id"),this.config=this.ckeconfiqservice.getEditorConfig();const j=this.route.snapshot.queryParamMap.get("offset"),ye=this.route.snapshot.queryParamMap.get("index");this.queryDetails.offset=j||0,this.queryDetails.index=ye||0,this.getPageGroup()}ngOnInit(){if(this.initForm(),this.editPagesId){const e={};e.pageId=this.editPagesId,this.appSandbox.getPageDetails(e),this.editPages()}}noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}open2(e){this.modalService.open(e,{windowClass:"image-manager"}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}open(e){this.modalService2.open(e,{windowClass:"dark-modal,image-manager"})}getDismissReason(e){return e===b.PQ.ESC?"by pressing ESC":e===b.PQ.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}pagesCancel(){this.router.navigate(["/cms/manage-content/pages"],{queryParams:this.queryDetails})}initForm(){this.pageTitle=new p.hs("",p.k0.compose([p.k0.required,p.k0.maxLength(255),this.noWhitespaceValidator])),this.pageSlug=new p.hs(""),this.pageContent=new p.hs("",p.k0.compose([p.k0.required,this.noWhitespaceValidator])),this.active=new p.hs(null),this.metaTitle=new p.hs("",p.k0.compose([p.k0.maxLength(70)])),this.metaKeyword=new p.hs("",p.k0.compose([p.k0.maxLength(255)])),this.metaContent=new p.hs("",p.k0.compose([p.k0.maxLength(160)])),this.pagesForm=this.fb.group({pageTitle:this.pageTitle,pageSlug:this.pageSlug,pageContent:this.pageContent,active:this.active,metaTitle:this.metaTitle,metaKeyword:this.metaKeyword,metaContent:this.metaContent})}onSubmit(){if(this.submitted=!0,!this.pagesForm.valid||["",null,void 0].includes(this.getGroupId))return this.validateAllFormFields(this.pagesForm),void this.scrollToError();if(""!==this.pagesForm.value.pageTitle&&""!==this.pagesForm.value.pageContent){this.submit=!0;const e={};e.title=this.pagesForm.value.pageTitle,e.content=this.pagesForm.value.pageContent,e.pageSlug=this.pagesForm.value.pageSlug,e.active=1==this.statusvalue?1:0,e.metaTagTitle=this.pagesForm.value.metaTitle,e.metaTagKeyword=this.pagesForm.value.metaKeyword,e.metaTagContent=this.pagesForm.value.metaContent,e.pageGroupId=this.getGroupId,this.editPagesId?(e.pageId=this.editPagesId,this.appSandbox.updatePagesList(e),this.subscriptions.push(this.appSandbox.updatePages$.subscribe({next:i=>{i&&1===i.status&&(this.submit=!1,this.router.navigate(["/cms/manage-content/pages/list"],{queryParams:this.queryDetails}))},error:i=>{this.submit=!1,console.error("Update error:",i)}}))):(this.appSandbox.getAddpages(e),this.subscriptions.push(this.appSandbox.addPagesStatus$.subscribe(i=>{i&&1===i.status&&0!==i.status&&(this.submit=!1,this.router.navigate(["/cms/manage-content/pages/list"],{queryParams:this.queryDetails}))})))}}editPages(){this.appSandbox.pageDetails$.subscribe(e=>{e&&this.setPage(e)})}setPage(e){if(this.groupList?.length>0){const i=this.groupList?.find(a=>a?.groupId==e?.pageGroupId);this.getGroupId=i?.groupId,this.getGroupId=this.getGroupId,this.changesDec.detectChanges()}this.pagesForm.controls.pageTitle.setValue(e.title),this.pagesForm.controls.pageContent.setValue(this.htmlTagConversion(e.content)),this.statusvalue=1==e.isActive,this.pagesForm.controls.active.setValue(1==this.statusvalue),this.pagesForm.controls.pageSlug.setValue(e.slugName),this.pagesForm.controls.metaTitle.setValue(e.metaTagTitle),this.pagesForm.controls.metaKeyword.setValue(e.metaTagKeyword),this.pagesForm.controls.metaContent.setValue(e.metaTagContent)}get f(){return this.pagesForm.controls}validateAllFormFields(e){Object.keys(e.controls).forEach(i=>{const a=e.get(i);a instanceof p.hs?a.markAsTouched({onlySelf:!0}):a instanceof p.J3&&this.validateAllFormFields(a)})}getPageGroup(){this.service.groupList({limit:0,offset:0,status:1}).subscribe(i=>{null!=i&&(this.groupList=i.data)})}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}statuschange(e){}ulpoadAdapterDrop(e){e.plugins.get("FileRepository").createUploadAdapter=(i,a)=>new F.A(i,a)}scrollTo(e){e&&e.scrollIntoView({behavior:"smooth",block:"center"})}scrollToError(){const e=document.querySelector(".ng-invalid[formControlName]");this.scrollTo(e)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(b.Bq),t.rXU(O.G),t.rXU(L),t.rXU(p.ze),t.rXU(C.nX),t.rXU(b.Bq),t.rXU(C.Ix),t.rXU(F.z),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-cms-pages-add"]],decls:75,vars:65,consts:[["class","loading-data",4,"ngIf"],[3,"formGroup"],[1,"flex","addproduct-wrap"],[1,"card","ap-general"],[1,"ap-header","sub-sub-header"],[1,"ap-body"],[1,"ap-form-row6"],[1,"ap-body-col","ap-body-col-first"],[1,"form-group"],["for",""],[1,"supvalidation"],["type","button","placement","end","ngbTooltip","A page title is a name or an identification for a particular page. The page title has to be relevant to the content on the page. The title should be appropriate enough so that when a user reads title, they should be able to expect the type of content in the text body.",1,"tooltip-btn"],["src","assets/img/info-ico.svg"],["type","text","appNoLeadingSpace","","formControlName","pageTitle",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],[1,"ap-body-col"],["type","button","placement","end","ngbTooltip","A group of pages that have similar content or content that are pertaining to a same area can be grouped together. For example, if the page group is About, different pages under that can be brand, team, etc. ",1,"tooltip-btn"],["bindLabel","groupName","bindValue","groupId",3,"ngModelChange","placeholder","items","searchable","ngModelOptions","ngModel","id","multiple","ngClass","clearable"],[1,"sidetoggle"],["type","button","placement","end","ngbTooltip","A slug is the part of a URL that identifies a particular page on a website in an easy-to-read form. In other words, its the part of the URL that explains the pages content.",1,"tooltip-btn"],["type","text","appNoLeadingSpace","","formControlName","pageSlug",1,"form-control",3,"placeholder"],[1,"toggle"],["id","cb1","type","checkbox",1,"tgl","tgl-light",3,"change","ngModelChange","ngModel","ngModelOptions"],["for","cb1",1,"tgl-btn"],[1,"ap-body-col","ap-body-col-fourth"],["type","button","placement","end","ngbTooltip","In this field, you can provide all the information that you want to convey to the end users. You can detail the information here and it is recommended that you use a simple and easy to understand language with easy readability for the user.",1,"tooltip-btn"],[1,"ck-editor-custom"],["formControlName","pageContent","name","pageContent",1,"cms_pages_validation",3,"ready","ngModelChange","editor","config","ngModel","ngClass"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","tertiary",3,"click"],[1,"button-reg","btn-md","primary",3,"click","disabled"],[1,"loading-data"],["src","./assets/loader/Spurt-commerce-Loader-2.1.gif",2,"height","10vh"],[1,"validation-error"],[4,"ngIf"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,a){1&i&&(t.nrm(0,"app-pages-layout"),t.DNE(1,mt,2,0,"div",0),t.nI1(2,"async"),t.j41(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h3"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"p"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",5)(14,"div",6)(15,"div",7)(16,"div",8)(17,"label",9),t.EFF(18),t.nI1(19,"translate"),t.j41(20,"sup",10),t.EFF(21,"*"),t.k0s(),t.j41(22,"button",11),t.nrm(23,"img",12),t.k0s()(),t.nrm(24,"input",13),t.nI1(25,"translate"),t.DNE(26,ft,3,2,"div",14),t.k0s()(),t.j41(27,"div",15)(28,"div",8)(29,"label",9),t.EFF(30),t.nI1(31,"translate"),t.j41(32,"sup",10),t.EFF(33,"*"),t.k0s(),t.j41(34,"button",16),t.nrm(35,"img",12),t.k0s()(),t.j41(36,"ng-select",17),t.nI1(37,"translate"),t.mxI("ngModelChange",function(s){return t.DH7(a.getGroupId,s)||(a.getGroupId=s),s}),t.k0s(),t.DNE(38,Ct,2,2,"div",14),t.k0s()(),t.j41(39,"div",15)(40,"div",8)(41,"div",18)(42,"div")(43,"label",9),t.EFF(44),t.nI1(45,"translate"),t.j41(46,"button",19),t.nrm(47,"img",12),t.k0s()(),t.nrm(48,"input",20),t.nI1(49,"translate"),t.k0s(),t.j41(50,"div")(51,"label",9),t.EFF(52,"Status "),t.k0s(),t.j41(53,"div",21)(54,"input",22),t.bIt("change",function(s){return a.statuschange(s)}),t.mxI("ngModelChange",function(s){return t.DH7(a.statusvalue,s)||(a.statusvalue=s),s}),t.k0s(),t.nrm(55,"label",23),t.k0s()()()()(),t.j41(56,"div",24)(57,"div",8)(58,"label",9),t.EFF(59),t.nI1(60,"translate"),t.j41(61,"sup",10),t.EFF(62,"*"),t.k0s(),t.j41(63,"button",25),t.nrm(64,"img",12),t.k0s()(),t.j41(65,"div",26)(66,"ckeditor",27),t.bIt("ready",function(s){return a.ulpoadAdapterDrop(s)}),t.mxI("ngModelChange",function(s){return t.DH7(a.pagesForm.value.pageContent,s)||(a.pagesForm.value.pageContent=s),s}),t.k0s(),t.DNE(67,Pt,3,3,"div",14),t.k0s()()()()()()(),t.j41(68,"div",28)(69,"button",29),t.bIt("click",function(){return a.pagesCancel()}),t.EFF(70),t.nI1(71,"translate"),t.k0s(),t.j41(72,"button",30),t.bIt("click",function(){return a.onSubmit()}),t.EFF(73),t.nI1(74,"translate"),t.k0s()()()),2&i&&(t.R7$(),t.Y8G("ngIf",t.bMT(2,32,a.appSandbox.groupListLoading$)),t.R7$(2),t.Y8G("formGroup",a.pagesForm),t.R7$(5),t.JRh(t.bMT(9,34,"common.General Information")),t.R7$(3),t.JRh(t.bMT(12,36,"pageManage.pageListDetails")),t.R7$(7),t.SpI("",t.bMT(19,38,"common.Page Title")," "),t.R7$(6),t.FS9("placeholder",t.bMT(25,40,"CMS.Placeholder.PageTitle")),t.Y8G("ngClass",t.eq3(56,gt,a.submitted&&a.f.pageTitle.errors)),t.R7$(2),t.Y8G("ngIf",a.submitted&&a.f.pageTitle.errors),t.R7$(4),t.JRh(t.bMT(31,42,"CMS.Pages.PageGroup")),t.R7$(6),t.FS9("placeholder",t.bMT(37,44,"CMS.Pages.SelectGroup")),t.Y8G("items",a.groupList)("searchable",!0)("ngModelOptions",t.lJ4(58,A)),t.R50("ngModel",a.getGroupId),t.Y8G("id",a.getGroupId)("multiple",!1)("ngClass",t.eq3(59,dt,a.submitted&&(null==a.getGroupId||"")))("clearable",!1),t.R7$(2),t.Y8G("ngIf",a.submitted&&t.lJ4(61,R).includes(a.getGroupId)),t.R7$(6),t.SpI("",t.bMT(45,46,"CMS.Pages.pageSlug")," "),t.R7$(4),t.FS9("placeholder",t.bMT(49,48,"CMS.Placeholder.pageSlug")),t.R7$(6),t.R50("ngModel",a.statusvalue),t.Y8G("ngModelOptions",t.lJ4(62,A)),t.R7$(5),t.SpI("",t.bMT(60,50,"CMS.Pages.PageContent")," "),t.R7$(7),t.Y8G("editor",a.editor)("config",a.config),t.R50("ngModel",a.pagesForm.value.pageContent),t.Y8G("ngClass",t.eq3(63,ut,!a.pagesForm.get("pageContent").valid&&a.pagesForm.get("pageContent").touched&&1==a.submitted)),t.R7$(),t.Y8G("ngIf",a.pagesForm.get("pageContent").hasError("required")&&a.pagesForm.get("pageContent").touched&&1==a.submitted),t.R7$(3),t.JRh(t.bMT(71,52,"CMS.Pages.Cancel")),t.R7$(2),t.Y8G("disabled",a.submit),t.R7$(),t.SpI(" ",t.bMT(74,54,"CMS.Pages.Save"),""))},dependencies:[h.YU,h.bT,b.md,p.qT,p.me,p.Zm,p.BC,p.cb,p.vS,p.j4,p.JD,D.L,at.vr,G,E.h,h.Jj,M.D9],styles:[".cms-page-add-wrapper[_ngcontent-%COMP%]{width:100%;min-height:calc(100vh - 170px);background-color:#f7f7f7;padding:35px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]{max-width:758px;width:100%;margin:auto}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#000;margin:0 0 20px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]{margin-bottom:0}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#222;margin:0 0 8px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#948f8f;margin:0 0 15px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]{width:100%}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:300px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-row[_ngcontent-%COMP%]{width:100%;position:relative}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-row[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;right:-60px;top:10px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-wdt[_ngcontent-%COMP%]{width:100%;justify-content:space-between;align-items:flex-start}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-wdt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-wdt[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]{width:48%}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cms-group[_ngcontent-%COMP%]   .cms-grp-wdt[_ngcontent-%COMP%]   .cms-inp-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:48px;border:solid 1px #ccc;background-color:#fff;padding:0 16px}.cms-page-add-wrapper[_ngcontent-%COMP%]   .cms-pa-container[_ngcontent-%COMP%]   .cmsbtn[_ngcontent-%COMP%]{width:100%;justify-content:center;align-items:center;gap:11px;padding:20px}.is-invalid[_ngcontent-%COMP%]{border-color:red!important}",".dark-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#009efb;color:#fff}.dark-modal[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#fff}.light-blue-backdrop[_ngcontent-%COMP%]{background-color:#5cb3fd}.image-manager[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:70%}"]})}}return n})();var Mt=c(18359),N=c(55735),V=c(98852),vt=c(70524),U=c(64363);const Ot={Search:{label:"",name:"search",aliasName:"",validatiors:[],type:"text",placeholder:"CMS.Pages.Search"}};function X(n){for(const r in n)n.hasOwnProperty(r)&&(null==n[r]||""===n[r])&&delete n[r];return n}const It=(0,U.ZQ)(),kt=["itemSelected","delete","resetCheckbox"].filter(n=>{switch(n){case"delete":return It["delete-pages"];case"resetCheckbox":return["resetCheckbox"];default:return!0}}),Lt=(0,vt.L)(kt);var Tt=c(27952),B=c(34501),wt=c(42612),St=c(18186),Ft=c(52609),Y=c(35697);const Et=["myDropdown"],jt=["myInput"],xt=(n,r,e)=>({pennding:n,title:r,pageGroupName:e});function $t(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",22)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",23),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.removeFilter(a))}),t.nrm(4,"img",24),t.k0s()()}if(2&n){const e=t.XpG().$implicit;t.R7$(2),t.Lme("",e.key," : ",e.value," ")}}function Dt(n,r){if(1&n&&(t.j41(0,"div",20),t.DNE(1,$t,5,2,"div",21),t.k0s()),2&n){const e=r.$implicit,i=t.XpG();t.R7$(),t.Y8G("ngIf",!i.empty.includes(e.value))}}function Gt(n,r){if(1&n){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addPage())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.Y8G("hideUnAuthorized","create-pages"),t.R7$(),t.SpI("+ ",t.bMT(2,2,"CMS.Pages.NewPage")," "))}function At(n,r){1&n&&t.nrm(0,"app-list-skeleton")}function Rt(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-common-table",25),t.bIt("buttonChangeEvent",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.buttonAction(a))}),t.k0s()}if(2&n){const e=t.XpG(),i=t.sdS(27),a=t.sdS(29),o=t.sdS(31);t.Y8G("HeadArray",e.customTable)("GridArray",e.approvedProductList)("customTemplate",t.sMw(4,xt,o,i,a))("selectAll",e.tableCheckbox)}}function zt(n,r){if(1&n){const e=t.RV6();t.j41(0,"p",26),t.bIt("click",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.editPageList(a))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.title,"")}}function Nt(n,r){if(1&n){const e=t.RV6();t.j41(0,"p",26),t.bIt("click",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.editPageList(a))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.pageGroupName,"")}}function Vt(n,r){1&n&&(t.j41(0,"div")(1,"span",27),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"marketplace.seller.Active")))}function Ut(n,r){1&n&&(t.j41(0,"div")(1,"span",28),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"Settings.Role.InActive")))}function Xt(n,r){if(1&n&&t.DNE(0,Vt,4,3,"div",14)(1,Ut,4,3,"div",14),2&n){const e=r.$implicit;t.Y8G("ngIf",1==e.isActive),t.R7$(),t.Y8G("ngIf",0==e.isActive)}}function Bt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",29)(1,"span"),t.nrm(2,"img",30),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",31),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.addPage())}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}2&n&&(t.R7$(4),t.JRh(t.bMT(5,2,"common.Items Not Found")),t.R7$(3),t.SpI(" ",t.bMT(8,4,"common.Add Page")," "))}function Yt(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-reusable-pagination",32),t.nI1(1,"async"),t.bIt("pageChange",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.onPageChange(a))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("type","numbers")("currentPage",e.currentPage)("totalItems",t.bMT(1,4,e.sandbox.pagesListCount$))("pageSize",e.limit)}}function Ht(n,r){if(1&n){const e=t.RV6();t.j41(0,"app-bulk-action",33),t.bIt("actionEvent",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.actionType(a))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("count",null==e.selectedDatas?null:e.selectedDatas.length)("bulkList",e.bulkAction)}}let Qt=(()=>{class n{constructor(e,i,a,o,s,d,P,v,y){this.titleService=e,this.service=i,this.router=a,this.route=o,this.sandbox=s,this.ref=d,this.modalService=P,this.fb=v,this.modal=y,this.currentPage=1,this.limit=sessionStorage.getItem("itemsPerPage")?Number(sessionStorage.getItem("itemsPerPage")):10,this.offset=0,this.queryData={},this.pagination=!0,this.approvedProductList=[],this.subscriptions=new Mt.yU,this.trackByIndex=j=>j,this.dynamicObjControls={},this.backupFormValue={},this.formValueExists=!1,this._Object=Object,this.empty=[null,"",void 0],this.selectedDatas=[],this.tableCheckbox={isSelectAll:!1},this.bulkAction=Lt}ngOnInit(){this.customTable=(()=>{const n=(0,U.ZQ)();return[{displayName:"",id:"pageId",type:"checkBox",checked:!0,isEnableSelectall:!0,customStyle:{trow:{class:"check-table"},tbody:{class:"check-table"}}},{displayName:"CMS.Pages.Title",id:"title",type:"template",checked:!0,customStyle:{tbody:{class:"fw-semibold"}}},{displayName:"common.Page Group",id:"pageGroupName",type:"template",checked:!0},{displayName:"CMS.Pages.Status",type:"template",id:"pennding",checked:!0,customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}},{displayName:"CMS.Pages.Action",id:"menu",type:"threeDotMenu",isDisable:!n["edit-pages"]&&!n["delete-pages"],checked:!0,menuData:[{name:"Edit",img:"assets/img/edit.svg",displayName:"marketplace.common.Edit",isDisable:!n["edit-pages"]},{name:"Delete",img:"assets/img/delete-new.svg",displayName:"marketplace.common.Delete",isDisable:!n["delete-pages"]}],customStyle:{trow:{class:"text-center"},tbody:{class:"text-center"}}}]})(),this.titleService.setTitle("Pages"),this.buildForm(),this.routeSubscribe()}buttonAction(e){switch(e.key){case"threeDotMenu":"Edit"==e.actionType?this.editPageList(e):this.deletePages(e.pageId);break;case"checkBox":this.selectedDatas=e.selectedDatas}}editPageList(e){this.router.navigate(["/cms/manage-content/pages/edit",e.pageId],{queryParams:this.queryData})}deletePages(e){const i=this.modalService.open(N.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});i.componentInstance.key="",i.componentInstance.id="",i.componentInstance.deleteMessage="Page",i.result.then(a=>{"deleted"===a&&(this.sandbox.deletePagesList({pageId:e}),this.sandbox.pagesDelete$.subscribe(o=>{1==o.status&&(this.productList(),this.productCount(),this.sandbox.getPageCount())}))})}reset(e=!1){this.approvedProductList.forEach(i=>i.checked=e),this.selectedDatas=this.approvedProductList.filter(i=>i?.checked)}resetCheckbox(){this.reset(),this.tableCheckbox.isSelectAll=!1,this.tableCheckbox={...this.tableCheckbox}}dropDownClose(e){this.hasOwnProperty(e)&&this[e]?.close()}resetAll(){this.onPageChange({limit:this.limit,offset:0}),this.productCount(),this.dropDownClose("myDropdown")}applyFilter(){this.filterValueUpdate(),this.resetAll()}buildForm(){const e=Ot,i=(0,V.gQ)(e);this.formObjFormGroup=this.fb.group(i),Object.keys(e).forEach(a=>{this.dynamicObjControls[a]=(0,V.yE)(e[a],this.formObjFormGroup)}),this.filterValueUpdate()}removeFilter(e){this.formObjFormGroup.controls[e.key].reset(),this.filterValueUpdate(),this.resetAll()}filterReset(e){"clearAll"==e?this.formObjFormGroup.reset():this.formObjFormGroup.patchValue({sellerName:"",companyName:"",productName:"",status:""}),this.filterValueUpdate(),this.resetAll()}productList(){this.offset=(this.currentPage-1)*this.limit;let e=X(this.getQueryParam());e.count=0,e.approvalFlag=1,this.sellerId&&(e.vendorId=this.sellerId),this.sandbox.getPagesList(e),this.subscriptions.add(this.sandbox.pagesList$.subscribe(i=>{this.approvedProductList=i})),this.updateQueryParam()}productCount(){this.offset=(this.currentPage-1)*this.limit;const e=X(this.getQueryParam());e.count=1,e.approvalFlag=1,this.sellerId&&(e.vendorId=this.sellerId),this.sandbox.getPagePagination(e)}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.productList()}updateQueryParam(){this.router.navigate([],{queryParams:this.getQueryParam(),queryParamsHandling:"merge"})}getQueryParam(){return{limit:this.limit,offset:this.offset,keyword:this.backupFormValue.search??""}}filterValueUpdate(){this.backupFormValue=structuredClone(this.formObjFormGroup?.value),this.formValueExists=Object.values(this.backupFormValue).some(e=>!this.empty.includes(e))}routeSubscribe(){let e={};this.subscriptions.add(this.route.queryParams.subscribe(i=>{e=i,this.limit=e.limit?Number(e.limit):this.limit,this.offset=e.offset?Number(e.offset):0,this.sellerId=e?.id?Number(e.id):"",this.currentPage=e.offset&&e.limit?Math.floor(e.offset/e.limit)+1:1,this.formObjFormGroup.patchValue({search:e.keyword??""}),this.filterValueUpdate()})),this.productList(),this.productCount()}bulkDelete(){const e=this.modalService.open(N.i,{size:"sm",windowClass:"delete-confirm",backdrop:"static",modalDialogClass:"modal-dialog-centered",backdropClass:"createcr"});e.componentInstance.key="",e.componentInstance.id="",e.result.then(i=>{if("deleted"===i){const a={};a.pageId=this.selectedDatas.map(o=>o.pageId),this.sandbox.bulkDelete(a),this.subscriptions.add(this.sandbox.pagesDelete$.subscribe(o=>{o&&1===o.status&&this.productList()}))}})}actionType(e){switch(e){case"resetCheckbox":this.resetCheckbox();break;case"delete":this.bulkDelete()}}addPage(){this.router.navigate(["/cms/manage-content/pages/add"])}addLocalization(){this.router.navigate(["/cms/manage-content/pages/list-localization"])}focusInput(){this.myInput.nativeElement.focus()}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(T.hE),t.rXU(L),t.rXU(C.Ix),t.rXU(C.nX),t.rXU(O.G),t.rXU(t.gRc),t.rXU(b.Bq),t.rXU(p.ze),t.rXU(b.Bq))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-spurt-cms-page-list"]],viewQuery:function(i,a){if(1&i&&(t.GBs(Et,5),t.GBs(jt,5)),2&i){let o;t.mGM(o=t.lsd())&&(a.myDropdown=o.first),t.mGM(o=t.lsd())&&(a.myInput=o.first)}},decls:37,vars:38,consts:[["itemTemplateRef1",""],["itemTemplateRef2",""],["itemTemplateRef",""],[1,"flex","filter-row"],[1,"filter-lft"],[1,"filter-rht","flex",3,"keyup.Tab"],["class","added-filter flex",4,"ngFor","ngForOf","ngForTrackBy"],[1,"filter-search"],[1,"",3,"keyup.enter"],[3,"type","control","label","inputId","aliasName","placeholder"],["class","button-reg primary btn-sm","appShowHide","",3,"hideUnAuthorized","click",4,"ngIf"],["appShowHide","",1,"button-reg","primary","btn-sm",3,"click","hideUnAuthorized"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[4,"ngIf"],[1,""],[3,"HeadArray","GridArray","customTemplate","selectAll","buttonChangeEvent",4,"ngIf"],["class","nodata-found",4,"ngIf"],[3,"type","currentPage","totalItems","pageSize","pageChange",4,"ngIf"],[3,"count","bulkList","actionEvent",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex filter-detail",4,"ngIf"],[1,"added-filter-col","flex","filter-detail"],[3,"click"],["src","assets/img/close.svg","alt",""],[3,"buttonChangeEvent","HeadArray","GridArray","customTemplate","selectAll"],[2,"position","relative","cursor","pointer",3,"click"],[1,"tags-action","tag-active"],[1,"tags-action","tag-inactive"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"button-reg","btn-sm","primary",3,"click"],[3,"pageChange","type","currentPage","totalItems","pageSize"],[3,"actionEvent","count","bulkList"]],template:function(i,a){if(1&i){const o=t.RV6();t.nrm(0,"app-pages-layout"),t.j41(1,"div",3)(2,"div",4)(3,"h2"),t.EFF(4),t.nI1(5,"translate"),t.nI1(6,"async"),t.k0s()(),t.j41(7,"div",5),t.bIt("keyup.Tab",function(){return t.eBV(o),t.Njj(a.focusInput())}),t.DNE(8,Dt,2,1,"div",6),t.nI1(9,"keyvalue"),t.j41(10,"div",7)(11,"form",8),t.bIt("keyup.enter",function(){return t.eBV(o),t.Njj(a.applyFilter())}),t.nrm(12,"app-common-form",9),t.k0s()(),t.DNE(13,Gt,3,4,"button",10),t.nI1(14,"async"),t.j41(15,"button",11),t.bIt("click",function(){return t.eBV(o),t.Njj(a.addLocalization())}),t.EFF(16),t.nI1(17,"translate"),t.k0s()()(),t.j41(18,"div",12)(19,"div",13),t.DNE(20,At,1,0,"app-list-skeleton",14),t.nI1(21,"async"),t.j41(22,"div",15),t.DNE(23,Rt,1,8,"app-common-table",16),t.nI1(24,"async"),t.nI1(25,"async"),t.DNE(26,zt,2,1,"ng-template",null,0,t.C5r)(28,Nt,2,1,"ng-template",null,1,t.C5r)(30,Xt,2,2,"ng-template",null,2,t.C5r)(32,Bt,9,6,"div",17),t.nI1(33,"async"),t.k0s(),t.DNE(34,Yt,2,6,"app-reusable-pagination",18),t.nI1(35,"async"),t.k0s()(),t.DNE(36,Ht,1,2,"app-bulk-action",19)}if(2&i){let o,s,d;t.R7$(4),t.Lme("",t.bMT(5,18,"CMS.Pages.Pages")," (",t.bMT(6,20,a.sandbox.pagesListCount$),")"),t.R7$(4),t.Y8G("ngForOf",t.bMT(9,22,a.backupFormValue))("ngForTrackBy",a.trackByIndex),t.R7$(4),t.Y8G("type",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.type)("control",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.control)("label",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.label)("inputId",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.inputId)("aliasName",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.aliasName)("placeholder",null==a.dynamicObjControls||null==a.dynamicObjControls.Search?null:a.dynamicObjControls.Search.placeholder),t.R7$(),t.Y8G("ngIf",(null==(o=t.bMT(14,24,a.sandbox.pagesList$))?null:o.length)>0),t.R7$(2),t.Y8G("hideUnAuthorized","add-page-localization"),t.R7$(),t.SpI(" + ",t.bMT(17,26,"CMS.Pages.Localization")," "),t.R7$(4),t.Y8G("ngIf",t.bMT(21,28,a.sandbox.pagesListLoading$)),t.R7$(3),t.Y8G("ngIf",(null==(s=t.bMT(24,30,a.sandbox.pagesList$))?null:s.length)>0&&!t.bMT(25,32,a.sandbox.pagesListLoading$)),t.R7$(9),t.Y8G("ngIf",0==(null==(d=t.bMT(33,34,a.sandbox.pagesList$))?null:d.length)),t.R7$(2),t.Y8G("ngIf",t.bMT(35,36,a.sandbox.pagesListCount$)>a.limit),t.R7$(2),t.Y8G("ngIf",(null==a.selectedDatas?null:a.selectedDatas.length)>0)}},dependencies:[h.Sq,h.bT,p.qT,p.cb,p.cV,Tt.s,B.$,G,wt.V,St.V,Ft.S,Y.D,h.Jj,h.lG,M.D9],styles:['.spinner-wrapper{display:flex;justify-content:center;justify-items:center}.product-table .table tbody tr td{vertical-align:middle}.selected-container .selected-btn:after{content:"";position:absolute;inset:auto;width:0;height:1;background-color:transparent}\n',".dark-modal .modal-content{background-color:#009efb;color:#fff}.dark-modal .close{color:#fff}.light-blue-backdrop{background-color:#5cb3fd}.image-manager .modal-dialog{max-width:70%}\n"],encapsulation:2})}}return n})();var I=c(79176),Jt=c(48256),H=c(61005),Q=c(74937),qt=c(87327);const Wt=["myDropdown"],Kt=["myInput"],Zt=["pagination"],te=()=>["edit-page"],ee=()=>["edit-customer","delete-customer"];function ne(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",25)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"button",26),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.removeFilter(a))}),t.nrm(4,"img",27),t.k0s()()}if(2&n){const e=t.XpG().$implicit,i=t.XpG();t.R7$(2),t.Lme("",e.key," : ",i.getStatusDisplay(e.key,e.value)," ")}}function ae(n,r){if(1&n&&(t.j41(0,"div",23),t.DNE(1,ne,5,2,"div",24),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.Y8G("ngIf",e.value)}}function ie(n,r){if(1&n&&(t.j41(0,"th",28),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function oe(n,r){1&n&&t.nrm(0,"img",40)}function se(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).$implicit,o=t.XpG();return t.Njj(o.editPage(a))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"marketplace.common.Add")))}function re(n,r){if(1&n&&(t.j41(0,"td",38),t.DNE(1,oe,1,0,"img",39)(2,se,3,3,"ng-template",null,1,t.C5r),t.k0s()),2&n){const e=r.$implicit,i=t.sdS(3),a=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",a.languageIDS.includes(e.languageId))("ngIfElse",i)}}function le(n,r){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.DNE(3,re,4,2,"td",29),t.j41(4,"td",30),t.EFF(5),t.nI1(6,"dynamicDate"),t.nI1(7,"dynamicDate"),t.k0s(),t.j41(8,"td",31)(9,"div",32)(10,"button",33),t.nrm(11,"img",34),t.k0s(),t.j41(12,"div",35)(13,"button",36),t.bIt("click",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.editPage(a))}),t.nrm(14,"img",37),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()()()}if(2&n){const e=r.$implicit,i=t.XpG();t.R7$(2),t.SpI(" ",e.title?e.title:"-"," "),t.R7$(),t.Y8G("ngForOf",i.languageList),t.R7$(2),t.SpI(" ",e.lastModifieDate?t.i5U(6,6,e.lastModifieDate,"dd/MM/yyyy hh:mm a"):t.i5U(7,9,e.createdDate,"dd/MM/yyyy"),""),t.R7$(3),t.Y8G("multipleHideUnAuthorized",t.lJ4(14,ee)),t.R7$(5),t.Y8G("hideUnAuthorized","edit-customer"),t.R7$(2),t.SpI(" ",t.bMT(16,12,"marketplace.seller.Edit")," ")}}function ce(n,r){1&n&&(t.j41(0,"div",42)(1,"span"),t.nrm(2,"img",43),t.k0s(),t.j41(3,"h5"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&n&&(t.R7$(4),t.JRh(t.bMT(5,1,"marketplace.payments.DataNotFound")))}function pe(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",44)(1,"app-reusable-pagination",45),t.nI1(2,"async"),t.bIt("pageChange",function(a){t.eBV(e);const o=t.XpG();return t.Njj(o.onPageChange(a))}),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("type","numbers")("currentPage",e.currentPage)("totalItems",t.bMT(2,4,e.sandbox.pageLocalizationCount$))("pageSize",e.pageSize)}}function de(n,r){if(1&n){const e=t.RV6();t.j41(0,"a",17),t.bIt("click",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.scrollToLanguage(a.name))}),t.EFF(1),t.k0s()}if(2&n){const e=r.$implicit;t.R7$(),t.JRh(e.name)}}function ue(n,r){if(1&n&&(t.j41(0,"div",18)(1,"div",19)(2,"h3"),t.nrm(3,"img",20),t.EFF(4),t.j41(5,"span"),t.EFF(6),t.k0s()()(),t.j41(7,"div",21)(8,"form",22),t.nrm(9,"input",23),t.j41(10,"div",24)(11,"div",25)(12,"label"),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",26),t.nrm(16,"input",27),t.k0s()(),t.j41(17,"div",28)(18,"label"),t.EFF(19),t.nI1(20,"translate"),t.k0s(),t.j41(21,"div",26),t.nrm(22,"ckeditor",29),t.k0s()()()()()()),2&n){const e=r.$implicit,i=r.index,a=t.XpG();t.Y8G("id",e.name),t.R7$(3),t.Y8G("src",a.imageUrl+"?path="+e.imagePath+"&name="+e.image+"&width=25&height=15",t.B4B),t.R7$(),t.SpI(" ",e.name,", "),t.R7$(2),t.JRh(e.code),t.R7$(2),t.Y8G("formGroup",a.forms[i]),t.R7$(),t.Y8G("value",e.languageId)("placeholder",e.languageId),t.R7$(4),t.SpI("",t.bMT(14,11,"CMS.Pages.Title")," "),t.R7$(6),t.SpI(" ",t.bMT(20,13,"CMS.Pages.Content")," "),t.R7$(3),t.Y8G("editor",a.editor)("config",a.config)}}const he=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Qt,canActivate:[I.q],data:{permission:"list-pages",urls:[{title:"breadcrumbs.CMS",url:""},{title:"CMS.ManageContent.Manage Pages",url:""},{title:"breadcrumbs.Pages",url:""},{title:"breadcrumbs.List",url:""}]}},{path:"add",component:z,canActivate:[I.q],data:{permission:"create-pages",urls:[{title:"breadcrumbs.CMS",url:"/cms/manage-content/pages/list"},{title:"CMS.ManageContent.Manage Pages",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Pages",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Add",url:""}]}},{path:"edit/:id",component:z,canActivate:[I.q],data:{permission:"edit-pages",urls:[{title:"breadcrumbs.CMS",url:"/cms/manage-content/pages/list"},{title:"CMS.ManageContent.Manage Pages",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Pages ",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Update",url:""}]}},{path:"list-localization",component:(()=>{class n{constructor(e,i,a,o,s,d,P,v,y){this.router=e,this.toastr=i,this.modalService=a,this.configService=o,this.route=s,this.titleService=d,this.languageSandbox=P,this.sandbox=v,this.changeDetectRef=y,this.FormEmit=new t.bkB,this.filterSearch={},this.limit=10,this.queryData={},this.keyword="",this.offset=0,this.index=0,this.status="",this.selectedSortField="",this.currentPage=1,this.filterParams={},this.subscriptions=[],this.filterData=[],this.filterDataId=[],this.title="Page",this.languageList=[],this.isTranslation=!1,this.subscribePage()}ngOnInit(){this.titleService.setTitle(this.title),this.getLanguageList(),this.pageSize=sessionStorage.getItem("itemsPerPage")?sessionStorage.getItem("itemsPerPage"):this.pageSize,this.isCount=!0,this.paginations(),this.index=this.route.snapshot.queryParamMap.get("index"),this.offset=this.route.snapshot.queryParamMap.get("offset"),0!==this.index?this.pageChangeEvent():this.pageLocalizationList()}getLanguageList(){const e={};e.limit=this.limit,e.offset=this.offset,e.keyword=this.keyword,e.status="",this.languageSandbox.languageList(e),this.languageSandbox.languageList$.subscribe(i=>{this.languageList=i,this.changeDetectRef.detectChanges()})}pageLocalizationList(){this.offset=(this.currentPage-1)*this.limit;const e={};e.offset=this.offset,e.limit=this.pageSize,e.keyword=this.keyword,this.filterParams.pageSize=this.pageSize||"",this.filterParams.keyword=this.keyword||"",this.filterParams.offset=this.offset||0,this.router.navigate([],{relativeTo:this.route,queryParams:this.filterParams,queryParamsHandling:"merge"}),this.sandbox.pageLocalizationList(e),this.subscribe()}subscribe(){this.subscriptions.push(this.sandbox.pageLocalizationList$.subscribe(e=>{e&&(this.pageListArray=e,0!==this.index&&(this.index=+this.index-1,this.router.navigate([],{relativeTo:this.route,queryParams:this.filterParams,queryParamsHandling:"merge"}))),e?.forEach(i=>{i.languageIDS=i.pageTranslation?.map(a=>a.languageId)})}))}focusInput(){this.myInput.nativeElement.focus()}onPageChange(e){this.limit=e.limit,this.currentPage=Math.floor(e.offset/e.limit)+1,this.pageLocalizationList()}searchList(){this.keyword?(this.queryData.keyword=this.keyword,this.queryData.pageSize=this.pageSize,this.queryData.offset=0,this.queryData.index=1,this.index=1,this.currentPage=1,this.offset=0,this.filterSearch.keyword=this.keyword,this.pageLocalizationList(),this.paginations()):(this.offset=this.route.snapshot.queryParamMap.get("offset")||0,this.index=this.route.snapshot.queryParamMap.get("index"),this.pageLocalizationList(),this.paginations())}getStatusDisplay(e,i){return"Status"==e?1==i?"Active":"Inactive":i}removeFilter(e){this.filterSearch[e.key]="",this[e.key]="",this.offset=0,this.pageLocalizationList(),this.paginations()}keywordchange(e){this.filterSearch.keyword=e}receiveProgress(e){this.index=0,this.keyword=e.keyword,this.offset=0,""!==this.keyword&&(this.pageLocalizationList(),this.paginations())}paginations(){const e={count:1};e.keyword=this.keyword,this.sandbox.pageLocalizationCount(e),this.sandbox.pageLocalizationCount$.subscribe(i=>{})}pageChangeEvent(){this.isCount=!1,this.pageSize=this.pageSize,this.index=this.index,this.offset=this.pageSize*this.index,this.filterDataId=[],this.pageLocalizationList(),this.paginations()}pageChange(e){this.selectedSortField="",window.scroll(0,0),this.currentPage=e,this.offset=this.pageSize*(e-1),this.pageLocalizationList()}pageLength(){this.pageLocalizationList()}subscribePage(){this.subscriptions.push(this.sandbox.pageLocalizationList$.subscribe(e=>{e&&e.length>0&&(this.pageListArray=e.map(i=>({...i,selected:!1})))}))}editPage(e){this.router.navigate(["/cms/manage-content/pages/edit-localization",e.pageId],{queryParams:e})}back(){this.router.navigate(["/cms/manage-content/pages/list"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(C.Ix),t.rXU(Jt.tw),t.rXU(b.Bq),t.rXU(H.w),t.rXU(C.nX),t.rXU(T.hE),t.rXU(S.T),t.rXU(O.G),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-localization-list"]],viewQuery:function(i,a){if(1&i&&(t.GBs(Wt,5),t.GBs(Kt,5),t.GBs(Zt,5)),2&i){let o;t.mGM(o=t.lsd())&&(a.myDropdown=o.first),t.mGM(o=t.lsd())&&(a.myInput=o.first),t.mGM(o=t.lsd())&&(a.paginator=o.first)}},outputs:{FormEmit:"FormEmit"},decls:43,vars:34,consts:[["myInput",""],["elseBlock",""],[1,"row","products-section","vendor-section",3,"keyup.Tab"],[1,"flex","filter-row"],[1,"filter-lft"],[1,"to-back",3,"click"],["src","assets/imgs/back.svg","alt",""],[1,"filter-rht","flex"],["class","added-filter flex",4,"ngFor","ngForOf"],[1,"filter-search"],["type","text","placeholder","Search","appNoLeadingSpace","",3,"change","ngModelChange","keydown.enter","ngModel"],[1,"flex","product-wrap","example-full-width"],[1,"product-table"],[1,"spinner-wrapper"],[2,"transform","translate(38%, 50%)","position","absolute",3,"isShow"],[1,"table-responsive"],[1,"table"],["scope","col"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["scope","col","appShowHide","",1,"text-center",3,"multipleHideUnAuthorized"],[4,"ngFor","ngForOf"],["class","nodata-found",4,"ngIf"],["class","pagination flex",4,"ngIf"],[1,"added-filter","flex"],["class","added-filter-col flex",4,"ngIf"],[1,"added-filter-col","flex"],[3,"click"],["src","assets/img/close.svg","alt",""],["scope","col",1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-nowrap"],["appShowHide","",1,"text-center","action-btn",3,"multipleHideUnAuthorized"],["ngbDropdown","",1,"dropdown"],["ngbDropdownToggle",""],["src","assets/img/elliptical-h.svg","alt",""],["ngbDropdownMenu","",1,"dropdown-menu-end"],["appShowHide","",3,"click","hideUnAuthorized"],["src","assets/img/edit.svg","alt",""],[1,"text-center"],["src","assets/imgs/tick-green.svg",4,"ngIf","ngIfElse"],["src","assets/imgs/tick-green.svg"],["href","javascript:void(0)",1,"link-text",3,"click"],[1,"nodata-found"],["src","assets/imgs/nodatafound.svg","alt",""],[1,"pagination","flex"],[3,"pageChange","type","currentPage","totalItems","pageSize"]],template:function(i,a){if(1&i){const o=t.RV6();t.j41(0,"div",2),t.bIt("keyup.Tab",function(){return t.eBV(o),t.Njj(a.focusInput())}),t.j41(1,"div",3)(2,"div",4)(3,"a",5),t.bIt("click",function(){return t.eBV(o),t.Njj(a.back())}),t.nrm(4,"img",6),t.k0s(),t.j41(5,"h2"),t.EFF(6),t.nI1(7,"translate"),t.nI1(8,"async"),t.k0s()(),t.j41(9,"div",7),t.DNE(10,ae,2,1,"div",8),t.nI1(11,"keyvalue"),t.j41(12,"div",9)(13,"input",10,0),t.bIt("change",function(d){return t.eBV(o),t.Njj(a.keywordchange(d.target.value))}),t.mxI("ngModelChange",function(d){return t.eBV(o),t.DH7(a.keyword,d)||(a.keyword=d),t.Njj(d)}),t.bIt("keydown.enter",function(){return t.eBV(o),t.Njj(a.searchList())}),t.k0s(),t.j41(15,"span"),t.EFF(16," / "),t.k0s()()()()(),t.j41(17,"div",11)(18,"div",12)(19,"div",13),t.nrm(20,"app-global-loader",14),t.nI1(21,"async"),t.k0s(),t.j41(22,"div",15)(23,"table",16)(24,"thead")(25,"tr")(26,"th",17),t.EFF(27),t.nI1(28,"translate"),t.k0s(),t.DNE(29,ie,2,1,"th",18),t.j41(30,"th"),t.EFF(31),t.nI1(32,"translate"),t.k0s(),t.j41(33,"th",19),t.EFF(34),t.nI1(35,"translate"),t.k0s()()(),t.j41(36,"tbody"),t.DNE(37,le,17,15,"tr",20),t.k0s()(),t.DNE(38,ce,6,3,"div",21),t.nI1(39,"async"),t.nI1(40,"async"),t.k0s(),t.DNE(41,pe,3,6,"div",22),t.nI1(42,"async"),t.k0s()()}if(2&i){let o;t.R7$(6),t.Lme("",t.bMT(7,13,"CMS.Pages.Pages")," (",t.bMT(8,15,a.sandbox.pageLocalizationCount$),")"),t.R7$(4),t.Y8G("ngForOf",t.bMT(11,17,a.filterSearch)),t.R7$(3),t.R50("ngModel",a.keyword),t.R7$(7),t.Y8G("isShow",t.bMT(21,19,a.sandbox.pageLocalizationListLoading)),t.R7$(7),t.SpI(" ",t.bMT(28,21,"CMS.Pages.Title")," "),t.R7$(2),t.Y8G("ngForOf",a.languageList),t.R7$(2),t.JRh(t.bMT(32,23,"Sales.Orders.LastUpdated")),t.R7$(2),t.Y8G("multipleHideUnAuthorized",t.lJ4(33,te)),t.R7$(),t.SpI(" ",t.bMT(35,25,"marketplace.seller.Action"),""),t.R7$(3),t.Y8G("ngForOf",a.pageListArray),t.R7$(),t.Y8G("ngIf",0==(null==(o=t.bMT(39,27,a.sandbox.pageLocalizationList$))?null:o.length)&&t.bMT(40,29,a.sandbox.pageLocalizationListLoaded)),t.R7$(3),t.Y8G("ngIf",t.bMT(42,31,a.sandbox.pageLocalizationCount$)>a.pageSize)}},dependencies:[h.Sq,h.bT,b.tg,b.do,b.U0,p.me,p.BC,p.vS,D.L,B.$,Q.q,Y.D,h.Jj,h.lG,qt.S,M.D9],styles:[".nav-list[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}}return n})(),canActivate:[I.q],data:{permission:"add-page-localization",urls:[{title:"breadcrumbs.CMS",url:"/cms/manage-content/pages/list"},{title:"CMS.ManageContent.Manage Pages",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Pages",url:"/cms/manage-content/pages/list"},{title:"CMS.Pages.Localization",url:""},{title:"breadcrumbs.List",url:""}]}},{path:"edit-localization/:id",component:(()=>{class n{constructor(e,i,a,o,s,d,P,v,y){this.configService=e,this.route=i,this.router=a,this.fb=o,this.sandbox=s,this.languageSandbox=d,this.changeDetectRef=P,this.el=v,this.ckeconfiqservice=y,this.languageList=[],this.editor=$(),this.subscriptions=[]}ngOnInit(){this.mycontent="<p>My html content</p>",this.config=this.ckeconfiqservice.getEditorConfig(),this.getLanguageList(),this.imageUrl=this.configService.getImageUrl(),this.route.queryParams.subscribe(e=>{this.receivedData=e}),this.pageLocalizationDetail()}createProductForm(){return this.fb.group({languageId:[""],title:[""],content:[""]})}getLanguageList(){this.languageSandbox.languageList({limit:10,offset:0,keyword:"",status:""}),this.subscriptions.push(this.languageSandbox.languageList$.subscribe(i=>{this.languageList=i,this.forms=this.languageList?.map(()=>this.createProductForm()),this.changeDetectRef.detectChanges()}))}pageLocalizationDetail(){const e={};e.pageId=this.receivedData?.pageId,this.sandbox.pageLocalizationDetail(e),this.subscriptions.push(this.sandbox.pageLocalizationDetail$.subscribe(i=>{if(this.pageDetail=i,this.content=this.htmlTagConversion(i?.content),this.changeDetectRef.detectChanges(),i){const a=[];this.languageList?.forEach((o,s)=>{this.translation=i.pageTranslation?.find(d=>d.languageId===o.languageId),this.translation&&(this.forms[s].controls.title.setValue(this.translation.title),this.forms[s].controls.content.setValue(this.translation.content),this.forms[s].controls.languageId.setValue(this.translation.id),a.push(this.translation.id))})}}))}save(){const o={data:{pageTranslation:this.forms.map((s,d)=>{let P={languageId:this.languageList[d].languageId,title:this.languageList[d].languageId?s.value.title:"",content:this.languageList[d].languageId?s.value.content:""};return s.value.languageId&&(P.id=s.value.languageId),P}).filter(s=>""!==s.title)},id:this.receivedData.pageId};this.sandbox.pageLocalizationCreate(o),this.router.navigate(["/cms/manage-content/pages/list-localization"])}cancel(){this.router.navigate(["/cms/manage-content/pages/list-localization"])}scrollToLanguage(e){const i=this.el.nativeElement.querySelector(`#${e}`);i&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}htmlTagConversion(e){return e.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#39;","'").replaceAll("&sbquo;","\u201a").replaceAll("&#61;","=").replaceAll("&#45;","-").replaceAll("&hellip;","\u2026").replaceAll("&commat;","@").replaceAll("&copy;","\xa9").replaceAll("&#35;","#").replaceAll("&ldquo;","\u201c").replaceAll("&rsquo;","\u2019").replaceAll("&lsquo;","\u2018").replaceAll("&trade;","\u2122").replaceAll("&reg;","\xae").replaceAll("&ndash;","\u2013").replaceAll("&eacute;","\xe9").replaceAll("&euro;","\u20ac").replaceAll("&pound;","\xa3")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(H.w),t.rXU(C.nX),t.rXU(C.Ix),t.rXU(p.ze),t.rXU(O.G),t.rXU(S.T),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(F.z))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-localization-add"]],decls:30,vars:20,consts:[[1,"spinner-wrapper"],[2,"transform","translate(50%, 400%)","position","absolute","z-index","1",3,"isShow"],[1,"Language_page_wrapper__Qb2id","undefined","Language_page_wrapper_normal__oteTI","Language_add_page_wrapper__KbanA"],[1,"add_user_container","add_role_container"],[1,"flex","prod-dtl"],[1,"prod-dtl-content","d-flex","align-items-center"],[1,"to-back",3,"click"],["src","assets/imgs/back.svg","alt",""],[1,"add_role_title"],[1,"mt-3"],[1,"languages_nav_list","flexx"],[3,"click",4,"ngFor","ngForOf"],[1,"addproduct-wrap","p-0"],["class","card ap-general",3,"id",4,"ngFor","ngForOf"],[1,"action-button-container","flex"],[1,"button-reg","btn-md","secondary",3,"click"],[1,"button-reg","btn-md","primary",3,"click"],[3,"click"],[1,"card","ap-general",3,"id"],[1,"ap-header","sub-sub-header"],[3,"src"],[1,"ap-body"],[3,"formGroup"],["type","hidden","formControlName","languageId",3,"value","placeholder"],[1,"languges_card__row"],[1,"form-group","flex-column","mb-3"],[1,"ig-row"],["formControlName","title","type","text",1,"int","form-control"],[1,"form-group","flex-column"],["formControlName","content",1,"tex",3,"editor","config"]],template:function(i,a){1&i&&(t.j41(0,"div",0),t.nrm(1,"app-global-loader",1),t.nI1(2,"async"),t.nI1(3,"async"),t.k0s(),t.j41(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"a",6),t.bIt("click",function(){return a.cancel()}),t.nrm(9,"img",7),t.k0s(),t.j41(10,"h3"),t.EFF(11),t.k0s()()(),t.j41(12,"div",8)(13,"h3",9),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"div",10),t.DNE(20,de,2,1,"a",11),t.k0s(),t.j41(21,"div",12),t.DNE(22,ue,23,15,"div",13),t.k0s()(),t.j41(23,"div",14)(24,"button",15),t.bIt("click",function(){return a.cancel()}),t.EFF(25),t.nI1(26,"translate"),t.k0s(),t.j41(27,"button",16),t.bIt("click",function(){return a.save()}),t.EFF(28),t.nI1(29,"translate"),t.k0s()()()),2&i&&(t.R7$(),t.Y8G("isShow",t.bMT(2,8,a.sandbox.pageLocalizationDetail$)&&t.bMT(3,10,a.languageSandbox.languageListLoading$)),t.R7$(10),t.JRh(null==a.pageDetail?null:a.pageDetail.title),t.R7$(3),t.SpI(" ",t.bMT(15,12,"marketplace.common.Languages")," "),t.R7$(3),t.SpI("",t.bMT(18,14,"localization.Pages")," "),t.R7$(3),t.Y8G("ngForOf",a.languageList),t.R7$(2),t.Y8G("ngForOf",a.languageList),t.R7$(3),t.SpI(" ",t.bMT(26,16,"Customers.Customer.Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(29,18,"Customers.Customer.Save")," "))},dependencies:[h.Sq,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,Q.q,E.h,h.Jj,M.D9],styles:[".page_wrapper[_ngcontent-%COMP%]{padding:8rem 0 0 4rem}.page_wrapper.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_innersidebar[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 12rem);margin-left:auto}.page_wrapper_innersidebar.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_expand_sidebar[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 19rem);margin-left:auto}.page_wrapper_expand_sidebar.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrappers_expand[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 10rem);margin-left:auto}.page_wrappers_expand.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.page_wrapper_normal[_ngcontent-%COMP%]{padding:8rem 0 0 0rem;width:calc(100% - 3rem);margin-left:auto}.page_wrapper_normal.add_page_wrapper[_ngcontent-%COMP%]{padding-top:4rem}.add_user_container[_ngcontent-%COMP%]{background-color:#fff;padding:1.5rem;width:calc(100% + -0rem);margin:0rem auto}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]{margin-bottom:4rem}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:400;color:#0e2a3e;line-height:2.0625rem}.add_user_container[_ngcontent-%COMP%]   .add-user-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:28.1875rem 1fr;gap:2.5rem;align-items:flex-start;width:100%}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]{display:grid;grid-template-columns:6.625rem 1fr;gap:1rem;align-items:center}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__img[_ngcontent-%COMP%]{border:solid thin #D4D5D8;border-radius:.3125rem;display:flex;justify-content:center;align-items:flex-start;width:6.625rem;aspect-ratio:1}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]{width:100%;justify-content:flex-start;align-items:center;gap:.5rem;margin-bottom:1rem}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding-inline:.5rem;height:2.0625rem;display:flex;justify-content:center;align-items:center;font-size:.875rem;font-weight:400;border-radius:.1875rem;position:relative}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.upload-profile-pic[_ngcontent-%COMP%]{border:solid thin #0E2A3E;background-color:#0e2a3e;color:#fff}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.upload-profile-pic[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;inset:0;width:100%;height:100%;z-index:3;cursor:pointer;font-size:0}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   .add-user__pic__upload[_ngcontent-%COMP%]   button.reset[_ngcontent-%COMP%]{border:solid thin #D0DFE8;background-color:#f1f8ff;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__pic[_ngcontent-%COMP%]   .add-user__pic__content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__form[_ngcontent-%COMP%]   .add-user__form__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(18rem,1fr));gap:1rem;margin-bottom:1rem}.add_user_container[_ngcontent-%COMP%]   .add-user__row[_ngcontent-%COMP%]   .add-user__form[_ngcontent-%COMP%]   .add-user__form__row2[_ngcontent-%COMP%]{background-color:#f4f8fc;padding:1rem;border-radius:.3125rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(18rem,1fr));gap:1rem;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem 2rem;align-items:flex-end;padding:1rem;background-color:#f4f8fc;border-radius:.3125rem;margin-bottom:1.5rem}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .input-group.ig-short-desc[_ngcontent-%COMP%]{grid-column-end:3;grid-column-start:1;grid-row-start:2}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .add-user__toggle[_ngcontent-%COMP%]{align-items:center}.add_role_container[_ngcontent-%COMP%]   .add-role__top[_ngcontent-%COMP%]   .add-user__toggle[_ngcontent-%COMP%]   .tgl-light[_ngcontent-%COMP%] + .tgl-btn[_ngcontent-%COMP%]{background-color:#becfe1}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#0e2a3e;padding-left:1.125rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{position:absolute;left:0;top:.0625rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{top:.1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{background-color:#20b13f;border:solid thin #20B13F}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#0e2a3e}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]{border:solid thin #EBEFF3;padding:1rem;margin-bottom:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#0e2a3e;margin-bottom:.75rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   .add-role__permission__list[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-wrap:wrap;gap:1rem}.add_role_container[_ngcontent-%COMP%]   .add-role__permission[_ngcontent-%COMP%]   .add-role__permission__row[_ngcontent-%COMP%]   .add-role__permission__list[_ngcontent-%COMP%]   .chk-group[_ngcontent-%COMP%]{width:14.1875rem}.add_role_title[_ngcontent-%COMP%]{margin-bottom:1.125rem}.add_role_title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2a2e34}.add_role_title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;color:#2a2e34}.languages_nav_list[_ngcontent-%COMP%]{justify-content:flex-start;gap:.5rem;margin-bottom:1.1875rem}.languages_nav_list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer;border-radius:1.875rem;background-color:#f0f1f3;font-size:.875rem;font-weight:400;color:#0e0e0f;text-transform:uppercase}.languages_nav_list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#d4d6d9}.languages_nav_list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:600;background-color:#0e2a3e;color:#fff}.languges_card[_ngcontent-%COMP%]{margin-bottom:1.25rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:flex-end;font-size:.875rem;font-weight:400;color:#0e2a3e;margin-bottom:.625rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.3125rem}.languges_card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.625rem;font-weight:600}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]{border-radius:.3125rem;background-color:#f4f8fc;display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]{display:grid;grid-template-columns:5.625rem 1fr;gap:.5rem}.languges_card[_ngcontent-%COMP%]   .languges_card__row[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#475867}.languges_card[_ngcontent-%COMP%]   .languges_card__row.languges-card__row__arabic[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .languges_card[_ngcontent-%COMP%]   .languges_card__row.languges-card__row__arabic[_ngcontent-%COMP%]   .input_group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{direction:rtl}.int[_ngcontent-%COMP%]{display:block;width:100%;border:1px solid #EBEFF3;height:2rem;border-radius:.1875rem;padding:0 .5rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#456479}.int[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}.tex[_ngcontent-%COMP%]{width:100%;display:block;border-radius:.1875rem;font-weight:400;font-size:.875rem;line-height:1.125rem;color:#456479}.tex[_ngcontent-%COMP%]:focus{box-shadow:none;outline:none}[_nghost-%COMP%]  .cke_bottom{display:none}[_nghost-%COMP%]  .cke_top{background-color:#f4f8fc}.prod-dtl[_ngcontent-%COMP%]{padding:1rem;width:100%;justify-content:flex-start;align-items:center;background-color:#f9f9fc;flex-wrap:nowrap;border:0;gap:1rem}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-img[_ngcontent-%COMP%]{width:40px;flex-shrink:1}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]{width:100%;position:relative;flex-grow:1}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#2a2e34;text-transform:capitalize;margin:0}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#2a2e34}.prod-dtl[_ngcontent-%COMP%]   .prod-dtl-content[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}.title-align[_ngcontent-%COMP%]{display:grid;grid-template-columns:3% 10px 1fr;align-items:baseline}"]})}}return n})(),canActivate:[I.q],data:{permission:"add-page-localization",urls:[{title:"breadcrumbs.CMS",url:"/cms/manage-content/pages/list"},{title:"CMS.ManageContent.Manage Pages",url:"/cms/manage-content/pages/list"},{title:"breadcrumbs.Pages",url:"/cms/manage-content/pages/list"},{title:"CMS.Pages.Localization",url:"/cms/manage-content/pages/list-localization"},{title:"breadcrumbs.Update",url:""}]}}];let _e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[C.iI.forChild(he),C.iI]})}}return n})();var fe=c(55153),be=c(99014),Ce=c(21626),Pe=c(88650),Me=c(9948);let ve=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[L,O.G,T.hE,S.T,tt.D],imports:[h.MD,J.D,p.YN,p.X1,Me.C,fe.G,Pe.h,_e,g.Vm.forFeature([Z,et.V]),M.h.forChild({loader:{provide:M.Wr,useFactory:be.M,deps:[Ce.Qq]}}),E.w]})}}return n})()}}]);
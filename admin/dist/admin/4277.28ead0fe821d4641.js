"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[4277],{40646:(b,v,s)=>{s.d(v,{d:()=>I});var m=s(74054),d=s(7673),l=s(96354),r=s(25558),t=s(17554),C=s(99437),u=s(88141),g=s(54438),f=s(51188),T=s(90988);let I=(()=>{class p{constructor(y,E,D){this.action$=y,this.router=E,this.Service=D,this.doCustomersGroupList$=(0,m.EH)(()=>this.action$.pipe((0,m.gp)(t.Q3.DO_CUSTOMERS_GROUP_LIST),(0,l.T)(c=>c.payload),(0,r.n)(c=>this.Service.customersGroupList(c).pipe((0,r.n)(e=>[new t.Zc(e)]),(0,C.W)(e=>(0,d.of)(new t._d(e))))))),this.doAddCustomersGroup$=(0,m.EH)(()=>this.action$.pipe((0,m.gp)(t.Q3.DO_ADD_CUSTOMERS_GROUP),(0,l.T)(c=>c.payload),(0,r.n)(c=>this.Service.addCustomersGroup(c).pipe((0,u.M)(e=>{e&&this.router.navigate(["/customers/groups/list"])}),(0,r.n)(e=>[new t.GM(e)]),(0,C.W)(e=>(0,d.of)(new t.VS(e))))))),this.doUpdateCustomersGroup$=(0,m.EH)(()=>this.action$.pipe((0,m.gp)(t.Q3.DO_UPDATE_CUSTOMERS_GROUP),(0,l.T)(c=>c.payload),(0,r.n)(c=>this.Service.updateCustomersGroup(c).pipe((0,u.M)(e=>{}),(0,r.n)(e=>[new t.y$(e)]),(0,C.W)(e=>(0,d.of)(new t.B5(e))))))),this.doDeleteCustomersGroup$=(0,m.EH)(()=>this.action$.pipe((0,m.gp)(t.Q3.DO_DELETE_CUSTOMERS_GROUP),(0,l.T)(c=>c.payload),(0,r.n)(c=>this.Service.deleteCustomersGroup(c).pipe((0,r.n)(e=>[new t.o5(e)]),(0,C.W)(e=>(0,d.of)(new t.b5(e))))))),this.doPginationcustomers$=(0,m.EH)(()=>this.action$.pipe((0,m.gp)(t.Q3.DO_PAGINATION_CUSTOMERS_GROUP_LIST),(0,l.T)(c=>c.payload),(0,r.n)(c=>this.Service.customersGroupList(c).pipe((0,r.n)(e=>[new t.fJ(e)]),(0,C.W)(e=>(0,d.of)(new t.yH(e)))))))}static{this.\u0275fac=function(E){return new(E||p)(g.KVO(m.En),g.KVO(f.Ix),g.KVO(T.S))}}static{this.\u0275prov=g.jDH({token:p,factory:p.\u0275fac})}}return p})()},90988:(b,v,s)=>{s.d(v,{S:()=>r});var m=s(21626),d=s(94194),l=s(54438);let r=(()=>{class t extends d.j{constructor(){super(...arguments),this.params={},this.url=this.getBaseUrl()}getOrderStatus(){return this.status}setOrderStatus(u){return this.status=u}customersGroupList(u){return this.http.get(this.url+"/customer-group",{params:u})}SiteIdList(u){return this.http.get(this.url+"/settings",u)}addCustomersGroup(u){return this.http.post(this.url+"/customer-group",u)}updateCustomersGroup(u){return this.http.put(this.url+"/customer-group/"+u.id,u)}deleteCustomersGroup(u){const g={headers:new m.Lr({"Content-Type":"application/json"}),withCredentials:!1,body:{groupId:u.groupId}};return this.http.delete(this.url+"/customer-group/"+u.groupId,g)}deletePagerefresh(u){this.pageoffset=u}static{this.\u0275fac=(()=>{let u;return function(f){return(u||(u=l.xGo(t)))(f||t)}})()}static{this.\u0275prov=l.jDH({token:t,factory:t.\u0275fac})}}return t})()},10332:(b,v,s)=>{s.d(v,{K:()=>I});var m=s(1094),d=s(34514),l=s(87876);const r=p=>p.customerLayout,t=(0,d.Mz)(r,l.GO),C=(0,d.Mz)(r,l._y);(0,d.Mz)(r,l.P9),(0,d.Mz)(r,l.ts);var f=s(54438),T=s(84745);let I=(()=>{class p{constructor(y){this.appState=y,this.customerCount$=this.appState.select(t),this.customerCountLoading$=this.appState.select(C),this.subscriptions=[],this.registerAuthEvents()}getCustomerCount(){this.appState.dispatch(new m.Mp)}registerAuthEvents(){}static{this.\u0275fac=function(E){return new(E||p)(f.KVO(T.il))}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac})}}return p})()},44277:(b,v,s)=>{s.r(v),s.d(v,{CustomersModule:()=>ot});var m=s(60177),d=s(40528),l=s(89417),r=s(51188),t=s(54438),C=s(10332),u=s(37886),g=s(89653),f=s(64363),T=s(345),I=s(35697),p=s(41780);const O=()=>["/customers/manage-customers"],y=()=>["/customers/manage-customers/customer"];let E=(()=>{class o{constructor(n){this.titleService=n,this.permissionVals=f.xy}onDocumentClick(n){this.checked=!1}ngOnInit(){this.titleService.setTitle("Customer")}onClick(n){this.checked=!0}combineArrays(...n){return[].concat(...n)}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(T.hE))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-cms-header"]],hostBindings:function(i,a){1&i&&t.bIt("click",function($){return a.onDocumentClick($)},!1,t.EBC)},decls:17,vars:15,consts:[[1,"subtoolbar","customertoolbar"],[1,"sub-nav-menu"],["appShowHide","",1,"dd",3,"multipleHideUnAuthorized"],[1,"dd-a"],["href","javascript:void(0)",3,"routerLink","routerLinkActive"],["src","assets/img/header-icons/manage-buyer.svg","alt","product"],["src","assets/img/caret-down.svg","alt","",1,"drop-arrow"],["type","checkbox","id","check",3,"click","checked"],[1,"dd-c"],["appShowHide","",3,"hideUnAuthorized"],["href","#",3,"routerLink","routerLinkActive"]],template:function(i,a){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span"),t.nrm(6,"img",5),t.k0s(),t.EFF(7),t.nI1(8,"translate"),t.nrm(9,"img",6),t.k0s()(),t.j41(10,"input",7),t.bIt("click",function($){return $.stopPropagation(),a.onClick($)}),t.k0s(),t.j41(11,"div",8)(12,"ul")(13,"li",9)(14,"a",10),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()()()()()),2&i&&(t.R7$(2),t.Y8G("multipleHideUnAuthorized",a.combineArrays(a.permissionVals.buyer)),t.R7$(2),t.Y8G("routerLink",t.lJ4(13,O))("routerLinkActive","active"),t.R7$(3),t.SpI("",t.bMT(8,9,"Customers.Customer.ManageCustomers")," "),t.R7$(3),t.Y8G("checked",a.checked),t.R7$(3),t.Y8G("hideUnAuthorized","list-buyer"),t.R7$(),t.Y8G("routerLink",t.lJ4(14,y))("routerLinkActive","active"),t.R7$(),t.SpI(" ",t.bMT(16,11,"Customers.Customer.Customer")," "))},dependencies:[r.Wk,r.wQ,I.D,p.D9],changeDetection:0})}}return o})();function D(o,h){1&o&&t.nrm(0,"span",11)}function c(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).totalCustomer)}}function e(o,h){1&o&&t.nrm(0,"span",11)}function x(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).activeCustomer)}}function F(o,h){1&o&&t.nrm(0,"span",11)}function U(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).inActiveCustomer)}}function j(o,h){1&o&&t.nrm(0,"span",11)}function P(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).totalCustomerGroup)}}function A(o,h){1&o&&t.nrm(0,"span",11)}function B(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).activeCustomerGroup)}}function H(o,h){1&o&&t.nrm(0,"span",11)}function K(o,h){if(1&o&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"async"),t.k0s()),2&o){const n=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,n.layoutSandbox.customerCount$).inActiveCustomerGroup)}}function k(o,h){if(1&o&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"ul")(4,"li")(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.DNE(8,D,1,0,"span",3),t.nI1(9,"async"),t.j41(10,"button",4),t.nrm(11,"img",5),t.k0s(),t.DNE(12,c,3,3,"h3",0),t.nI1(13,"async"),t.k0s(),t.j41(14,"li")(15,"p"),t.EFF(16),t.nI1(17,"translate"),t.k0s(),t.DNE(18,e,1,0,"span",3),t.nI1(19,"async"),t.j41(20,"button",6),t.nrm(21,"img",5),t.k0s(),t.DNE(22,x,3,3,"h3",0),t.nI1(23,"async"),t.k0s(),t.j41(24,"li")(25,"p"),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.DNE(28,F,1,0,"span",3),t.nI1(29,"async"),t.j41(30,"button",7),t.nrm(31,"img",5),t.k0s(),t.DNE(32,U,3,3,"h3",0),t.nI1(33,"async"),t.k0s(),t.j41(34,"li")(35,"p"),t.EFF(36),t.nI1(37,"translate"),t.k0s(),t.DNE(38,j,1,0,"span",3),t.nI1(39,"async"),t.j41(40,"button",8),t.nrm(41,"img",5),t.k0s(),t.DNE(42,P,3,3,"h3",0),t.nI1(43,"async"),t.k0s(),t.j41(44,"li")(45,"p"),t.EFF(46),t.nI1(47,"translate"),t.k0s(),t.DNE(48,A,1,0,"span",3),t.nI1(49,"async"),t.j41(50,"button",9),t.nrm(51,"img",5),t.k0s(),t.DNE(52,B,3,3,"h3",0),t.nI1(53,"async"),t.k0s(),t.j41(54,"li")(55,"p"),t.EFF(56),t.nI1(57,"translate"),t.k0s(),t.DNE(58,H,1,0,"span",3),t.nI1(59,"async"),t.j41(60,"button",10),t.nrm(61,"img",5),t.k0s(),t.DNE(62,K,3,3,"h3",0),t.nI1(63,"async"),t.k0s()()()()()),2&o){const n=t.XpG();t.R7$(6),t.SpI("",t.bMT(7,18,"Customers.Customer.TotalCustomer")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(9,20,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(13,22,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.SpI("",t.bMT(17,24,"Customers.Customer.ActiveCustomer")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(19,26,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(23,28,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(27,30,"Customers.Customer.In-ActiveCustomer")),t.R7$(2),t.Y8G("ngIf",t.bMT(29,32,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(33,34,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(37,36,"Customers.Customer.TotalCustomerGroup")),t.R7$(2),t.Y8G("ngIf",t.bMT(39,38,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(43,40,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.SpI("",t.bMT(47,42,"Customers.Customer.ActiveCustomerGroup")," "),t.R7$(2),t.Y8G("ngIf",t.bMT(49,44,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(53,46,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.JRh(t.bMT(57,48,"Customers.Customer.In-ActiveCustomerGroup")),t.R7$(2),t.Y8G("ngIf",t.bMT(59,50,n.layoutSandbox.customerCountLoading$)),t.R7$(4),t.Y8G("ngIf",!t.bMT(63,52,n.layoutSandbox.customerCountLoading$))}}const Y=[{path:"",redirectTo:"manage-customers",pathMatch:"full"},{path:"",component:(()=>{class o{constructor(n,i){this.layoutSandbox=n,this.router=i,this.router.events.subscribe(a=>{this.id=+this.router.url.split("?")[0].split("/").pop()})}ngOnInit(){this.layoutSandbox.getCustomerCount()}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(C.K),t.rXU(r.Ix))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-customer-layout"]],decls:4,vars:1,consts:[[4,"ngIf"],[1,"products-section-count"],[1,"product-ts-left"],["class","spinner-border spinner-border-sm pull-right","aria-hidden","true",4,"ngIf"],["type","button","placement","bottom","ngbTooltip","Total number of registered customers on the platform."],["src","assets/img/info-ico.svg","alt","info"],["type","button","placement","bottom","ngbTooltip","Number of active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Number of in-active customers on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of customer groups on the platform."],["type","button","placement","bottom","ngbTooltip","Total number of active customer groups on the platform."],["type","button","placement","left","ngbTooltip","Total number of in-active customer groups on the platform."],["aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right"]],template:function(i,a){1&i&&(t.nrm(0,"app-cms-header")(1,"app-breadcrumb"),t.DNE(2,k,64,54,"div",0),t.nrm(3,"router-outlet")),2&i&&(t.R7$(2),t.Y8G("ngIf","/customers/manage-customers/customer/add"!==a.router.url.split("?")[0]&&"/customers/manage-customers/customer/list"!==a.router.url.split("?")[0]&&a.router.url.split("?")[0]!=="/customers/manage-customers/customer/view/"+a.id&&a.router.url.split("?")[0]!=="/customers/manage-customers/customer/edit/"+a.id&&"/customers/manage-customers/groups/add"!==a.router.url.split("?")[0]&&a.router.url.split("?")[0]!=="/customers/manage-customers/groups/edit/"+a.id&&"/customers/manage-customers/groups/list"!==a.router.url.split("?")[0]&&"/customers/manage-customers/customer/bulk-import"!==a.router.url.split("?")[0]))},dependencies:[m.bT,r.n3,u.md,g.D,E,m.Jj,p.D9],styles:[".layout-mar[_ngcontent-%COMP%]{margin-top:0}"],changeDetection:0})}}return o})(),children:[{path:"manage-customers",loadChildren:()=>s.e(1741).then(s.bind(s,61741)).then(o=>o.ManageCustomersModule),canActivate:[s(79176).q],data:{permissionForRoot:(0,f.Mt)(f.xy.buyer)}}]}];let J=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[r.iI.forChild(Y),r.iI]})}}return o})();var V=s(55153),R=s(74054),_=s(94194);let S=(()=>{class o extends _.j{constructor(){super(...arguments),this.params={},this.URL=this.getBaseUrl()}getCustomerCount(){return this.http.get(this.URL+"/admin-customer/customer-count")}static{this.\u0275fac=(()=>{let n;return function(a){return(n||(n=t.xGo(o)))(a||o)}})()}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var X=s(7673),z=s(96354),G=s(25558),L=s(1094),Q=s(99437);let Z=(()=>{class o{constructor(n,i){this.action$=n,this.layoutService=i,this.customerCount$=(0,R.EH)(()=>this.action$.pipe((0,R.gp)(L.Q3.GET_CUSTOMER_COUNT),(0,z.T)(a=>a.payload),(0,G.n)(a=>this.layoutService.getCustomerCount().pipe((0,G.n)(M=>[new L.Rd(M)]),(0,Q.W)(M=>(0,X.of)(new L.yu(M)))))))}static{this.\u0275fac=function(i){return new(i||o)(t.KVO(R.En),t.KVO(S))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var w=s(40646),q=s(90988),tt=s(88650);let ot=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({providers:[S,C.K,q.S],imports:[m.MD,J,d.D,V.G,l.YN,l.X1,R.Vm.forFeature([Z,w.d]),p.h.forChild(),tt.h]})}}return o})()}}]);
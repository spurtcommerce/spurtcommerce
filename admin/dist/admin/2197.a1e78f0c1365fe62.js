"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[2197],{62197:(K,v,o)=>{o.r(v),o.d(v,{PersonalizeProductModule:()=>L});var z=o(60177),a=o(89417),u=o(74054),g=o(41780),C=o(55153),M=o(40528),d=o(51188),t=o(54438),c=o(34968);class ${constructor(h){this.categoryProductCount=h.categoryProductCount||0,this.itemsPerPage=h.itemPage||10,this.siteUrl=h.siteUrl||0,this.settingId=h.settingId||0}}var P=o(34514),m=o(53912);const f=s=>s.personalizeProduct,R=(0,P.Mz)(f,m.Qi),T=(0,P.Mz)(f,m.G3),D=(0,P.Mz)(f,m.rY);var U=o(84745);let S=(()=>{class s{constructor(e,r){this.appState=e,this.router=r,this.getNewPersonalizeProduct$=this.appState.select(R),this.getPersonalizeProduct$=this.appState.select(T),this.getSettingLoading$=this.appState.select(D)}createPersonalizeProduct(e){this.appState.dispatch(new c.vZ(new $(e)))}getPersonalizeProduct(){this.appState.dispatch(new c.Dy)}static{this.\u0275fac=function(r){return new(r||s)(t.KVO(U.il),t.KVO(d.Ix))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();var j=o(345);let x=(()=>{class s{constructor(e,r){this.el=e,this.renderer=r,this.regex=new RegExp(/^[1-9][0-9]*$/)}onInput(e){const r=this.el.nativeElement,n=r.value.replace(/[^0-9]/g,"");n.startsWith("0")&&n.length>1?this.renderer.setProperty(r,"value",n.substring(1)):this.regex.test(n)?this.renderer.setProperty(r,"value",n):this.renderer.setProperty(r,"value","")}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:s,selectors:[["","appNumbersAllowed",""]],hostBindings:function(r,i){1&r&&t.bIt("input",function(l){return i.onInput(l)})}})}}return s})();var E=o(74937),N=o(35697);const G=()=>["/settings"],V=[{path:"",component:(()=>{class s{constructor(e,r,i){this.fb=e,this.sandbox=r,this.titleService=i,this.submitted=!1,this.subscriptions=[],this.perPage=0,this.titleService.setTitle("Settings | Personalize")}get f(){return this.perProductForm.controls}ngOnInit(){this.intializeFunctions()}validateInput(){(0===this.perPage||isNaN(this.perPage))&&(this.perPage=10)}onSubmit(){if(this.submitted=!0,this.perProductForm.invalid)return;const e={};e.itemPage=this.perProductForm.value.itemPage,e.siteUrl=this.siteUrl,e.settingId=this.settingsId,e.categoryProductCount=1,this.sandbox.createPersonalizeProduct(e)}getPersonalizeProduct(){this.sandbox.getPersonalizeProduct(),this.sandbox.getPersonalizeProduct$.subscribe(e=>{e&&(this.siteUrl=e[0].siteUrl,this.settingsId=e[0].settingsId,sessionStorage.setItem("itemsPerPage",e[0].itemsPerPage),localStorage.setItem("itemsPerPage",e[0].itemsPerPage))})}subscribe(){this.subscriptions.push(this.sandbox.getPersonalizeProduct$.subscribe(e=>{e&&e[0]&&(0==e[0].itemsPerPage?(this.perProductForm.controls.itemPage.setValue(10),sessionStorage.setItem("10","itemsPerPage"),localStorage.setItem("10","itemsPerPage")):this.perProductForm.controls.itemPage.setValue(e[0].itemsPerPage),1===e[0].categoryProductCount?this.perProductForm.patchValue({productCount:"Yes",tc:!0}):0===e[0].categoryProductCount&&this.perProductForm.patchValue({productCount:"No",tc:!0}))}))}setDefaultValues(){this.perProductForm.patchValue({productCount:"Yes",tc:!0})}initForm(){this.perProductForm=this.fb.group({itemPage:[""],productCount:[null]})}intializeFunctions(){this.initForm(),this.setDefaultValues(),this.getPersonalizeProduct(),this.subscribe()}static{this.\u0275fac=function(r){return new(r||s)(t.rXU(a.ze),t.rXU(S),t.rXU(j.hE))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-settings-personalize"]],decls:39,vars:32,consts:[[1,"local-content"],[1,"set-lay-notes","flex"],[1,"setup-wrapper","setup-personalize"],[1,"setup-container","flex"],[1,"setup-left"],[1,"sub-header"],[1,"text14"],[1,"setup-right"],[1,"spinner-wrapper",2,"display","flex","justify-content","center","justify-items","center"],[2,"transform","translate(-153%, 18%)","position","absolute",3,"isShow"],[1,"form-horizontal","m-t-20",2,"margin","0",3,"formGroup"],[1,"sup-rht-section"],[1,"suprs-form"],[1,"suprs-form-row","form-group","flex"],[1,"supvalidation"],[1,"suprs-form-col"],["appNumbersAllowed","","placeholder","Enter items per page","appShowHide","","type","number","formControlName","itemPage",1,"form-control",3,"ngModelChange","ngModel","hideUnAuthorized"],[1,"flex","srbtn"],["appShowHide","",1,"button-reg","btn-md","primary",3,"click","disabled","hideUnAuthorized"],["appShowHide","",1,"button-reg","btn-md","tertiary",3,"routerLink","hideUnAuthorized"]],template:function(r,i){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"h4"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",2)(9,"div",3)(10,"div",4)(11,"h3",5),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.j41(14,"p",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"div",7)(18,"div",8),t.nrm(19,"app-global-loader",9),t.nI1(20,"async"),t.k0s(),t.j41(21,"form",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"label"),t.EFF(26),t.nI1(27,"translate"),t.j41(28,"sup",14),t.EFF(29,"*"),t.k0s()(),t.j41(30,"div",15)(31,"input",16),t.mxI("ngModelChange",function(l){return t.DH7(i.perPage,l)||(i.perPage=l),l}),t.k0s()()()(),t.j41(32,"div",17)(33,"button",18),t.bIt("click",function(){return i.onSubmit()}),t.EFF(34),t.nI1(35,"translate"),t.k0s(),t.j41(36,"button",19),t.EFF(37),t.nI1(38,"translate"),t.k0s()()()()()()()()),2&r&&(t.R7$(3),t.JRh(t.bMT(4,15,"Settings.nav.Note:")),t.R7$(3),t.SpI("",t.bMT(7,17,"Settings.paragraph.Numberofproductsperpage")," "),t.R7$(6),t.JRh(t.bMT(13,19,"Settings.personalize.product.WhatProductdetailsarerequired")),t.R7$(3),t.SpI("",t.bMT(16,21,"Settings.paragraph.Productsineachcategoryalso")," "),t.R7$(4),t.Y8G("isShow",t.bMT(20,23,i.sandbox.getSettingLoading$)),t.R7$(2),t.Y8G("formGroup",i.perProductForm),t.R7$(5),t.JRh(t.bMT(27,25,"Settings.personalize.product.DefaultItemsPerPage")),t.R7$(5),t.R50("ngModel",i.perPage),t.Y8G("hideUnAuthorized","edit-personalize-product"),t.R7$(2),t.Y8G("disabled",""===i.perPage)("hideUnAuthorized","edit-personalize-product"),t.R7$(),t.JRh(t.bMT(35,27,"Settings.Local.Save")),t.R7$(2),t.Y8G("routerLink",t.lJ4(31,G))("hideUnAuthorized","edit-personalize-product"),t.R7$(),t.JRh(t.bMT(38,29,"Settings.Local.Country.Cancel")))},dependencies:[x,a.qT,a.me,a.Q0,a.BC,a.cb,a.j4,a.JD,d.Wk,E.q,N.D,z.Jj,g.D9],styles:["mat-radio-button[_ngcontent-%COMP%]{padding:1px 3px}.settings-right-wrapper[_ngcontent-%COMP%]{margin-top:0!important}.coc[_ngcontent-%COMP%]{background:#f20a6d;border:solid thin #dddddd;color:#fff;padding:4px 16px}"]})}}return s})()}];let A=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[d.iI.forChild(V),d.iI]})}}return s})();var H=o(94194);let y=(()=>{class s extends H.j{constructor(){super(...arguments),this.url=this.getBaseUrl()}createProduct(e){return this.http.post(this.url+"/settings",e)}getProduct(){return this.http.get(this.url+"/settings?defaultWebsite=1")}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=t.xGo(s)))(i||s)}})()}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();var F=o(7673),b=o(96354),p=o(25558),O=o(88141),I=o(99437);let w=(()=>{class s{constructor(e,r){this.action$=e,this.service=r,this.doAddseo$=(0,u.EH)(()=>this.action$.pipe((0,u.gp)(c.Q3.DO_NEW_PRODUCT_SETTINGS),(0,b.T)(i=>i.payload),(0,p.n)(i=>this.service.createProduct(i).pipe((0,O.M)(n=>{sessionStorage.setItem("itemsPerPage",n.data.itemsPerPage),localStorage.setItem("itemsPerPage",n.data.itemsPerPage)}),(0,p.n)(n=>[new c.cr(n)]),(0,I.W)(n=>(0,F.of)(new c.Dz(n))))))),this.dogetseosetting$=(0,u.EH)(()=>this.action$.pipe((0,u.gp)(c.Q3.DO_PRODUCT_SETTINGS),(0,b.T)(i=>i.payload),(0,p.n)(()=>this.service.getProduct().pipe((0,p.n)(i=>[new c.MK(i)]),(0,I.W)(i=>(0,F.of)(new c.Pc(i)))))))}static{this.\u0275fac=function(r){return new(r||s)(t.KVO(u.En),t.KVO(y))}}static{this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}}return s})();var Y=o(99014),J=o(21626),W=o(88650),B=o(9948);let L=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({providers:[S,y],imports:[B.C,z.MD,M.D,a.YN,a.X1,C.G,A,W.h,g.h.forChild({loader:{provide:g.Wr,useFactory:Y.M,deps:[J.Qq]}}),u.Vm.forFeature([w])]})}}return s})()}}]);
"use strict";(self.webpackChunkspurtcommerce=self.webpackChunkspurtcommerce||[]).push([[9081],{39081:(J,h,i)=>{i.r(h),i.d(h,{AuthenticationModule:()=>z});var l=i(60177),b=i(37886),g=i(51188),r=i(89417),o=i(54438),f=i(98968),F=i(88068),p=i(345),v=i(108),u=i(41780);const c=e=>({validationcolor:e}),S=()=>({standalone:!0}),I=()=>["/auth/forgot-password"];function w(e,d){1&e&&(o.j41(0,"div",15),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.Usernamerequired")," "))}function P(e,d){1&e&&(o.j41(0,"div",15),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.Incorrectemail")," "))}function C(e,d){1&e&&(o.j41(0,"div",15),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.Passwordrequired")," "))}function M(e,d){1&e&&(o.j41(0,"div",15),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.UsernameorPasswordisincorrect")," "))}function k(e,d){1&e&&o.nrm(0,"span",16)}function E(e,d){1&e&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.JRh(o.bMT(2,1,"Profile.Login.login")))}const R=e=>({validationcolor:e}),L=()=>["/auth/login"];function y(e,d){1&e&&(o.j41(0,"div",9),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.Emailrequired")," "))}function $(e,d){1&e&&(o.j41(0,"div",9),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&e&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Profile.Login.Error.Incorrectemail")," "))}const j=[{path:"login",component:(()=>{class e{constructor(s,n,t,a){this.fb=s,this.authSandbox=n,this.layoutSandbox=t,this.title=a,this.emailPattern="[a-zA-Z0-9.-_-._]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.ifSubmitted=!1,this.badResponse=!1,this.subscriptions=[],this.emailInvalidShow=!1,this.title.setTitle("Admin Log In")}ngOnInit(){this.loginForm=this.fb.group({userName:["",[r.k0.required,r.k0.pattern(this.emailPattern)]],password:["",r.k0.required]})}validateAllFormFields(s){this.focusouterrorShow(),Object.keys(s.controls).forEach(n=>{const t=s.get(n);t instanceof r.hs?t.markAsTouched({onlySelf:!0}):t instanceof r.J3&&this.validateAllFormFields(t)})}focusouterrorShow(){this.emailInvalidShow=!["",null,void 0].includes(this.loginForm.value.userName)&&!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.loginForm.value.userName)}changeUSername(){this.emailInvalidShow=!1;let s=this.loginForm.get("userName").value;s&&this.loginForm.get("userName").setValue(s.replace(/\.com\s+$/,".com"))}onSubmit(s){if(this.ifSubmitted=!0,!this.loginForm.valid)return void this.validateAllFormFields(this.loginForm);const n={};n.userName=this.loginForm.value.userName,n.password=this.loginForm.value.password,this.authSandbox.authLogin(n),this.subscriptions.push(this.authSandbox.loginLoaded$.subscribe(t=>{if(!0===t){localStorage.setItem("keepMeSignIn",this.keepMeSignIn??!1);const a=JSON.parse(localStorage.getItem("adminUser"))?JSON.parse(localStorage.getItem("adminUser")):JSON.parse(sessionStorage.getItem("adminUser"));this.layoutSandbox.getUserDetail(a)}else this.loginForm.reset(),this.keepMeSignIn=""}))}ngOnDestroy(){this.subscriptions.forEach(s=>s.unsubscribe())}static{this.\u0275fac=function(n){return new(n||e)(o.rXU(r.ze),o.rXU(f.W),o.rXU(F.K),o.rXU(p.hE))}}static{this.\u0275cmp=o.VBU({type:e,selectors:[["app-spurt-login"]],decls:31,vars:31,consts:[["autocomplete","off",3,"ngSubmit","formGroup"],[1,"form-group","first"],["for",""],["type","text","formControlName","userName",1,"form-control",3,"focusout","input","placeholder","ngClass"],["class","validation-error",4,"ngIf"],[1,"form-group",2,"position","relative"],["type","password","passwordshow","","autocomplete","new-password","formControlName","password",1,"form-control",3,"keydown.space","placeholder","ngClass"],[1,"login-flexx"],[1,"custom-control","custom-checkbox","mr-sm-2"],["type","checkbox","id","checkbox1",1,"custom-control-input",3,"ngModelChange","ngModel","ngModelOptions"],["for","checkbox1",1,"custom-control-label",2,"cursor","pointer"],["href","javascript:void(0)",3,"routerLink"],[1,"form-btn"],["class","spinner-border spinner-border-sm ","style","margin-left:20px;width:23px;height:23px","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"validation-error"],["aria-hidden","true",1,"spinner-border","spinner-border-sm",2,"margin-left","20px","width","23px","height","23px"]],template:function(n,t){1&n&&(o.j41(0,"div")(1,"form",0),o.bIt("ngSubmit",function(){return t.onSubmit(t.loginForm.value)}),o.j41(2,"h1"),o.EFF(3),o.nI1(4,"translate"),o.k0s(),o.j41(5,"div",1)(6,"label",2),o.EFF(7,"Username *"),o.k0s(),o.j41(8,"input",3),o.nI1(9,"translate"),o.bIt("focusout",function(){return t.focusouterrorShow()})("input",function(){return t.changeUSername()}),o.k0s(),o.DNE(10,w,3,3,"div",4)(11,P,3,3,"div",4),o.k0s(),o.j41(12,"div",5)(13,"label",2),o.EFF(14,"Password *"),o.k0s(),o.j41(15,"input",6),o.nI1(16,"translate"),o.bIt("keydown.space",function(m){return m.preventDefault()}),o.k0s(),o.DNE(17,C,3,3,"div",4),o.k0s(),o.DNE(18,M,3,3,"div",4),o.j41(19,"div",7)(20,"div",8)(21,"input",9),o.mxI("ngModelChange",function(m){return o.DH7(t.keepMeSignIn,m)||(t.keepMeSignIn=m),m}),o.k0s(),o.j41(22,"label",10),o.EFF(23," Keep me signed in "),o.k0s()(),o.j41(24,"a",11),o.EFF(25," Forgot your password? "),o.k0s()(),o.j41(26,"button",12),o.DNE(27,k,1,0,"span",13),o.nI1(28,"async"),o.DNE(29,E,3,3,"span",14),o.nI1(30,"async"),o.k0s()()()),2&n&&(o.R7$(),o.Y8G("formGroup",t.loginForm),o.R7$(2),o.JRh(o.bMT(4,15,"Profile.Login.AdminLogin")),o.R7$(5),o.FS9("placeholder",o.bMT(9,17,"placeholder.User Name")),o.Y8G("ngClass",o.eq3(25,c,t.loginForm.get("userName").hasError("required")&&t.loginForm.get("userName").touched&&1==t.ifSubmitted||1==t.badResponse||t.emailInvalidShow)),o.R7$(2),o.Y8G("ngIf",t.loginForm.get("userName").hasError("required")&&t.loginForm.get("userName").touched&&1==t.ifSubmitted),o.R7$(),o.Y8G("ngIf",t.emailInvalidShow),o.R7$(4),o.FS9("placeholder",o.bMT(16,19,"placeholder.Password")),o.Y8G("ngClass",o.eq3(27,c,t.loginForm.get("password").hasError("required")&&t.loginForm.get("password").touched&&1==t.ifSubmitted||1==t.badResponse)),o.R7$(2),o.Y8G("ngIf",t.loginForm.get("password").hasError("required")&&t.loginForm.get("password").touched&&1==t.ifSubmitted),o.R7$(),o.Y8G("ngIf",1==t.badResponse),o.R7$(3),o.R50("ngModel",t.keepMeSignIn),o.Y8G("ngModelOptions",o.lJ4(29,S)),o.R7$(3),o.Y8G("routerLink",o.lJ4(30,I)),o.R7$(3),o.Y8G("ngIf",o.bMT(28,21,t.authSandbox.loginLoading$)),o.R7$(2),o.Y8G("ngIf",!o.bMT(30,23,t.authSandbox.loginLoading$)))},dependencies:[l.YU,l.bT,g.Wk,v.s,r.qT,r.me,r.Zm,r.BC,r.cb,r.j4,r.JD,r.vS,l.Jj,u.D9],styles:[".validationcolor[_ngcontent-%COMP%]{border-color:red}.error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]     .fa, .log-group[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-top:0!important;margin-right:5px}[_nghost-%COMP%]     .password-show-hide{top:2.7rem!important}"]})}}return e})()},{path:"forgot-password",component:(()=>{class e{constructor(s,n,t){this.fb=s,this.authSandbox=n,this.title=t,this.emailPattern="[a-zA-Z0-9.-_-._]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}",this.ifSubmitted=!1,this.title.setTitle("Forgot Password")}ngOnInit(){this.forgotPasswordForm=this.fb.group({email:["",[r.k0.required,r.k0.pattern(this.emailPattern)]]})}onSubmits(s,n){if(this.ifSubmitted=!0,!this.forgotPasswordForm.valid)return void this.validateAllFormFields(this.forgotPasswordForm);const t={};t.email=this.forgotPasswordForm.value.email,this.authSandbox.authForget(t),this.authSandbox.forgorPasswordResponse$.subscribe(a=>{(a&&!0===a||!1===a)&&(this.ifSubmitted=!1,this.forgotPasswordForm.reset(),this.forgotPasswordForm.clearValidators())})}validateAllFormFields(s){Object.keys(s.controls).forEach(n=>{const t=s.get(n);t instanceof r.hs?t.markAsTouched({onlySelf:!0}):t instanceof r.J3&&this.validateAllFormFields(t)})}static{this.\u0275fac=function(n){return new(n||e)(o.rXU(r.ze),o.rXU(f.W),o.rXU(p.hE))}}static{this.\u0275cmp=o.VBU({type:e,selectors:[["app-spurt-forgot-password"]],decls:19,vars:23,consts:[[3,"ngSubmit","formGroup"],[1,"form-group"],["type","text","formControlName","email",1,"form-control",3,"placeholder","ngClass"],["class","validation-error",4,"ngIf"],[1,"login-flexx"],[1,"custom-control","custom-checkbox","mr-sm-2"],["href","javascript:void(0)",3,"routerLink"],[1,"form-btn"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","pull-right",3,"hidden"],[1,"validation-error"]],template:function(n,t){1&n&&(o.j41(0,"form",0),o.bIt("ngSubmit",function(m){return t.onSubmits(m,t.forgotPasswordForm.value)}),o.j41(1,"h1"),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"div",1),o.nrm(5,"input",2),o.nI1(6,"translate"),o.k0s(),o.DNE(7,y,3,3,"div",3)(8,$,3,3,"div",3),o.j41(9,"div",4),o.nrm(10,"div",5),o.j41(11,"a",6),o.EFF(12),o.nI1(13,"translate"),o.k0s()(),o.j41(14,"button",7),o.EFF(15),o.nI1(16,"translate"),o.nrm(17,"span",8),o.nI1(18,"async"),o.k0s()()),2&n&&(o.Y8G("formGroup",t.forgotPasswordForm),o.R7$(2),o.JRh(o.bMT(3,10,"Profile.Login.forgotpassword")),o.R7$(3),o.FS9("placeholder",o.bMT(6,12,"placeholder.Email")),o.Y8G("ngClass",o.eq3(20,R,t.forgotPasswordForm.get("email").hasError("required")&&t.forgotPasswordForm.get("email").touched&&1==t.ifSubmitted)),o.R7$(2),o.Y8G("ngIf",t.forgotPasswordForm.get("email").hasError("required")&&t.forgotPasswordForm.get("email").touched&&1==t.ifSubmitted),o.R7$(),o.Y8G("ngIf",t.forgotPasswordForm.get("email").hasError("pattern")&&t.forgotPasswordForm.get("email").touched&&1==t.ifSubmitted),o.R7$(3),o.Y8G("routerLink",o.lJ4(22,L)),o.R7$(),o.SpI(" ",o.bMT(13,14,"Profile.Login.BacktoLogin")," "),o.R7$(3),o.SpI(" ",o.bMT(16,16,"Profile.Login.Submit"),""),o.R7$(2),o.Y8G("hidden",!o.bMT(18,18,t.authSandbox.forgotpasswordLoading$)))},dependencies:[l.YU,l.bT,g.Wk,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,l.Jj,u.D9],styles:[".validationcolor[_ngcontent-%COMP%]{border-color:red}.error[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:.53px;color:#000!important;height:53px;border-radius:2px;border:solid 1px #d6d6d6;background-color:#fff}.card-align[_ngcontent-%COMP%]{margin-top:15%}.cards[_ngcontent-%COMP%]{box-shadow:0 2px 10px #00000026;background-color:#fff;width:70%;margin:auto;padding:3% 5%}.cards[_ngcontent-%COMP%]   .admin[_ngcontent-%COMP%]{font-size:18px;font-weight:600;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#264151;margin-bottom:7%}.cards[_ngcontent-%COMP%]   .btn-log[_ngcontent-%COMP%]{height:53px;background-color:#264151;border-radius:.1875rem;font-size:18px;font-weight:500;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#fff;width:100%;margin:5% 0% 3%}.cards[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;font-weight:400;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:#514c4c;text-decoration:underline;text-align:right;margin:3% 0% 5%}"]})}}return e})()}];let O=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=o.$C({type:e})}static{this.\u0275inj=o.G2t({imports:[g.iI.forChild(j),g.iI]})}}return e})();var N=i(28380),A=i(74054),U=i(28455),G=i(99014),Y=i(21626),x=i(48256),D=i(13488);let z=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=o.$C({type:e})}static{this.\u0275inj=o.G2t({providers:[N.u,f.W],imports:[l.MD,O,b.UN,D.V,r.X1,r.YN,x._B.forRoot({easing:"ease-in",maxOpened:1,autoDismiss:!0}),A.Vm.forFeature([U.D]),u.h.forChild({loader:{provide:u.Wr,useFactory:G.M,deps:[Y.Qq]}})]})}}return e})()}}]);